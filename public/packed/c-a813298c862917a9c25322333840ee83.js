!function(){function provide(t,e){e(function(e){modules[t]=e})}function using(){for(var t,e=Array.prototype.slice.call(arguments,0,-1),i=0,n=[],r=arguments[arguments.length-1];t=e[i];i++){if(!modules[t])throw"[TWITTER] Module dependency missing: "+t;n.push(modules[t])}r&&r.apply(window,n)}var modules={};provide("util/util",function(t){function e(t){return t&&String(t).toLowerCase().indexOf("[native code]")>-1}function i(t){return f(arguments,function(e){r(e,function(e,i){t[e]=i})}),t}function n(t){return r(t,function(e,i){u(i)&&(n(i),l(i)&&delete t[e]),(void 0===i||null===i||""===i)&&delete t[e]}),t}function r(t,e){for(var i in t)(!t.hasOwnProperty||t.hasOwnProperty(i))&&e(i,t[i]);return t}function o(t){return{}.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function s(t,e){return t==o(e)}function a(t,e,i){return i=i||[],function(){var n=w(arguments,function(t){return t});return t.apply(e,i.concat(n))}}function u(t){return t===Object(t)}function l(t){if(!u(t))return!1;if(Object.keys)return!Object.keys(t).length;for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function c(t,e){window.setTimeout(function(){t.call(e||null)},0)}function d(t){return Array.prototype.slice.call(t)}var h=function(){var t=Array.prototype.indexOf;return e(t)?function(e,i){return e?t.apply(e,[i]):-1}:function(t,e){if(!t)return-1;for(var i=0,n=t.length;n>i;i++)if(e==t[i])return i;return-1}}(),f=function(){var t=Array.prototype.forEach;return e(t)?function(e,i){e&&i&&t.apply(e,[i])}:function(t,e){if(t&&e)for(var i=0,n=t.length;n>i;i++)e(t[i],i)}}(),m=function(){var t=Array.prototype.filter;return e(t)?function(e,i){return e?i?t.apply(e,[i]):e:null}:function(t,e){if(!t)return null;if(!e)return t;for(var i=[],n=0,r=t.length;r>n;n++)e(t[n])&&i.push(t[n]);return i}}(),w=function(){var t=Array.prototype.map;return e(t)?function(e,i){return e?i?t.apply(e,[i]):e:null}:function(t,e){if(!t)return null;if(!e)return t;for(var i=[],n=0,r=t.length;r>n;n++)i.push(e(t[n]));return i}}(),p=function(){var t=Array.prototype.reduce;return e(t)?function(e,i,n){return e?i?t.apply(e,[i,n]):n:null}:function(t,e,i){if(!t)return null;if(!e)return i;for(var n=i,r=0,o=t.length;o>r;r++)n=e(n,t[r],r,t);return n}}(),g=function(){var t=String.prototype.trim;return e(t)?function(e){return e&&t.apply(e)}:function(t){return t&&t.replace(/(^\s+|\s+$)/g,"")}}(),v=e(Object.create)?Object.create:function(t){function e(){}return e.prototype=t,new e};t({aug:i,async:c,compact:n,forIn:r,forEach:f,filter:m,map:w,reduce:p,trim:g,indexOf:h,isNative:e,isObject:u,isEmptyObject:l,createObject:v,bind:a,toType:o,isType:s,toRealArray:d})}),provide("util/typevalidator",function(t){using("util/util",function(e){function i(t){return void 0!==t&&null!==t&&""!==t}function n(t){return o(t)&&t%1===0}function r(t){return o(t)&&!n(t)}function o(t){return i(t)&&!isNaN(t)}function s(t){return i(t)&&"array"==e.toType(t)}function a(t){if(!i(t))return!1;switch(t){case"on":case"ON":case"true":case"TRUE":return!0;case"off":case"OFF":case"false":case"FALSE":return!1;default:return!!t}}function u(t){return o(t)?t:void 0}function l(t){return r(t)?t:void 0}function c(t){return n(t)?t:void 0}t({hasValue:i,isInt:n,isFloat:r,isNumber:o,isArray:s,asInt:c,asFloat:l,asNumber:u,asBoolean:a})})}),provide("tfw/util/globals",function(t){using("util/typevalidator",function(e){function i(){var t,e,i=document.getElementsByTagName("meta"),n=0;for(o={};t=i[n];n++)/^twitter:/.test(t.name)&&(e=t.name.replace(/^twitter:/,""),o[e]=t.content)}function n(t){return o[t]}function r(t){return e.asBoolean(t)&&(o.dnt=!0),e.asBoolean(o.dnt)}var o;i(),t({init:i,val:n,dnt:r})})}),provide("util/logger",function(t){using("util/util",function(e){function i(){u("info",e.toRealArray(arguments))}function n(){u("warn",e.toRealArray(arguments))}function r(){u("error",e.toRealArray(arguments))}function o(t){d&&(c[t]=a())}function s(t){var e;d&&(c[t]?(e=a(),i("_twitter",t,e-c[t])):r("timeEnd()called before time()for id:",t))}function a(){return window.performance&&+window.performance.now()||+new Date}function u(t,e){if(window[l]&&window[l][t])switch(e.length){case 1:window[l][t](e[0]);break;case 2:window[l][t](e[0],e[1]);break;case 3:window[l][t](e[0],e[1],e[2]);break;case 4:window[l][t](e[0],e[1],e[2],e[3]);break;case 5:window[l][t](e[0],e[1],e[2],e[3],e[4]);break;default:0!==e.length&&window[l].warn&&window[l].warn("too many params passed to logger."+t)}}var l=["con","sole"].join(""),c={},d=!!~location.href.indexOf("tw_debug=true");t({info:i,warn:n,error:r,time:o,timeEnd:s})})}),provide("util/domready",function(t){function e(){o=1;for(var t=0,e=s.length;e>t;t++)s[t]()}var i,n,r,o=0,s=[],a=!1,u=document.createElement("a"),l="DOMContentLoaded",c="addEventListener",d="onreadystatechange";/^loade|c/.test(document.readyState)&&(o=1),document[c]&&document[c](l,n=function(){document.removeEventListener(l,n,a),e()},a),u.doScroll&&document.attachEvent(d,i=function(){/^c/.test(document.readyState)&&(document.detachEvent(d,i),e())}),r=u.doScroll?function(t){window.self!=window.top?o?t():s.push(t):!function(){try{u.doScroll("left")}catch(e){return setTimeout(function(){r(t)},50)}t()}()}:function(t){o?t():s.push(t)},t(r)}),provide("util/env",function(t){using("util/domready","util/typevalidator","util/logger","tfw/util/globals",function(e,i,n,r){function o(t){return t=t||window,t.devicePixelRatio?t.devicePixelRatio>=1.5:t.matchMedia?t.matchMedia("only screen and(min-resolution:144dpi)").matches:!1}function s(t){return t=t||v,/(Trident|MSIE \d)/.test(t)}function a(t){return t=t||v,/MSIE 6/.test(t)}function u(t){return t=t||v,/MSIE 7/.test(t)}function l(t){return t=t||v,/MSIE 8/.test(t)}function c(t){return t=t||v,/MSIE 9/.test(t)}function d(t){return t=t||v,/(iPad|iPhone|iPod)/.test(t)}function h(t){return t=t||v,/^Mozilla\/5\.0 \(Linux; (U; )?Android/.test(t)}function f(){return b}function m(t,e){return t=t||window,e=e||v,t.postMessage&&!(s(e)&&t.opener)}function w(t){t=t||navigator;try{return!!t.plugins["Shockwave Flash"]||!!new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(e){return!1}}function p(t,e,i){return t=t||window,e=e||navigator,i=i||v,"ontouchstart"in t||/Opera Mini/.test(i)||e.msMaxTouchPoints>0}function g(){var t=document.body.style;return void 0!==t.transition||void 0!==t.webkitTransition||void 0!==t.mozTransition||void 0!==t.oTransition||void 0!==t.msTransition}var v=window.navigator.userAgent,b=!1,y=!1,_="twitter-csp-test";window.twttr=window.twttr||{},twttr.verifyCSP=function(t){var e=document.getElementById(_);y=!0,b=!!t,e&&e.parentNode.removeChild(e)},e(function(){var t;return a()||u()?b=!1:i.asBoolean(r.val("widgets:csp"))?b=!0:(t=document.createElement("script"),t.id=_,t.text="twttr.verifyCSP(false);",document.body.appendChild(t),void window.setTimeout(function(){y||(n.warn('TWITTER: Content Security Policy restrictions may be applied to your site. Add <meta name="twitter:widgets:csp" content="on"> to supress this warning.'),n.warn("TWITTER:Please note:Not all embedded timeline and embedded Tweet functionality is supported when CSP is applied."))},5e3))}),t({retina:o,anyIE:s,ie6:a,ie7:u,ie8:l,ie9:c,ios:d,android:h,cspEnabled:f,flashEnabled:w,canPostMessage:m,touch:p,cssTransitions:g})})}),provide("util/querystring",function(t){function e(t){return encodeURIComponent(t).replace(/\+/g,"%2B").replace(/'/g,"%27")}function i(t){return decodeURIComponent(t)}function n(t){var i,n=[];for(i in t)null!==t[i]&&"undefined"!=typeof t[i]&&n.push(e(i)+"="+e(t[i]));return n.sort().join("&")}function r(t){var e,n,r,o,s={};if(t)for(e=t.split("&"),o=0;r=e[o];o++)n=r.split("="),2==n.length&&(s[i(n[0])]=i(n[1]));return s}function o(t,e){var i=n(e);return i.length>0?t.indexOf("?")>=0?t+"&"+n(e):t+"?"+n(e):t}function s(t){var e=t&&t.split("?");return 2==e.length?r(e[1]):{}}t({url:o,decodeURL:s,decode:r,encode:n,encodePart:e,decodePart:i})}),provide("util/params",function(t){using("util/querystring",function(e){var i,n,r;i=function(t){var i=t.search.substr(1);return e.decode(i)},n=function(t){var i=t.href,n=i.indexOf("#"),r=0>n?"":i.substring(n+1);return e.decode(r)},r=function(t){var e,r={},o=i(t),s=n(t);for(e in o)o.hasOwnProperty(e)&&(r[e]=o[e]);for(e in s)s.hasOwnProperty(e)&&(r[e]=s[e]);return r},t({combined:r,fromQuery:i,fromFragment:n})})}),provide("tfw/util/env",function(t){using("util/params",function(e){function i(){var t=36e5,i=e.combined(document.location)._;return void 0!==n?n:(n=!1,i&&/^\d+$/.test(i)&&(n=+new Date-parseInt(i)<t),n)}var n;t({isDynamicWidget:i})})}),provide("util/widgetrpc",function(t){using("tfw/util/env","util/env",function(e,i){function n(){if(o)return o;if(e.isDynamicWidget()){var t,n=0,r=parent.frames.length;try{if(o=parent.frames[u])return o}catch(s){}if(i.anyIE())for(;r>n;n++)try{if(t=parent.frames[n],t&&"function"==typeof t.openIntent)return o=t}catch(s){}}}function r(){var t,i,o,a,u,h,f={};if("function"===(typeof arguments[0]).toLowerCase()?f.success=arguments[0]:f=arguments[0],t=f.success||function(){},i=f.timeout||function(){},o=f.nohub||function(){},a=f.complete||function(){},u=void 0!==f.attempt?f.attempt:d,!e.isDynamicWidget()||s)return o(),a(),!1;h=n(),u--;try{if(h&&h.trigger)return t(h),void a()}catch(m){}return 0>=u?(s=!0,i(),void a()):+new Date-l>c*d?(s=!0,void o()):void window.setTimeout(function(){r({success:t,timeout:i,nohub:o,attempt:u,complete:a})},c)}var o,s,a="twttrHubFrameSecure",u="http:"==document.location.protocol?"twttrHubFrame":a,l=+new Date,c=100,d=20;t({withHub:r,contextualHubId:u,secureHubId:a})})}),provide("util/promise",function(t){using("util/util",function(e){var i=function(t){try{var e=t.then;if("function"==typeof e)return!0}catch(i){}return!1},n=function(t){Error.call(this,t)};n.prototype=e.createObject(Error.prototype);var r=function(){var t=[];return t.pump=function(i){e.async(function(){for(var e=t.length,n=0;e>n;)n++,t.shift()(i)})},t},o=function(t,n,r,o,s,a){var u=!1,l=this,c=function(t){e.async(function(){a("fulfilled"),o(t),n.pump(t)})},d=function(t){e.async(function(){a("rejected"),s(t),r.pump(t)})},h=function(t){return i(t)?void t.then(h,d):void c(t)},f=function(t){return function(e){u||(u=!0,t(e))}};this.resolve=f(h,"resolve"),this.fulfill=f(c,"fulfill"),this.reject=f(d,"reject"),this.cancel=function(){l.reject(new Error("Cancel"))},this.timeout=function(){l.reject(new Error("Timeout"))},a("pending")},s=function(t){var e,i,n=new r,s=new r,a="pending";this._addAcceptCallback=function(t){n.push(t),"fulfilled"==a&&n.pump(e)},this._addRejectCallback=function(t){s.push(t),"rejected"==a&&s.pump(i)};var u=new o(this,n,s,function(t){e=t},function(t){i=t},function(t){a=t});try{t&&t(u)}catch(l){u.reject(l)}},a=function(t){return"function"==typeof t},u=function(t,i,n){return a(t)?function(){try{var e=t.apply(null,arguments);i.resolve(e)}catch(n){i.reject(n)}}:e.bind(i[n],i)},l=function(t,e,i){return a(t)&&i._addAcceptCallback(t),a(e)&&i._addRejectCallback(e),i};e.aug(s.prototype,{then:function(t,e){var i=this;return new s(function(n){l(u(t,n,"resolve"),u(e,n,"reject"),i)})},"catch":function(t){var e=this;return new s(function(i){l(null,u(t,i,"reject"),e)})}}),s.isThenable=i;var c=function(t){return e.map(t,s.resolve)};s.any=function(){var t=c(arguments);return new s(function(i){if(t.length){var n=!1,r=function(t){n||(n=!0,i.resolve(t))},o=function(t){n||(n=!0,i.reject(t))};e.forEach(t,function(t){t.then(r,o)})}else i.reject("No futures passed to Promise.any()")})},s.every=function(){var t=c(arguments);return new s(function(i){if(t.length){var n=new Array(t.length),r=0,o=function(e,o){r++,n[e]=o,r==t.length&&i.resolve(n)};e.forEach(t,function(t,n){t.then(e.bind(o,null,[n]),i.reject)})}else i.reject("No futures passed to Promise.every()")})},s.some=function(){var t=c(arguments);return new s(function(i){if(t.length){var n=0,r=function(){n++,n==t.length&&i.reject()};e.forEach(t,function(t){t.then(i.resolve,r)})}else i.reject("No futures passed to Promise.some()")})},s.fulfill=function(t){return new s(function(e){e.fulfill(t)})},s.resolve=function(t){return new s(function(e){e.resolve(t)})},s.reject=function(t){return new s(function(e){e.reject(t)})},t(s)})}),provide("util/layout",function(t){using("util/promise",function(e){function i(){}var n,r=[];i.prototype.enqueue=function(t,i){return new e(function(e){r.push({action:t,resolver:e,note:i})})},i.prototype.exec=function(){var t,e=r;if(e.length)for(r=[];e.length;)t=e.shift(),t&&t.action?t.resolver.fulfill(t.action()):t.resolver.reject()},i.prototype.delayedExec=function(){n&&window.clearTimeout(n),n=window.setTimeout(this.exec,100)},t(i)})}),provide("util/iframe",function(t){using("util/util",function(e){t(function(t,i,n){var r;if(n=n||document,t=t||{},i=i||{},t.name){try{r=n.createElement('<iframe name="'+t.name+'"></iframe>')}catch(o){r=n.createElement("iframe"),r.name=t.name}delete t.name}else r=n.createElement("iframe");return t.id&&(r.id=t.id,delete t.id),r.allowtransparency="true",r.scrolling="no",r.setAttribute("frameBorder",0),r.setAttribute("allowTransparency",!0),e.forIn(t,function(t,e){r.setAttribute(t,e)}),e.forIn(i,function(t,e){r.style[t]=e}),r})})}),provide("dom/get",function(t){using("util/util",function(e){function i(t,e,i){return r(t,e,i,1)[0]}function n(t,i,r){var o,s=i&&i.parentNode;if(s&&s!==r)return s.tagName==t?s:(o=s.className.split(" "),0===t.indexOf(".")&&~e.indexOf(o,t.slice(1))?s:n(t,s,r))}var r=function(){var t=document.getElementsByClassName;return e.isNative(t)?function(i,n,r,o){var s=n?n.getElementsByClassName(i):t.call(document,i),a=e.filter(s,function(t){return!r||t.tagName.toLowerCase()==r.toLowerCase()});return[].slice.call(a,0,o||a.length)}:function(t,i,n,r){var o,s,a,u,l,c,d,h,f=[];for(i=i||document,a=t.split(" "),c=a.length,o=i.getElementsByTagName(n||"*"),h=o.length,l=0;c>l&&h>0;l++){for(f=[],u=a[l],d=0;h>d&&(s=o[d],~e.indexOf(s.className.split(" "),u)&&f.push(s),l+1!=c||f.length!==r);d++);o=f,h=o.length}return f}}();t({all:r,one:i,ancestor:n})})}),provide("tfw/widget/base",function(t){using("dom/get","util/domready","util/iframe","util/layout","util/promise","util/querystring","util/typevalidator","util/util","tfw/util/globals","util/logger",function(e,i,n,r,o,s,a,u,l,c){function d(t){var e;t&&(t.ownerDocument?(this.srcEl=t,this.classAttr=t.className.split(" ")):(this.srcOb=t,this.classAttr=[]),e=this.params(),this.id=this.generateId(),this.setLanguage(),this.related=e.related||this.dataAttr("related"),this.partner=e.partner||this.dataAttr("partner")||l.val("partner"),this.dnt=e.dnt||this.dataAttr("dnt")||l.dnt()||"",this.styleAttr=[],this.targetEl=t.targetEl,p[this.id]=this,this.completePromise=new o(u.bind(function(t){this.completeResolver=t},this)),this.completed().then(function(t){t&&t!=document.body&&twttr.events.trigger("rendered",{target:t})}))}function h(){u.forEach(g,function(t){t()}),d.doLayout()}function f(t){return t?t.lang?t.lang:f(t.parentNode):void 0}var m,w=0,p={},g=[],v=new r,b="data-twttr-rendered",y={ar:{"%{followers_count}followers":"عدد المتابعين%{followers_count}","100K+":"+100ألف","10k unit":"10آلاف وحدة",Follow:"تابِع","Follow%{screen_name}":"تابِع%{screen_name}",K:"ألف",M:"م",Tweet:"غرِّد","Tweet%{hashtag}":"غرِّد%{hashtag}","Tweet to%{name}":"غرِّد لـ%{name}"},bn:{"Follow%{screen_name}":"%{screen_name}-কে অনুসরণ করুন"},cs:{"Follow%{screen_name}":"Sledovat uživatele%{screen_name}"},da:{"%{followers_count}followers":"%{followers_count}følgere","10k unit":"10k enhed",Follow:"Følg","Follow%{screen_name}":"Følg%{screen_name}","Tweet to%{name}":"Tweet til%{name}"},de:{"%{followers_count}followers":"%{followers_count}Follower","100K+":"100Tsd+","10k unit":"10tsd-Einheit",Follow:"Folgen","Follow%{screen_name}":"%{screen_name}folgen",K:"Tsd",Tweet:"Twittern","Tweet to%{name}":"Tweet an%{name}"},es:{"%{followers_count}followers":"%{followers_count}seguidores","10k unit":"unidad de 10 mil",Follow:"Seguir","Follow%{screen_name}":"Seguir a%{screen_name}",Tweet:"Twittear","Tweet%{hashtag}":"Twittear%{hashtag}","Tweet to%{name}":"Twittear a%{name}"},fa:{"%{followers_count}followers":"%{followers_count}دنبال‌کننده","100K+":">۱۰۰هزار","10k unit":"۱۰هزار واحد",Follow:"دنبال کردن","Follow%{screen_name}":"دنبال کردن%{screen_name}",K:"هزار",M:"میلیون",Tweet:"توییت","Tweet%{hashtag}":"توییت کردن%{hashtag}","Tweet to%{name}":"به%{name}توییت کنید"},fi:{"%{followers_count}followers":"%{followers_count}seuraajaa","100K+":"100 000+","10k unit":"10 000 yksikköä",Follow:"Seuraa","Follow%{screen_name}":"Seuraa käyttäjää%{screen_name}",K:"tuhatta",M:"milj.",Tweet:"Twiittaa","Tweet%{hashtag}":"Twiittaa%{hashtag}","Tweet to%{name}":"Twiittaa käyttäjälle%{name}"},fil:{"%{followers_count}followers":"%{followers_count}mga tagasunod","10k unit":"10k yunit",Follow:"Sundan","Follow%{screen_name}":"Sundan si%{screen_name}",Tweet:"I-tweet","Tweet%{hashtag}":"I-tweet ang%{hashtag}","Tweet to%{name}":"Mag-Tweet kay%{name}"},fr:{"%{followers_count}followers":"%{followers_count}abonnés","10k unit":"unité de 10k",Follow:"Suivre","Follow%{screen_name}":"Suivre%{screen_name}",Tweet:"Tweeter","Tweet%{hashtag}":"Tweeter%{hashtag}","Tweet to%{name}":"Tweeterà%{name}"},he:{"%{followers_count}followers":"%{followers_count}עוקבים","100K+":"מאות אלפים","10k unit":"עשרות אלפים",Follow:"מעקב","Follow%{screen_name}":"לעקוב אחר%{screen_name}",K:"אלף",M:"מיליון",Tweet:"ציוץ","Tweet%{hashtag}":"צייצו%{hashtag}","Tweet to%{name}":"ציוץ אל%{name}"},hi:{"%{followers_count}followers":"%{followers_count}फ़ॉलोअर्स","100K+":"1लाख से अधिक","10k unit":"10हजार इकाईयां",Follow:"फ़ॉलो","Follow%{screen_name}":"%{screen_name}को फ़ॉलो करें",K:"हजार",M:"मिलियन",Tweet:"ट्वीट","Tweet%{hashtag}":"ट्वीट%{hashtag}","Tweet to%{name}":"%{name}के प्रति ट्वीट करें"},hu:{"%{followers_count}followers":"%{followers_count}követő","100K+":"100E+","10k unit":"10E+",Follow:"Követés","Follow%{screen_name}":"%{screen_name}követése",K:"E","Tweet%{hashtag}":"%{hashtag}tweetelése","Tweet to%{name}":"Tweet küldése neki:%{name}"},id:{"%{followers_count}followers":"%{followers_count}pengikut","100K+":"100 ribu+","10k unit":"10 ribu unit",Follow:"Ikuti","Follow%{screen_name}":"Ikuti%{screen_name}",K:"&nbsp;ribu",M:"&nbsp;juta","Tweet to%{name}":"Tweet ke%{name}"},it:{"%{followers_count}followers":"%{followers_count}follower","10k unit":"10k unità",Follow:"Segui","Follow%{screen_name}":"Segui%{screen_name}","Tweet%{hashtag}":"Twitta%{hashtag}","Tweet to%{name}":"Twitta a%{name}"},ja:{"%{followers_count}followers":"%{followers_count}人のフォロワー","100K+":"100K以上","10k unit":"万",Follow:"フォローする","Follow%{screen_name}":"%{screen_name}さんをフォロー",Tweet:"ツイート","Tweet%{hashtag}":"%{hashtag}をツイートする","Tweet to%{name}":"%{name}さんへツイートする"},ko:{"%{followers_count}followers":"%{followers_count}명의 팔로워","100K+":"100만 이상","10k unit":"만 단위",Follow:"팔로우","Follow%{screen_name}":"%{screen_name}님 팔로우하기",K:"천",M:"백만",Tweet:"트윗","Tweet%{hashtag}":"%{hashtag}관련 트윗하기","Tweet to%{name}":"%{name}님에게 트윗하기"},msa:{"%{followers_count}followers":"%{followers_count}pengikut","100K+":"100 ribu+","10k unit":"10 ribu unit",Follow:"Ikut","Follow%{screen_name}":"Ikut%{screen_name}",K:"ribu",M:"juta","Tweet to%{name}":"Tweet kepada%{name}"},nl:{"%{followers_count}followers":"%{followers_count}volgers","100K+":"100k+","10k unit":"10k-eenheid",Follow:"Volgen","Follow%{screen_name}":"%{screen_name}volgen",K:"k",M:" mln.",Tweet:"Tweeten","Tweet%{hashtag}":"%{hashtag}tweeten","Tweet to%{name}":"Tweeten naar%{name}"},no:{"%{followers_count}followers":"%{followers_count}følgere","100K+":"100 K+","10k unit":"10-K-enhet",Follow:"Følg","Follow%{screen_name}":"Følg%{screen_name}","Tweet to%{name}":"Send en tweet til%{name}"},pl:{"%{followers_count}followers":"%{followers_count}obserwujących","100K+":"100 tys.+","10k unit":"10 tys.",Follow:"Obserwuj","Follow%{screen_name}":"Obserwuj%{screen_name}",K:"tys.",M:"mln",Tweet:"Tweetnij","Tweet%{hashtag}":"Tweetnij%{hashtag}","Tweet to%{name}":"Tweetnij do%{name}"},pt:{"%{followers_count}followers":"%{followers_count}seguidores","100K+":"+100 mil","10k unit":"10 mil unidades",Follow:"Seguir","Follow%{screen_name}":"Seguir%{screen_name}",K:"Mil",Tweet:"Tweetar","Tweet%{hashtag}":"Tweetar%{hashtag}","Tweet to%{name}":"Tweetar para%{name}"},ro:{"Follow%{screen_name}":"Urmăreşte pe%{screen_name}"},ru:{"%{followers_count}followers":"Читатели:%{followers_count}","100K+":"100тыс.+","10k unit":"блок 10k",Follow:"Читать","Follow%{screen_name}":"Читать%{screen_name}",K:"тыс.",M:"млн.",Tweet:"Твитнуть","Tweet%{hashtag}":"Твитнуть%{hashtag}","Tweet to%{name}":"Твитнуть%{name}"},sv:{"%{followers_count}followers":"%{followers_count}följare","10k unit":"10k",Follow:"Följ","Follow%{screen_name}":"Följ%{screen_name}",Tweet:"Tweeta","Tweet%{hashtag}":"Tweeta%{hashtag}","Tweet to%{name}":"Tweeta till%{name}"},th:{"%{followers_count}followers":"%{followers_count}ผู้ติดตาม","100K+":"100พัน+","10k unit":"หน่วย 10พัน",Follow:"ติดตาม","Follow%{screen_name}":"ติดตาม%{screen_name}",M:"ล้าน",Tweet:"ทวีต","Tweet%{hashtag}":"ทวีต%{hashtag}","Tweet to%{name}":"ทวีตถึง%{name}"},tr:{"%{followers_count}followers":"%{followers_count}takipçi","100K+":"+100 bin","10k unit":"10 bin birim",Follow:"Takip et","Follow%{screen_name}":"Takip et:%{screen_name}",K:"bin",M:"milyon",Tweet:"Tweetle","Tweet%{hashtag}":"Tweetle:%{hashtag}","Tweet to%{name}":"Tweetle:%{name}"},uk:{"Follow%{screen_name}":"Читати%{screen_name}"},ur:{"%{followers_count}followers":"%{followers_count}فالورز","100K+":"ایک لاکھ سے زیادہ","10k unit":"دس ہزار یونٹ",Follow:"فالو کریں","Follow%{screen_name}":"%{screen_name}کو فالو کریں",K:"ہزار",M:"ملین",Tweet:"ٹویٹ کریں","Tweet%{hashtag}":"%{hashtag}ٹویٹ کریں","Tweet to%{name}":"%{name}کو ٹویٹ کریں"},vi:{"Follow%{screen_name}":"Theo dõi%{screen_name}"},"zh-cn":{"%{followers_count}followers":"%{followers_count}关注者","100K+":"10万+","10k unit":"1万单元",Follow:"关注","Follow%{screen_name}":"关注%{screen_name}",K:"千",M:"百万",Tweet:"发推","Tweet%{hashtag}":"以%{hashtag}发推","Tweet to%{name}":"发推给%{name}"},"zh-tw":{"%{followers_count}followers":"%{followers_count}位跟隨者","100K+":"超過十萬","10k unit":"1萬 單位",Follow:"跟隨","Follow%{screen_name}":"跟隨%{screen_name}",K:"千",M:"百萬",Tweet:"推文","Tweet%{hashtag}":"推文%{hashtag}","Tweet to%{name}":"推文給%{name}"}};u.aug(d.prototype,{setLanguage:function(t){var e;return t||(t=this.params().lang||this.dataAttr("lang")||f(this.srcEl)),(t=t&&t.toLowerCase())?y[t]?this.lang=t:(e=t.replace(/[\-_].*/,""),y[e]?this.lang=e:void(this.lang="en")):this.lang="en"},_:function(t,e){var i=this.lang;return e=e||{},i&&y.hasOwnProperty(i)||(i=this.lang="en"),t=y[i]&&y[i][t]||t,this.ringo(t,e,/%\{([\w_]+)\}/g)},ringo:function(t,e,i){return i=i||/\{\{([\w_]+)\}\}/g,t.replace(i,function(t,i){return void 0!==e[i]?e[i]:t})},makeIframeSource:function(){if(this.iframeSource){var t=s.encode(this.widgetUrlParams());return[twttr.widgets.config.assetUrl(),this.ringo(this.iframeSource,{lang:this.lang}),"#",t].join("")}},add:function(t){p[this.id]=t},create:function(t,e,i){var r,s=this;return i[b]=!0,r=n(u.aug({id:this.id,src:t,"class":this.classAttr.join(" ")},i),e,this.targetEl&&this.targetEl.ownerDocument),this.srcEl?this.layout(function(){return s.srcEl.parentNode.replaceChild(r,s.srcEl),s.completeResolver.fulfill(r),r}):this.targetEl?this.layout(function(){return s.targetEl.appendChild(r),s.completeResolver.fulfill(r),r}):o.reject("Did not append widget")},params:function(){var t,e;return this.srcOb?e=this.srcOb:(t=this.srcEl&&this.srcEl.href&&this.srcEl.href.split("?")[1],e=t?s.decode(t):{}),this.params=function(){return e},e},widgetUrlParams:function(){return{}},dataAttr:function(t){return this.srcEl&&this.srcEl.getAttribute("data-"+t)},attr:function(t){return this.srcEl&&this.srcEl.getAttribute(t)},layout:function(t){return v.enqueue(t)},styles:{base:[["font","normal normal normal 11px/18px'Helvetica Neue',Arial,sans-serif"],["margin","0"],["padding","0"],["whiteSpace","nowrap"]],button:[["fontWeight","bold"],["textShadow","0 1px 0 rgba(255,255,255,.5)"]],large:[["fontSize","13px"],["lineHeight","26px"]],vbubble:[["fontSize","16px"]]},width:function(){throw new Error(name+" not implemented")},height:function(){return"m"==this.size?20:28},minWidth:function(){},maxWidth:function(){},minHeight:function(){},maxHeight:function(){},dimensions:function(){function t(t){switch(typeof t){case"string":return t;case"undefined":return;default:return t+"px"}}var e={width:this.width(),height:this.height()};return this.minWidth()&&(e["min-width"]=this.minWidth()),this.maxWidth()&&(e["max-width"]=this.maxWidth()),this.minHeight()&&(e["min-height"]=this.minHeight()),this.maxHeight()&&(e["max-height"]=this.maxHeight()),u.forIn(e,function(i,n){e[i]=t(n)}),e},generateId:function(){return this.srcEl&&this.srcEl.id||"twitter-widget-"+w++},completed:function(){return this.completePromise}}),d.afterLoad=function(t){g.push(t)},d.doLayout=function(){v.exec()},d.doLayoutAsync=function(){v.delayedExec()},d.init=function(t){m=t},d.reset=function(){p={}},d.find=function(t){return t&&p[t]?p[t].element:null},d.embed=function(t){var i=m.widgets,n=[],r=[],s=[];a.isArray(t)||(t=[t||document]),c.time("sandboxes"),u.forEach(t,function(t){u.forIn(i,function(i,r){var o,a;i.match(/\./)?(o=i.split("."),a=e.all(o[1],t,o[0])):a=t.getElementsByTagName(i),u.forEach(a,function(t){var e;t.getAttribute(b)||(t.setAttribute(b,"true"),e=new r(t),n.push(e),s.push(e.sandboxCreated))})})}),o.every.apply(null,s).then(function(){c.timeEnd("sandboxes")}),d.doLayout(),u.forEach(n,function(t){r.push(t.completed()),t.render(m)}),o.every.apply(null,r).then(function(t){t=u.filter(t,function(t){return t}),t.length&&(twttr.events.trigger("loaded",{widgets:t}),c.timeEnd("load"))}),d.doLayoutAsync(),h()},window.setInterval(function(){d.doLayout()},500),t(d)})}),provide("xd/json2",function(exports){function f(t){return 10>t?"0"+t:t}function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var i,n,r,o,s,a=gap,u=e[t];switch(u&&"object"==typeof u&&"function"==typeof u.toJSON&&(u=u.toJSON(t)),"function"==typeof rep&&(u=rep.call(e,t,u)),typeof u){case"string":return quote(u);case"number":return isFinite(u)?String(u):"null";case"boolean":case"null":return String(u);case"object":if(!u)return"null";if(gap+=indent,s=[],"[object Array]"===Object.prototype.toString.apply(u)){for(o=u.length,i=0;o>i;i+=1)s[i]=str(i,u)||"null";return r=0===s.length?"[]":gap?"[\n"+gap+s.join(",\n"+gap)+"\n"+a+"]":"["+s.join(",")+"]",gap=a,r}if(rep&&"object"==typeof rep)for(o=rep.length,i=0;o>i;i+=1)n=rep[i],"string"==typeof n&&(r=str(n,u),r&&s.push(quote(n)+(gap?":":":")+r));else for(n in u)Object.hasOwnProperty.call(u,n)&&(r=str(n,u),r&&s.push(quote(n)+(gap?":":":")+r));return r=0===s.length?"{}":gap?"{\n"+gap+s.join(",\n"+gap)+"\n"+a+"}":"{"+s.join(",")+"}",gap=a,r}}window.JSON||(window.JSON={}),"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(t,e,i){var n;if(gap="",indent="","number"==typeof i)for(n=0;i>n;n+=1)indent+=" ";else"string"==typeof i&&(indent=i);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(t,e){var i,n,r=t[e];if(r&&"object"==typeof r)for(i in r)Object.hasOwnProperty.call(r,i)&&(n=walk(r,i),void 0!==n?r[i]=n:delete r[i]);return reviver.call(t,e,r)}var j;if(cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")}),exports(JSON)}),provide("util/events",function(t){using("util/util",function(e){var i={bind:function(t,e){return this._handlers=this._handlers||{},this._handlers[t]=this._handlers[t]||[],this._handlers[t].push(e)},unbind:function(t,i){if(this._handlers[t])if(i){var n=e.indexOf(this._handlers[t],i);n>=0&&this._handlers[t].splice(n,1)}else this._handlers[t]=[]},trigger:function(t,i){var n=this._handlers&&this._handlers[t];i=i||{},i.type=t,e.forEach(n,function(t){e.async(e.bind(t,this,[i]))})}};t({Emitter:i})})}),provide("xd/jsonrpc",function(t){using("util/util","util/events","xd/json2",function(e,i){function n(t){return(JSON.parse||JSON.decode)(t)}function r(t){this.con=t}function o(){this.id=o.id++}e.aug(r.prototype,{expose:function(t){this.con.bind("message",this._handleRequest(t))},call:function(t){var e,i=this;return this._requests||(this._requests={},this.con.bind("message",function(t){var e;try{t=n(t)}catch(r){return}t.callback&&"number"==typeof t.id&&(e=i._requests[t.id])&&(t.error?e.trigger("error",t):e.trigger("success",t),delete i._requests[t.id])})),e=new o,this._requests[e.id]=e,e.send(this.con,t,Array.prototype.slice.call(arguments,1))},_handleRequest:function(t){var e=this;return function(i){var r,o;try{i=n(i)}catch(s){return}i.callback||"number"==typeof i.id&&"function"==typeof t[i.method]&&(o=e._responseCallbacks(i.id),r=t[i.method].apply(t,i.params.concat(o)),"undefined"!=typeof r&&o[0](r))}},_responseCallbacks:function(t){var e=this.con;return[function(i){e.send(JSON.stringify({id:t,result:i,callback:!0}))},function i(n){e.send(JSON.stringify({id:t,error:i,callback:n}))}]}}),o.id=0,e.aug(o.prototype,i.Emitter,{send:function(t,e,i){return t.send(JSON.stringify({id:this.id,method:e,params:i})),this},success:function(t){return this.bind("success",t),this},error:function(t){return this.bind("error",t),this}}),t(function(t){return new r(t)})})}),provide("xd/flash",function(t){function e(t,e){var i=e||Math.floor(100*Math.random()),n=['<object id="xdflashshim'+i+'" name="xdflashshim'+i+'"','type="application/x-shockwave-flash" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"','width="1" height="1" style="position:absolute;left:-9999px;top:-9999px;">','<param name="movie" value="'+t+"&debug="+window.__XDDEBUG__+'">','<param name="wmode" value="window">','<param name="allowscriptaccess" value="always">',"</object>"].join(" ");return n}t({object:e})}),provide("xd/base",function(t){using("util/util","util/events",function(e,i){function n(){}e.aug(n.prototype,i.Emitter,{transportMethod:"",init:function(){},send:function(t){var e;this._ready?this._performSend(t):e=this.bind("ready",function(){this.unbind("ready",e),this._performSend(t)})},ready:function(){this.trigger("ready",this),this._ready=!0},isReady:function(){return!!this._ready},receive:function(t){this.trigger("message",t)}}),t({Connection:n})})}),provide("xd/parent",function(t){using("xd/base","util/util","util/env",function(e,i,n){function r(t){var e=[];return i.forIn(t,function(t,i){e.push(t+"="+i)}),e.join(",")}function o(){}function s(t){this.transportMethod="PostMessage",this.options=t,this._createChild()}function a(t){this.transportMethod="Flash",this.options=t,this.token=Math.random().toString(16).substring(2),this._setup()}function u(t){this.transportMethod="Fallback",this.options=t,this._createChild()}var l,c="__ready__",d=0;o.prototype=new e.Connection,i.aug(o.prototype,{_createChild:function(){this.options.window?this._createWindow():this._createIframe()},_createIframe:function(){function t(){s.child=e.contentWindow,s._ready||s.init()}var e,n,r,o,s=this,a={allowTransparency:!0,frameBorder:"0",scrolling:"no",tabIndex:"0",name:this._name()},u=i.aug(i.aug({},a),this.options.iframe),c=!1;window.postMessage?(l||(l=document.createElement("iframe")),e=l.cloneNode(!1)):e=document.createElement('<iframe name="'+u.name+'">'),e.id=u.name,i.forIn(u,function(t,i){"style"!=t&&e.setAttribute(t,i)}),o=e.getAttribute("style"),o&&"undefined"!=typeof o.cssText?o.cssText=u.style:e.style.cssText=u.style,e.addEventListener?e.addEventListener("load",t,!1):e.attachEvent("onload",function(){c||(c=!0,t())}),e.src=this._source(),(n=this.options.appendTo)?n.appendChild(e):(r=this.options.replace)?(n=r.parentNode,n&&n.replaceChild(e,r)):document.body.insertBefore(e,document.body.firstChild)},_createWindow:function(){var t,e={width:550,height:450,personalbar:"0",toolbar:"0",scrollbars:"1",resizable:"1"},n=i.aug(i.aug({},e),this.options.window),o=screen.width,s=screen.height,a=this._name();n.left=n.left||Math.round(o/2-n.width/2),n.top=n.top||Math.round(s/2-n.height/2),s<n.height&&(n.top=0,n.height=s),t=window.open(this._source(),a,r(n)),t&&t.focus(),this.child=t,this.init()},_source:function(){return this.options.src},_name:function(){var t="_xd_"+d++;return window.parent&&window.parent!=window&&window.name&&(t=window.name+t),t}}),s.prototype=new o,i.aug(s.prototype,{init:function(){function t(t){t.source===e.child&&(e._ready||t.data!==c?e.receive(t.data):e.ready())}var e=this;window.addEventListener?window.addEventListener("message",t,!1):window.attachEvent("onmessage",t)},_performSend:function(t){this.child.postMessage(t,this.options.src)}}),a.prototype=new o,i.aug(a.prototype,{_setup:function(){var t=this;using("xd/flash",function(e){window["__xdcb"+t.token]={receive:function(e){t._ready||e!==c?t.receive(e):t.ready()},loaded:function(){}};var i=document.createElement("div");i.innerHTML=e.object("https://platform.twitter.com/xd/ft.swf?&token="+t.token+"&parent=true&callback=__xdcb"+t.token+"&xdomain="+t._host(),t.token),document.body.insertBefore(i,document.body.firstChild),t.proxy=i.firstChild,t._createChild()})},init:function(){},_performSend:function(t){this.proxy.send(t)},_host:function(){return this.options.src.replace(/https?:\/\//,"").split(/(:|\/)/)[0]},_source:function(){return this.options.src+(this.options.src.match(/\?/)?"&":"?")+"xd_token="+window.escape(this.token)}}),u.prototype=new o,i.aug(u.prototype,{init:function(){},_performSend:function(){}}),t({connect:function(t){return!n.canPostMessage()||n.anyIE()&&t.window?n.anyIE()&&n.flashEnabled()?new a(t):new u(t):new s(t)}})})}),provide("tfw/hub/client",function(t){using("xd/parent","xd/jsonrpc","tfw/widget/base","util/widgetrpc",function(e,i,n,r){function o(t,r){var o=e.connect({src:t,iframe:{name:r,style:"position:absolute;top:-9999em;width:10px;height:10px"}});return i(o).expose({trigger:function(t,e,i){e=e||{};var r=e.region;delete e.region,twttr.events.trigger(t,{target:n.find(i),data:e,region:r,type:t})},initXPHub:function(){a(twttr.widgets.config,!0)}}),o}function s(t){return t?r.secureHubId:r.contextualHubId}function a(t,e){var i=t.assetUrl(e)+"/widgets/hub.1c5a573e465d84666458a45e49b0a735.html",n=s(e);if(!document.getElementById(n))return o(i,n)}function u(t,n){var r=e.connect({window:{width:550,height:450},src:t});i(r).expose({trigger:function(t,e){twttr.events.trigger(t,{target:n,region:"intent",type:t,data:e})}})}t({init:a,openIntent:u})})}),provide("util/twitter",function(t){using("util/querystring",function(e){function i(t){return"string"==typeof t&&h.test(t)&&RegExp.$1.length<=20}function n(t){return i(t)?RegExp.$1:void 0}function r(t,i){var r=e.decodeURL(t);return i=i||!1,r.screen_name=n(t),r.screen_name?e.url("https://twitter.com/intent/"+(i?"follow":"user"),r):void 0}function o(t){return r(t,!0)}function s(t){return"string"==typeof t&&p.test(t)}function a(t,e){return e=void 0===e?!0:e,s(t)?(e?"#":"")+RegExp.$1:void 0}function u(t){return"string"==typeof t&&f.test(t)}function l(t){return u(t)&&RegExp.$1}function c(t){return m.test(t)}function d(t){return w.test(t)}var h=/(?:^|(?:https?\:)?\/\/(?:www\.)?twitter\.com(?:\:\d+)?(?:\/intent\/(?:follow|user)\/?\?screen_name=|(?:\/#!)?\/))@?([\w]+)(?:\?|&|$)/i,f=/(?:^|(?:https?\:)?\/\/(?:www\.)?twitter\.com(?:\:\d+)?\/(?:#!\/)?[\w_]+\/status(?:es)?\/)(\d+)/i,m=/^http(s?):\/\/(\w+\.)*twitter\.com([\:\/]|$)/i,w=/^http(s?):\/\/pbs\.twimg\.com\//,p=/^#?([^.,<>!\s\/#\-\(\)\'\"]+)$/;t({isHashTag:s,hashTag:a,isScreenName:i,screenName:n,isStatus:u,status:l,intentForProfileURL:r,intentForFollowURL:o,isTwitterURL:c,isTwimgURL:d,regexen:{profile:h}})})}),provide("util/uri",function(t){using("util/querystring","util/util","util/twitter",function(e,i,n){function r(t,e){var i,n;return e=e||location,/^https?:\/\//.test(t)?t:/^\/\//.test(t)?e.protocol+t:(i=e.host+(e.port.length?":"+e.port:""),0!==t.indexOf("/")&&(n=e.pathname.split("/"),n.pop(),n.push(t),t="/"+n.join("/")),[e.protocol,"//",i,t].join(""))}function o(){for(var t,e=document.getElementsByTagName("link"),i=0;t=e[i];i++)if("canonical"==t.rel)return r(t.href)}function s(){for(var t,e,i,r=document.getElementsByTagName("a"),o=document.getElementsByTagName("link"),s=[r,o],a=0,u=0,l=/\bme\b/;t=s[a];a++)for(u=0;e=t[u];u++)if(l.test(e.rel)&&(i=n.screenName(e.href)))return i}t({absolutize:r,getCanonicalURL:o,getScreenNameFromPage:s})})}),provide("dom/delegate",function(t){using("util/util",function(e){function i(t){var e=t.getAttribute("data-twitter-event-id");return e?e:(t.setAttribute("data-twitter-event-id",++p),p)}function n(t,e,i){var n=0,r=t&&t.length||0;for(n=0;r>n;n++)t[n].call(e,i)}function r(t,e,i){for(var o=i||t.target||t.srcElement,s=o.className.split(" "),a=0,u=s.length;u>a;a++)n(e["."+s[a]],o,t);n(e[o.tagName],o,t),t.cease||o!==this&&r.call(this,t,e,o.parentElement||o.parentNode)}function o(t,e,i,n){function o(n){r.call(t,n,i[e])}function a(){r.call(t,t.ownerDocument.parentWindow.event,i[e])}return t.addEventListener?(s(t,o,e,n),void t.addEventListener(e,o,!1)):void(t.attachEvent&&(s(t,a,e,n),t.attachEvent("on"+e,a)))}function s(t,e,i,n){t.id&&(g[t.id]=g[t.id]||[],g[t.id].push({el:t,listener:e,type:i,rootId:n}))}function a(t){var i=g[t];i&&(e.forEach(i,function(t){u(t.el,t.type,t.listener),delete w[t.rootId]}),delete g[t])}function u(t,e,i){t&&t.removeEventListener&&t.removeEventListener(e,i),t&&t.detachEvent&&t.detachEvent(e,i)}function l(t,e,n,r){var s=i(t);w[s]=w[s]||{},w[s][e]||(w[s][e]={},o(t,e,w[s],s)),w[s][e][n]=w[s][e][n]||[],w[s][e][n].push(r)}function c(t,e,i){t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent("on"+e,function(){i(window.event)})}function d(t,e,n){var o=i(e),s=w[o]&&w[o];r.call(e,{target:n},s[t])}function h(t){return m(t),f(t),!1}function f(t){t&&t.preventDefault?t.preventDefault():t.returnValue=!1}function m(t){t&&(t.cease=!0)&&t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}var w={},p=-1,g={};t({stop:h,stopPropagation:m,preventDefault:f,delegate:l,on:c,simulate:d,removeDelegatesForWidget:a,off:u})})}),provide("tfw/util/article",function(t){using("dom/delegate","tfw/util/globals","util/uri","xd/json2",function(e,i,n){function r(){if(o=n.getCanonicalURL()||""+document.location,window.top.postMessage){if(window==window.top)return void e.on(window,"message",function(t){var e;if(!t.data||"{"==t.data[0]){try{e=JSON.parse(t.data)}catch(n){}e&&"twttr:private:requestArticleUrl"==e.name&&t.source.postMessage(JSON.stringify({name:"twttr:private:provideArticleUrl",data:{url:o,dnt:i.dnt()}}),"*")}});e.on(window,"message",function(t){var e;if(!t.data||"{"==t.data[0]){try{e=JSON.parse(t.data)}catch(n){}e&&"twttr:private:provideArticleUrl"==e.name&&(o=e.data&&e.data.url,i.dnt(e.data.dnt),s=document.location.href)}}),window.top.postMessage(JSON.stringify({name:"twttr:private:requestArticleUrl"}),"*")}}var o,s="";r(),t({url:function(){return o},frameUrl:function(){return s}})})}),provide("dom/classname",function(t){function e(t){return new RegExp("\\b"+t+"\\b","g")}function i(t,i){return t.classList?void t.classList.add(i):void(e(i).test(t.className)||(t.className+=" "+i))}function n(t,i){return t.classList?void t.classList.remove(i):void(t.className=t.className.replace(e(i)," "))}function r(t,e,r){return void 0===r&&t.classList&&t.classList.toggle?t.classList.toggle(e,r):(r?i(t,e):n(t,e),r)}function o(t,r,o){return t.classList&&s(t,r)?(n(t,r),void i(t,o)):void(t.className=t.className.replace(e(r),o))}function s(t,i){return t.classList?t.classList.contains(i):e(i).test(t.className)}t({add:i,remove:n,replace:o,toggle:r,present:s})}),provide("util/throttle",function(t){function e(t,e,i){function n(){var i=+new Date;return window.clearTimeout(r),i-s>e?(s=i,void t.call(o)):void(r=window.setTimeout(n,e))}var r,o=i||this,s=0;return n}t(e)}),provide("util/css",function(t){using("util/util",function(e){t({sanitize:function(t,i,n){var r,o=/^[\w ,%\/"'\-_#]+$/,s=t&&e.map(t.split(";"),function(t){return e.map(t.split(":").slice(0,2),function(t){return e.trim(t)})}),a=0,u=[],l=n?"!important":"";for(i=i||/^(font|text\-|letter\-|color|line\-)[\w\-]*$/;s&&(r=s[a]);a++)r[0].match(i)&&r[1].match(o)&&u.push(r.join(":")+l);return u.join(";")}})})}),provide("tfw/util/params",function(t){using("util/querystring","util/twitter",function(e,i){t(function(t,n){return function(r){var o,s,a="data-tw-params";if(r&&i.isTwitterURL(r.href)&&!r.getAttribute(a)){if(r.setAttribute(a,!0),"function"==typeof n){o=n.call(this,r);for(s in o)o.hasOwnProperty(s)&&(t[s]=o[s])}r.href=e.url(r.href,t)}}})})}),provide("util/donottrack",function(t){using("tfw/util/globals",function(e){t(function(t,i){var n=/\.(gov|mil)(:\d+)?$/i,r=/https?:\/\/([^\/]+).*/i;return t=t||document.referrer,t=r.test(t)&&RegExp.$1,i=i||document.location.host,e.dnt()?!0:n.test(i)?!0:t&&n.test(t)?!0:document.navigator?1==document.navigator.doNotTrack:navigator?1==navigator.doNotTrack||1==navigator.msDoNotTrack:!1})})}),provide("sandbox/baseframe",function(t){using("util/domready","util/env","util/iframe","util/promise","util/util",function(e,i,n,r,o){function s(t,e,i,s){var a;this.readyPromise=new r(o.bind(function(t){this.resolver=t},this)),this.attrs=t||{},this.styles=e||{},this.appender=i||function(t){document.body.appendChild(t)},this.layout=s||function(t){return new r(function(e){return e.fulfill(t())})},this.frame=a=n(this.attrs,this.styles),a.onreadystatechange=a.onload=this.getCallback(this.onLoad),this.layout(o.bind(function(){this.appender(a)},this))}var a=0;window.twttr=window.twttr||{},window.twttr.sandbox=window.twttr.sandbox||{},s.prototype.getCallback=function(t){var e=this,i=!1;return function(){i||(i=!0,t.call(e))}},s.prototype.registerCallback=function(t){var e="cb"+a++;return window.twttr.sandbox[e]=t,e},s.prototype.onLoad=function(){try{this.document=this.frame.contentWindow.document}catch(t){return void this.setDocDomain()}this.writeStandardsDoc(),this.resolver.fulfill(this)},s.prototype.ready=function(){return this.readyPromise},s.prototype.setDocDomain=function(){var t=n(this.attrs,this.styles),e=this.registerCallback(this.getCallback(this.onLoad));t.src=["javascript:",'document.write("");',"try { window.parent.document; }","catch (e) {",'document.domain="'+document.domain+'";',"}",'window.parent.twttr.sandbox["'+e+'"]();'].join(""),this.layout(o.bind(function(){this.frame.parentNode.removeChild(this.frame),this.frame=null,this.appender?this.appender(t):document.body.appendChild(t),this.frame=t},this))},s.prototype.writeStandardsDoc=function(){if(i.anyIE()&&!i.cspEnabled()){var t=["<!DOCTYPE html>","<html>","<head>","<scr","ipt>","try { window.parent.document; }",'catch (e) {document.domain="'+document.domain+'";}',"</scr","ipt>","</head>","<body></body>","</html>"].join("");this.document.write(t),this.document.close()}},t(s)})}),provide("sandbox/minimal",function(t){using("sandbox/baseframe","util/env","util/promise","util/util",function(e,i,n,r){function o(t,e){t&&(this._frame=t,this._win=t.contentWindow,this._doc=this._win.document,this._body=this._doc.body,this._head=this._body.parentNode.children[0],this.layout=e)}r.aug(o.prototype,{createElement:function(t){return this._doc.createElement(t)},createDocumentFragment:function(){return this._doc.createDocumentFragment()},appendChild:function(t){return this.layout(r.bind(function(){return this._body.appendChild(t)},this))},setBaseTarget:function(t){var e=this._doc.createElement("base");return e.target=t,this.layout(r.bind(function(){return this._head.appendChild(e)},this))},setTitle:function(t){t&&(this._frame.title=t)},element:function(){return this._frame},document:function(){return this._doc}}),o.createSandbox=function(t,i,n,r){var s=new e(t,i,n,r);return s.ready().then(function(t){return new o(t.frame,t.layout)})},t(o)})}),provide("dom/cookie",function(t){using("util/util",function(e){t(function(t,i,n){var r,o,s,a,u=e.aug({},n);return arguments.length>1&&"[object Object]"!==String(i)?((null===i||void 0===i)&&(u.expires=-1),"number"==typeof u.expires&&(r=u.expires,o=new Date((new Date).getTime()+60*r*1e3),u.expires=o),i=String(i),document.cookie=[encodeURIComponent(t),"=",u.raw?i:encodeURIComponent(i),u.expires?"; expires="+u.expires.toUTCString():"",u.path?"; path="+u.path:"",u.domain?"; domain="+u.domain:"",u.secure?"; secure":""].join("")):(u=i||{},a=u.raw?function(t){return t}:decodeURIComponent,(s=new RegExp("(?:^|; )"+encodeURIComponent(t)+"=([^;]*)").exec(document.cookie))?a(s[1]):null)})})}),provide("tfw/util/tracking",function(t){var e="87b610e192a489c37877ba0aa0d0e72e212c2b40:1413588237";using("dom/cookie","dom/delegate","sandbox/minimal","util/donottrack","util/promise","util/querystring","tfw/util/env","util/iframe","util/util","xd/json2",function(i,n,r,o,s,a,u,l,c){function d(){return R?M:(r.createSandbox({id:"rufous-sandbox"},{display:"none"}).then(c.bind(function(t){O=t,k=E(),D=I(),L.fulfill([k,D])},this)),R=!0,M)}function h(t,e,i,n){return f(t,e,i,n,2)}function f(t,e,i,n,r){var o=!c.isObject(t),s=e?!c.isObject(e):!1;o||s||p(_(t),T(e,i,n,r),!0)}function m(t,e,i,n,r){var o=w(t.target||t.srcElement);o.action=r||"click",f(o,e,i,n)}function w(t,e){var i;return e=e||{},t&&1===t.nodeType?((i=t.getAttribute("data-scribe"))&&c.forEach(i.split(" "),function(t){var i=c.trim(t).split(":"),n=i[0],r=i[1];n&&r&&!e[n]&&(e[n]=r)}),w(t.parentNode,e)):e}function p(t,e,i){var n,r,o,s,u;c.isObject(t)&&c.isObject(e)&&(o=c.aug({},e,{event_namespace:t}),i?(s={l:S(o)},o.dnt&&(s.dnt=1),N(a.url(P,s))):(n=k.firstChild,n.value=+(+n.value||o.dnt||0),u=S(o),r=O.createElement("input"),r.type="hidden",r.name="l",r.value=u,k.appendChild(r)))}function g(t,e,i,n){var r=!c.isObject(t),o=e?!c.isObject(e):!1;r||o||M.then(function(){p(_(t),T(e,i,n))})}function v(t,e){c.isObject(t)&&M.then(function(){p(_(c.aug({action:"impression"},t)),x(e))})}function b(){return M.then(function(){if(k.children.length<=2)return s.reject();var t=s.every(O.appendChild(k),O.appendChild(D)).then(function(t){var e=t[0],i=t[1];return n.on(i,"load",function(){y(e,i)(),twttr.events.trigger("logFlushed")}),e.submit(),t});return k=E(),D=I(),t})}function y(t,e){return function(){var i=t.parentNode;i&&(i.removeChild(t),i.removeChild(e))}}function _(t){return c.aug({client:"tfw"},t||{})}function T(t,i,n,r){var s=t&&t.widget_origin||document.referrer;return t=A("tfw_client_event",t,n||o(s)),t.client_version=e,t.format_version=void 0!==r?r:1,i||(t.widget_origin=s),t}function x(t){return A("syndicated_impression",{},t)}function A(t,e,i){return e=e||{},c.aug(e,{_category_:t,triggered_on:e.triggered_on||+new Date,dnt:!!i})}function E(){var t=O.createElement("form"),e=O.createElement("input"),i=O.createElement("input");return C++,t.action=P,t.method="POST",t.target="rufous-frame-"+C,t.id="rufous-form-"+C,e.type="hidden",e.name="dnt",e.value=0,i.type="hidden",i.name="tfw_redirect",i.value=j,t.appendChild(e),t.appendChild(i),t}function I(){var t="rufous-frame-"+C;return l({id:t,name:t,width:0,height:0,border:0},{display:"none"},O.document())}function N(t){var e=new Image;e.src=t}function S(t){var e,i=Array.prototype.toJSON;return delete Array.prototype.toJSON,e=JSON.stringify(t),i&&(Array.prototype.toJSON=i),e}var k,D,O,L,C=0,R=!1,M=new s(function(t){L=t}),P="https://syndication.twitter.com/i/jot/syndication",j="https://platform.twitter.com/jot.html";twttr.widgets&&twttr.widgets.endpoints&&(P=twttr.widgets.endpoints.rufous||P,j=twttr.widgets.endpoints.rufousRedirect||j),t({enqueue:g,enqueueAudienceImpression:v,flush:b,initPostLogging:d,scribeInteraction:m,extractTermsFromDOM:w,addPixel:f,addPixel2:h})})}),provide("tfw/util/media",function(t){using("dom/delegate","dom/get","util/util","util/env","util/twitter",function(e,i,n,r,o){function s(t,e){return 2==t||3==t&&0===+e}function a(t){var e=t.split(" ");this.url=decodeURIComponent(n.trim(e[0])),this.width=+n.trim(e[1].replace(/w$/,""))}function u(t,e,i){var r,o,s,u;if(t=window.devicePixelRatio?t*window.devicePixelRatio:t,o=n.map(e.split(","),function(t){return new a(t)}),i)for(u=0;u<o.length;u++)o[u].url===i&&(r=o[u]);return s=n.reduce(o,function(e,i){return i.width<e.width&&i.width>=t?i:e},o[0]),r&&r.width>s.width?r:s}function l(t,e){var i,n=t.getAttribute("data-srcset"),r=t.src;n&&(i=u(e,n,r),t.src=i.url)}function c(t,e){e=e||r.retina(),e&&n.forEach(t.getElementsByTagName("IMG"),function(t){var e=t.getAttribute("data-src-2x");e&&(t.src=e)})}function d(t,e,r,o){var a=0,u=r?600:375,c=i.one("multi-photo",t,"DIV"),d=c&&+c.getAttribute("data-photo-count");if(t)return n.forEach(i.all("autosized-media",t),function(t){var i=h(t.getAttribute("data-width"),t.getAttribute("data-height"),e,u);o(function(){l(t,e),t.width=i.width,t.height=i.height,f(t,i)}),a=i.height>a?i.height:a}),n.forEach(i.all("cropped-media",t,"IMG"),function(t){var i,n,r,c=e-12,f=t.parentNode,g=t.getAttribute("data-crop-x")||0,v=t.getAttribute("data-crop-y")||0,b=s(d,t.getAttribute("data-image-index")),y=Math.floor(c/2-m),_=Math.floor(y/(b?w:p));b||(_-=m/2),r=h(t.getAttribute("data-width"),t.getAttribute("data-height"),y,u,y,_),i=r.width-y-g,n=r.height-_-v,0>i&&Math.max(0,g+=i),0>n&&Math.max(0,v+=n),o(function(){l(t,y),t.width=r.width,t.height=r.height,f.style.width=y-1+"px",f.style.height=_+"px",g&&(t.style.marginLeft="-"+Math.floor(r.width*g/100)+"px"),v&&(t.style.marginTop="-"+Math.floor(r.height*v/100)+"px")}),a=r.height*(b?2:1)>a?r.height:a}),a}function h(t,e,i,n,r,o){return i=i||t,n=n||e,r=r||0,o=o||0,t>i&&(e*=i/t,t=i),e>n&&(t*=n/e,e=n),r>t&&(e*=r/t,t=r),o>e&&(t*=o/e,e=o),{width:Math.floor(t),height:Math.floor(e)}}function f(t,i){function n(){var t={name:"tfw:resize",dimensions:i};a.postMessage(t,"*")}var s,a,u,l,c;t&&(a=t.contentWindow,s=t.ownerDocument&&t.ownerDocument.defaultView,u=r.ios()||r.android(),l=o.isTwitterURL(t.src),c=a&&r.canPostMessage(a),u&&l&&c&&(n(),s&&e.on(s,"message",function(t){"tfw:requestsize"===t.data&&n()})))}var m=6,w=8/9,p=16/9;t({scaleDimensions:h,retinize:c,constrainMedia:d,__setSrcFromSet:l})})}),provide("tfw/util/data",function(t){using("util/logger","util/util","util/querystring",function(e,i,n){function r(t){return function(i){i.error?t.error&&t.error(i):i.headers&&200!=i.headers.status?(t.error&&t.error(i),e.warn(i.headers.message)):t.success&&t.success(i),t.complete&&t.complete(i),o(t)}}function o(t){var e=t.script;e&&(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),t.script=void 0,e=void 0),t.callbackName&&twttr.tfw.callbacks[t.callbackName]&&delete twttr.tfw.callbacks[t.callbackName]}function s(t){var e={};return t.success&&i.isType("function",t.success)&&(e.success=t.success),t.error&&i.isType("function",t.error)&&(e.error=t.error),t.complete&&i.isType("function",t.complete)&&(e.complete=t.complete),e}window.twttr=window.twttr||{},twttr.tfw=twttr.tfw||{},twttr.tfw.callbacks=twttr.tfw.callbacks||{};var a="twttr.tfw.callbacks",u=twttr.tfw.callbacks,l="cb",c=0,d=!1,h={},f={tweets:"https://syndication.twitter.com/tweets.json",timeline:"https://cdn.syndication.twimg.com/widgets/timelines/",timelinePoll:"https://syndication.twitter.com/widgets/timelines/paged/",timelinePreview:"https://syndication.twitter.com/widgets/timelines/preview/"};twttr.widgets&&twttr.widgets.endpoints&&i.aug(f,twttr.widgets.endpoints),h.jsonp=function(t,e,i){var o=i||l+c,s=a+"."+o,h=document.createElement("script"),f={callback:s,suppress_response_codes:!0};u[o]=r(e),(d||!/^https?\:$/.test(window.location.protocol))&&(t=t.replace(/^\/\//,"https://")),h.src=n.url(t,f),h.async="async",document.body.appendChild(h),e.script=h,e.callbackName=o,i||c++},h.config=function(t){(t.forceSSL===!0||t.forceSSL===!1)&&(d=t.forceSSL)},h.tweets=function(t){var e=arguments[0],i=s(e),r={ids:t.ids.join(","),lang:t.lang},o=n.url(f.tweets,r);this.jsonp(o,i)},h.timeline=function(t){var e,r=arguments[0],o=s(r),a=9e5,u=Math.floor(+new Date/a),l={lang:t.lang,t:u,domain:window.location.host,dnt:t.dnt,override_type:t.overrideType,override_id:t.overrideId,override_name:t.overrideName,override_owner_id:t.overrideOwnerId,override_owner_name:t.overrideOwnerName,with_replies:t.withReplies};i.compact(l),e=n.url(f.timeline+t.id,l),this.jsonp(e,o,"tl_"+t.id+"_"+t.instanceId)},h.timelinePoll=function(t){var e,r=arguments[0],o=s(r),a={lang:t.lang,since_id:t.sinceId,max_id:t.maxId,min_position:t.minPosition,max_position:t.maxPosition,domain:window.location.host,dnt:t.dnt,override_type:t.overrideType,override_id:t.overrideId,override_name:t.overrideName,override_owner_id:t.overrideOwnerId,override_owner_name:t.overrideOwnerName,with_replies:t.withReplies};i.compact(a),e=n.url(f.timelinePoll+t.id,a),this.jsonp(e,o,"tlPoll_"+t.id+"_"+t.instanceId+"_"+(t.sinceId||t.maxId||t.maxPosition||t.minPosition))},h.timelinePreview=function(t){var e=arguments[0],i=s(e),r=t.params,o=n.url(f.timelinePreview,r);this.jsonp(o,i)},t(h)})}),provide("anim/transition",function(t){function e(t,e){var i;return e=e||window,(i=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.msRequestAnimationFrame||e.oRequestAnimationFrame||function(){e.setTimeout(function(){t(+new Date)},1e3/60)})(t)}function i(t,e){return Math.sin(Math.PI/2*e)*t}function n(t,i,n,r,o){function s(){var u=+new Date,l=u-a,c=Math.min(l/n,1),d=r?r(i,c):i*c;t(d),1!=c&&e(s,o)}var a=+new Date;e(s)}t({animate:n,requestAnimationFrame:e,easeOut:i})}),provide("util/datetime",function(t){using("util/util",function(e){function i(t){return 10>t?"0"+t:t}function n(t){function e(t,e){return r&&r[t]&&(t=r[t]),t.replace(/%\{([\w_]+)\}/g,function(t,i){return void 0!==e[i]?e[i]:t})}var r=t&&t.phrases,o=t&&t.months||a,s=t&&t.formats||u;this.timeAgo=function(t){var i,r=n.parseDate(t),a=+new Date,u=a-r;return r?isNaN(u)||2*l>u?e("now"):c>u?(i=Math.floor(u/l),e(s.abbr,{number:i,symbol:e(f,{abbr:e("s"),expanded:e(i>1?"seconds":"second")})})):d>u?(i=Math.floor(u/c),e(s.abbr,{number:i,symbol:e(f,{abbr:e("m"),expanded:e(i>1?"minutes":"minute")})})):h>u?(i=Math.floor(u/d),e(s.abbr,{number:i,symbol:e(f,{abbr:e("h"),expanded:e(i>1?"hours":"hour")})})):365*h>u?e(s.shortdate,{day:r.getDate(),month:e(o[r.getMonth()])}):e(s.longdate,{day:r.getDate(),month:e(o[r.getMonth()]),year:r.getFullYear().toString().slice(2)}):""},this.localTimeStamp=function(t){var r=n.parseDate(t),a=r&&r.getHours();return r?e(s.full,{day:r.getDate(),month:e(o[r.getMonth()]),year:r.getFullYear(),hours24:i(a),hours12:13>a?a?a:"12":a-12,minutes:i(r.getMinutes()),seconds:i(r.getSeconds()),amPm:e(12>a?"AM":"PM")}):""}}var r=/(\d{4})-?(\d{2})-?(\d{2})T(\d{2}):?(\d{2}):?(\d{2})(Z|[\+\-]\d{2}:?\d{2})/,o=/[a-z]{3,4} ([a-z]{3}) (\d{1,2}) (\d{1,2}):(\d{2}):(\d{2}) ([\+\-]\d{2}:?\d{2}) (\d{4})/i,s=/^\d+$/,a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],u={abbr:"%{number}%{symbol}",shortdate:"%{day} %{month}",longdate:"%{day} %{month} %{year}",full:"%{hours12}:%{minutes} %{amPm} - %{day} %{month} %{year}"},l=1e3,c=60*l,d=60*c,h=24*d,f='<abbr title="%{expanded}">%{abbr}</abbr>';n.parseDate=function(t){var i,n,u=t||"",l=u.toString();return(i=function(){var t;return s.test(l)?parseInt(l,10):(t=l.match(o))?Date.UTC(t[7],e.indexOf(a,t[1]),t[2],t[3],t[4],t[5]):(t=l.match(r))?Date.UTC(t[1],t[2]-1,t[3],t[4],t[5],t[6]):void 0}())?(n=new Date(i),!isNaN(n.getTime())&&n):!1},t(n)})}),provide("sandbox/frame",function(t){using("sandbox/baseframe","sandbox/minimal","util/env","util/promise","util/util","dom/delegate",function(e,i,n,r,o,s){function a(){var t,e;f={},c||(t=document.body.offsetHeight,e=document.body.offsetWidth,(t!=w||e!=m)&&(o.forEach(h,function(t){t.dispatchFrameResize(m,w)}),w=t,m=e))}function u(t){var e;return t.id?t.id:(e=t.getAttribute("data-twttr-id"))?e:(e="twttr-sandbox-"+d++,t.setAttribute("data-twttr-id",e),e)}function l(t,e){i.apply(this,[t,e]),this._resizeHandlers=[],h=o.filter(h,function(t){var e=t._frame.parentElement;return e||o.async(function(){s.removeDelegatesForWidget(t._frame.id)}),e}),h.push(this),this._win.addEventListener?this._win.addEventListener("resize",o.bind(function(){this.dispatchFrameResize()},this),!0):this._win.attachEvent("onresize",o.bind(function(){this.dispatchFrameResize(this._win.event)},this))}var c,d=0,h=[],f={},m=0,w=0;window.addEventListener?window.addEventListener("resize",a,!0):document.body.attachEvent("onresize",function(){a(window.event)}),l.prototype=new i,o.aug(l.prototype,{dispatchFrameResize:function(){var t=this._frame.parentNode,e=u(t),i=f[e];c=!0,this._resizeHandlers.length&&(i||(i=f[e]={w:this._frame.offsetWidth,h:this._frame.offsetHeight}),(this._frameWidth!=i.w||this._frameHeight!=i.h)&&(this._frameWidth=i.w,this._frameHeight=i.h,o.forEach(this._resizeHandlers,function(t){t(i.w,i.h)}),window.setTimeout(function(){f={}},50)))},appendStyleSheet:function(t){var e=this._doc.createElement("link");return e.type="text/css",e.rel="stylesheet",e.href=t,this.layout(o.bind(function(){return this._head.appendChild(e)},this))},appendCss:function(t){var e;return n.cspEnabled()?r.reject("CSP enabled; cannot embed inline styles."):(e=this._doc.createElement("style"),e.type="text/css",e.styleSheet?e.styleSheet.cssText=t:e.appendChild(this._doc.createTextNode(t)),this.layout(o.bind(function(){return this._head.appendChild(e)},this)))},style:function(t){return this.layout(o.bind(function(){o.forIn(t,o.bind(function(t,e){this._frame.style[t]=e},this))},this))},onresize:function(t){this._resizeHandlers.push(t)},width:function(t){return void 0!==t&&(this._frame.style.width=t+"px"),n.ios()?Math.min(this._frame.parentNode.offsetWidth,this._frame.offsetWidth):this._frame.offsetWidth},height:function(t){return void 0!==t&&(this._frame.height=t),this._frame.offsetHeight}}),l.createSandbox=function(t,i,n,r){var o=new e(t,i,n,r);return o.ready().then(function(t){return new l(t.frame,t.layout)})},t(l)})}),provide("dom/size",function(t){function e(t){return t&&1===t.nodeType?t.offsetWidth||e(t.parentNode):0}t({effectiveWidth:e})}),provide("rpc/postmessage_listener",function(t){using("dom/delegate","util/util","util/env","util/twitter","xd/json2",function(e,i,n,r){function o(t){var n=t.document;this.server=null,this.isTwitterFrame=r.isTwitterURL(n.location.href),e.on(t,"message",i.bind(this._onMessage,this))}var s=n.ie8()||n.ie9();o.prototype._onMessage=function(t){this.server&&(!this.isTwitterFrame||r.isTwitterURL(t.origin))&&this.server.receive(t.data,t.source).then(function(e){var i;e&&(i=s?JSON.stringify(e):e,t.source&&t.source.postMessage(i,"*"))})},o.prototype.attachTo=function(t){this.server=t},o.prototype.detach=function(){this.server=null},t(o)})}),provide("rpc/jsonrpc_server",function(t){using("util/util","util/promise","xd/json2",function(e,i){function n(){this.registry={}}function r(t){return e.isType("string",t)?JSON.parse(t):t}function o(t){var i,n,r;return e.isObject(t)?(i=t.jsonrpc===d,n=e.isType("string",t.method),r=!("id"in t)||s(t.id),i&&n&&r):!1}function s(t){var i,n,r;return i=e.isType("string",t),n=e.isType("number",t),r=null===t,i||n||r}function a(t){return e.isObject(t)&&!e.isType("function",t)}function u(t,e){return{jsonrpc:d,id:t,result:e}}function l(t,e){return{jsonrpc:d,id:s(t)?t:null,error:e}}function c(t){return i.every.apply(i,t).then(function(t){return t=e.filter(t,function(t){return void 0!==t}),t.length?t:void 0})}var d="2.0",h={code:-32700,message:"Parse error"},f={code:-32600,message:"Invalid Request"},m={code:-32602,message:"Invalid params"},w={code:-32601,message:"Method not found"},p={code:-32603,message:"Internal error"};n.prototype._invoke=function(t,n){var r,o,s;r=this.registry[t.method],o=t.params||[],o=e.isType("array",o)?o:[o];try{s=r.apply(n.source||null,o)}catch(a){s=i.reject(a.message)}return i.isThenable(s)?s:i.fulfill(s)},n.prototype._processRequest=function(t,e){function n(e){return u(t.id,e)}function r(){return l(t.id,p)}var s,c=!!t.id;return o(t)?s="params"in t&&!a(t.params)?i.fulfill(l(t.id,m)):this.registry[t.method]?this._invoke(t,{source:e}).then(n,r):i.fulfill(l(t.id,w)):(c=!0,s=i.fulfill(l(t.id,f))),c?s:i.fulfill()},n.prototype.attachListener=function(t){return t.attachTo(this),this},n.prototype.bind=function(t,e){return this.registry[t]=e,this},n.prototype.receive=function(t,n){var o,s,a;try{t=r(t)}catch(u){return i.fulfill(l(null,h))}return n=n||null,o=e.isType("array",t),s=o?t:[t],a=e.map(s,e.bind(function(t){return this._processRequest(t,n)},this)),o?c(a):a[0]},t(n)})}),provide("amplify/video_scribe_bridge",function(t){using("util/util","dom/get","tfw/util/tracking","rpc/jsonrpc_server","rpc/postmessage_listener",function(e,i,n,r,o){function s(t,e){return t&&t.getAttribute?t.getAttribute("data-"+e):void 0}function a(t){return{element:t.element||d,action:t.action||h}}function u(t,n){var r=i.ancestor(".cards-multimedia",n),o=i.ancestor(".tweet",n);return e.aug({item_type:c,id:s(o,"tweet-id"),card_name:s(r,"card-name"),publisher_id:s(r,"publisher-id"),content_id:s(r,"video-content-id")},t.itemData||{})}function l(t,e){var i=this;if(arguments.length<2)throw new Error("missing arguments");this.dnt=!!e,this.global=t,this.server=(new r).attachListener(new o(t)).bind("scribe",function(t){i.scribe(t,this)})}var c=0,d="amplify_player",h="undefined";l.prototype.findIframeByWindow=function(t){var e,i=this.global.document.getElementsByTagName("iframe"),n=i.length;for(e=0;n>e;e++)if(i[e].contentWindow==t)return i[e]},l.prototype.scribe=function(t,e){var i,r,o;t=t&&t.customScribe,i=this.findIframeByWindow(e),t&&i&&(r=a(t),o=u(t,i),n.addPixel2(r,o,!0,this.dnt))},t(l)})}),provide("tfw/util/assets",function(t){using("util/env",function(e){function i(t,i){var r,o=n[t];return r=e.retina()?"2x":e.ie6()||e.ie7()?"gif":"default",i&&(r+=".rtl"),o[r]}var n={"embed/timeline.css":{"default":"embed/timeline.3fb0c4c981cd3f8f8dfb6b0ab93d6a9e.default.css","2x":"embed/timeline.3fb0c4c981cd3f8f8dfb6b0ab93d6a9e.2x.css",gif:"embed/timeline.3fb0c4c981cd3f8f8dfb6b0ab93d6a9e.gif.css","default.rtl":"embed/timeline.3fb0c4c981cd3f8f8dfb6b0ab93d6a9e.default.rtl.css","2x.rtl":"embed/timeline.3fb0c4c981cd3f8f8dfb6b0ab93d6a9e.2x.rtl.css","gif.rtl":"embed/timeline.3fb0c4c981cd3f8f8dfb6b0ab93d6a9e.gif.rtl.css"}};t(i)})}),provide("tfw/widget/intent",function(t){using("tfw/widget/base","util/util","util/querystring","util/twitter","util/uri","util/promise",function(e,i,n,r,o,s){function a(t){var e=Math.round(y/2-g/2),i=0;b>v&&(i=Math.round(b/2-v/2)),window.open(t,void 0,[p,"width="+g,"height="+v,"left="+e,"top="+i].join(","))}function u(t,e){using("tfw/hub/client",function(i){i.openIntent(t,e)})}function l(t){var e=~location.host.indexOf("poptip.com")?"https://poptip.com":location.href,i="original_referer="+e;return[t,i].join(-1==t.indexOf("?")?"?":"&")}function c(t){var e,n,r;if(t=t||window.event,e=t.target||t.srcElement,!(t.altKey||t.metaKey||t.shiftKey)){for(;e&&!~i.indexOf(["A","AREA"],e.nodeName);)e=e.parentNode;e&&e.href&&(n=e.href.match(w),n&&(r=l(e.href),r=r.replace(/^http[:]/,"https:"),r=r.replace(/^\/\//,"https://"),d(r,e),t.returnValue=!1,t.preventDefault&&t.preventDefault()))}}function d(t,e){if(r.isTwitterURL(t))if(twttr.events.hub&&e){var i=new h(m.generateId(),e);m.add(i),u(t,e),twttr.events.trigger("click",{target:e,region:"intent",type:"click",data:{}})}else a(t)}function h(t,e){this.id=t,this.element=this.srcEl=e}function f(t){this.srcEl=[],this.element=t}var m,w=/twitter\.com(\:\d{2,4})?\/intent\/(\w+)/,p="scrollbars=yes,resizable=yes,toolbar=no,location=yes",g=550,v=520,b=screen.height,y=screen.width;f.prototype=new e,i.aug(f.prototype,{render:function(){return m=this,window.twttr.__twitterIntentHandler||(document.addEventListener?document.addEventListener("click",c,!1):document.attachEvent&&document.attachEvent("onclick",c),window.twttr.__twitterIntentHandler=!0),s.fulfill(document.body)}}),f.open=d,t(f)})}),provide("tfw/widget/syndicatedbase",function(t){using("tfw/widget/base","tfw/widget/intent","tfw/util/assets","tfw/util/globals","tfw/util/media","tfw/util/tracking","amplify/video_scribe_bridge","dom/classname","dom/get","dom/delegate","dom/size","sandbox/frame","util/env","util/promise","util/twitter","util/typevalidator","util/util",function(e,i,n,r,o,s,a,u,l,c,d,h,f,m,w,p,g){function v(){_=b.VALID_COLOR.test(r.val("widgets:link-color"))&&RegExp.$1,x=b.VALID_COLOR.test(r.val("widgets:border-color"))&&RegExp.$1,T=r.val("widgets:theme")}function b(t){if(t){var i;this.readyPromise=new m(g.bind(function(t){this.readyResolver=t},this)),this.renderedPromise=new m(g.bind(function(t){this.renderResolver=t},this)),e.apply(this,[t]),i=this.params(),this.targetEl=this.srcEl&&this.srcEl.parentNode||i.targetEl||document.body,this.predefinedWidth=b.VALID_UNIT.test(i.width||this.attr("width"))&&RegExp.$1,this.layout(g.bind(function(){return this.containerWidth=d.effectiveWidth(this.targetEl)},this)).then(g.bind(function(t){var e=this.predefinedWidth||t||this.dimensions.DEFAULT_WIDTH;this.height=b.VALID_UNIT.test(i.height||this.attr("height"))&&RegExp.$1,this.width=Math.max(this.dimensions.MIN_WIDTH,Math.min(e,this.dimensions.DEFAULT_WIDTH))},this)),this.linkColor=b.VALID_COLOR.test(i.linkColor||this.dataAttr("link-color"))?RegExp.$1:_,this.borderColor=b.VALID_COLOR.test(i.borderColor||this.dataAttr("border-color"))?RegExp.$1:x,this.theme=i.theme||this.attr("data-theme")||T,this.theme=/(dark|light)/.test(this.theme)?this.theme:"",this.classAttr.push(f.touch()?"is-touch":"not-touch"),f.ie9()&&this.classAttr.push("ie9"),this.sandboxCreated=h.createSandbox({"class":this.renderedClassNames,id:this.id},{width:"1px",height:"0px",border:"none",position:"absolute",visibility:"hidden"},g.bind(function(t){this.srcEl?this.targetEl.insertBefore(t,this.srcEl):this.targetEl.appendChild(t)},this),this.layout).then(g.bind(function(t){this.setupSandbox(t),new a(t.element().contentWindow,this.dnt)},this))}}function y(t,e){return t+e}var _,T,x,A=[".customisable",".customisable:link",".customisable:visited",".customisable:hover",".customisable:focus",".customisable:active",".customisable-highlight:hover",".customisable-highlight:focus","a:hover .customisable-highlight","a:focus .customisable-highlight"],E=["a:hover .ic-mask","a:focus .ic-mask"],I=[".customisable-border"],N=[".timeline-header h1.summary",".timeline-header h1.summary a:link",".timeline-header h1.summary a:visited"],S={TWEET:0,RETWEET:10};b.prototype=new e,g.aug(b.prototype,{setupSandbox:function(t){this.sandbox=t,m.some(t.appendCss("body{display:none}"),t.setBaseTarget("_blank"),t.appendStyleSheet(twttr.widgets.config.assetUrl()+"/"+n("embed/timeline.css"))).then(g.bind(function(){this.readyResolver.fulfill(t)},this))},ready:function(){return this.readyPromise},rendered:function(){return this.renderedPromise},contentWidth:function(t){var e=this.dimensions,i=this.borderless?0:e.BORDERS,n=this.fullBleedPhoto?0:this.chromeless&&this.narrow?e.NARROW_MEDIA_PADDING_CL:this.chromeless?e.WIDE_MEDIA_PADDING_CL:this.narrow?e.NARROW_MEDIA_PADDING:e.WIDE_MEDIA_PADDING;return(t||this.width)-(n+i)},addSiteStyles:function(){var t=g.bind(function(t){return("dark"==this.theme?".thm-dark ":"")+t},this),e=[];return this.headingStyle&&e.push(g.map(N,t).join(",")+"{"+this.headingStyle+"}"),this.linkColor&&(e.push(g.map(A,t).join(",")+"{color:"+this.linkColor+"}"),e.push(g.map(E,t).join(",")+"{background-color:"+this.linkColor+"}")),this.borderColor&&e.push(g.map(I,t).concat("dark"==this.theme?[".thm-dark.customisable-border"]:[]).join(",")+"{border-color:"+this.borderColor+"}"),e.length?this.sandbox.appendCss(e.join("")):void 0},setNarrow:function(){var t=this.narrow;return this.narrow=this.width<this.dimensions.NARROW_WIDTH,t!=this.narrow?this.layout(g.bind(function(){return u.toggle(this.element,"var-narrow",this.narrow)},this)):m.fulfill(this.narrow)},bindIntentHandlers:function(){function t(t){var i=l.ancestor(".tweet",this,n),r=g.aug({},e.baseScribeData(),{item_ids:[],item_details:e.extractTweetScribeDetails(i)});g.forIn(r.item_details,function(t){r.item_ids.push(t)}),s.scribeInteraction(t,r,!0,e.dnt)}var e=this,n=this.element;c.delegate(n,"click","A",t),c.delegate(n,"click","BUTTON",t),c.delegate(n,"click",".profile",function(){e.addUrlParams(this)}),c.delegate(n,"click",".follow-button",function(t){var n;t.altKey||t.metaKey||t.shiftKey||f.ios()||f.android()||p.asBoolean(this.getAttribute("data-age-gate"))||(n=w.intentForFollowURL(this.href,!0),n&&(i.open(n,e.sandbox.element()),c.preventDefault(t)))}),c.delegate(n,"click",".web-intent",function(t){e.addUrlParams(this),t.altKey||t.metaKey||t.shiftKey||(i.open(this.href,e.sandbox.element()),c.preventDefault(t))})},baseScribeData:function(){return{}},extractTweetScribeDetails:function(t){var e,i,n={};return t?(e=t.getAttribute("data-tweet-id"),i=t.getAttribute("data-rendered-tweet-id")||e,i==e?n[i]={item_type:S.TWEET}:e&&(n[i]={item_type:S.RETWEET,target_type:S.TWEET,target_id:e}),n):n},constrainMedia:function(t,e){return o.constrainMedia(t||this.element,e||this.contentWidth(),this.fullBleedPhoto,this.layout)},collapseRegions:function(){g.forEach(l.all("collapsible-container",this.element),g.bind(function(t){var e,i,n=t.children,r=n.length&&t.offsetWidth,o=n.length&&g.map(n,function(t){return t.offsetWidth}),s=n.length;if(n.length)for(;s>0;){if(s--,e=g.reduce(o,y,0),!r||!e)return;if(r>e)return;i=n[s].getAttribute("data-collapsed-class"),i&&(u.add(this.element,i),o[s]=n[s].offsetWidth)}},this))}}),b.VALID_UNIT=/^([0-9]+)( ?px)?$/,b.VALID_COLOR=/^(#(?:[0-9a-f]{3}|[0-9a-f]{6}))$/i,v(),t(b)})}),provide("tfw/widget/timeline",function(t){using("tfw/widget/base","tfw/widget/syndicatedbase","util/datetime","util/promise","anim/transition","tfw/util/article","tfw/util/data","tfw/util/media","tfw/util/tracking","tfw/util/params","util/css","util/env","util/throttle","util/twitter","util/querystring","util/typevalidator","util/util","dom/delegate","dom/classname","dom/get",function(e,i,n,r,o,s,a,u,l,c,d,h,f,m,w,p,g,v,b,y){function _(t){if(t){var e,n,r,o,s,a,u,l;i.apply(this,[t]),e=this.params(),n=(e.chrome||this.dataAttr("chrome")||"").split(" "),this.preview=e.previewParams,this.widgetId=e.widgetId||this.dataAttr("widget-id"),this.instanceId=++W,this.cursors={maxPosition:0,minPosition:0},this.override=(o=e.screenName||this.dataAttr("screen-name"))||(s=e.userId||this.dataAttr("user-id"))?{overrideType:"user",overrideId:s,overrideName:o,withReplies:p.asBoolean(e.showReplies||this.dataAttr("show-replies"))?"true":"false"}:(o=e.favoritesScreenName||this.dataAttr("favorites-screen-name"))||(s=e.favoritesUserId||this.dataAttr("favorites-user-id"))?{overrideType:"favorites",overrideId:s,overrideName:o}:((o=e.listOwnerScreenName||this.dataAttr("list-owner-screen-name"))||(s=e.listOwnerId||this.dataAttr("list-owner-id")))&&((a=e.listId||this.dataAttr("list-id"))||(u=e.listSlug||this.dataAttr("list-slug")))?{overrideType:"list",overrideOwnerId:s,overrideOwnerName:o,overrideId:a,overrideName:u}:(l=e.customTimelineId||this.dataAttr("custom-timeline-id"))?{overrideType:"custom",overrideId:l}:{},this.tweetLimit=p.asInt(e.tweetLimit||this.dataAttr("tweet-limit")),this.staticTimeline=this.tweetLimit>0,n.length&&(r=~g.indexOf(n,"none"),this.chromeless=r||~g.indexOf(n,"transparent"),this.headerless=r||~g.indexOf(n,"noheader"),this.footerless=r||~g.indexOf(n,"nofooter"),this.borderless=r||~g.indexOf(n,"noborders"),this.noscrollbar=~g.indexOf(n,"noscrollbar")),this.headingStyle=d.sanitize(e.headingStyle||this.dataAttr("heading-style"),void 0,!0),this.classAttr.push("twitter-timeline-rendered"),this.ariaPolite=e.ariaPolite||this.dataAttr("aria-polite")}}var T={CLIENT_SIDE_USER:0,CLIENT_SIDE_APP:2},x="timeline",A="new-tweets-bar",E="timeline-header",I="timeline-footer",N="stream",S="h-feed",k="tweet",D="expanded",O="detail-expander",L="expand",C="permalink",R="twitter-follow-button",M="no-more-pane",P="pending-scroll-in",j="pending-new-tweet",F="pending-new-tweet-display",W=0;_.prototype=new i,g.aug(_.prototype,{renderedClassNames:"twitter-timeline twitter-timeline-rendered",dimensions:{DEFAULT_HEIGHT:"600",DEFAULT_WIDTH:"520",NARROW_WIDTH:"320",MIN_WIDTH:"180",MIN_HEIGHT:"200",WIDE_MEDIA_PADDING:81,NARROW_MEDIA_PADDING:16,WIDE_MEDIA_PADDING_CL:60,NARROW_MEDIA_PADDING_CL:12,BORDERS:2},create:function(t){var i,n,o,s,a=this.sandbox.createElement("div"),c=[];return a.innerHTML=t.body,(i=a.children[0]||!1)?(this.reconfigure(t.config),this.discardStaticOverflow(i),this.sandbox.setTitle(i.getAttribute("data-iframe-title")||"Timeline"),u.retinize(i),this.constrainMedia(i),this.searchQuery=i.getAttribute("data-search-query"),this.profileId=i.getAttribute("data-profile-id"),this.timelineType=i.getAttribute("data-timeline-type"),s=this.getTweetDetails(y.one(S,a)),g.forIn(s,function(t){c.push(t)}),o=this.baseScribeData(),o.item_ids=c,o.item_details=s,this.timelineType&&l.enqueue({page:this.timelineType+"_timeline",component:"timeline",element:"initial",action:c.length?"results":"no_results"},o,!0,this.dnt),l.enqueue({page:"timeline",component:"timeline",element:"initial",action:c.length?"results":"no_results"},o,!0,this.dnt),l.enqueueAudienceImpression({page:"timeline"},this.dnt),l.flush(),"assertive"==this.ariaPolite&&(n=y.one(A,i,"DIV"),n.setAttribute("aria-polite","assertive")),i.id=this.id,i.className+=" "+this.classAttr.join(" "),i.lang=this.lang,this.augmentWidgets(i),this.ready().then(g.bind(function(t){t.appendChild(i).then(g.bind(function(){this.renderResolver.fulfill(this.sandbox)},this)),t.style({cssText:"",border:"none",maxWidth:"100%",minWidth:this.dimensions.MIN_WIDTH+"px"}),this.layout(g.bind(function(){this.srcEl&&this.srcEl.parentNode&&this.srcEl.parentNode.removeChild(this.srcEl),this.predefinedWidth=this.width,this.predefinedHeight=this.height,this.width=t.width(this.width),this.height=t.height(this.height)},this)).then(g.bind(function(){var i=[];this.width<this.predefinedWidth&&i.push(this.layout(g.bind(function(){this.width=t.width(this.predefinedWidth)},this))),this.height<this.predefinedHeight&&i.push(this.layout(g.bind(function(){this.height=t.height(this.predefinedHeight),this.recalculateStreamHeight()},this))),i.length&&e.doLayoutAsync(),i.push(r.fulfill()),r.every.apply(null,i).then(g.bind(function(){this.setNarrow(),this.sandbox.onresize(g.bind(this.handleResize,this)),this.completeResolver.fulfill(this.sandbox.element())},this))},this))},this)),i):void 0},render:function(t,i){return this.preview||this.widgetId?(this.rendered().then(this.staticTimeline?g.bind(function(t){this.layout(g.bind(function(){t.height(this.height=this.element.offsetHeight)},this)),e.doLayoutAsync()},this):g.bind(function(){this.recalculateStreamHeight(),e.doLayoutAsync()},this)),this.preview?this.getPreviewTimeline():this.getTimeline(),i&&this.completed().then(i),this.completed()):(this.completeResolver.reject(400),this.completed())},getPreviewTimeline:function(){a.timelinePreview({success:g.bind(function(t){this.ready().then(g.bind(function(){this.element=this.create(t),this.readTranslations(),this.bindInteractions(),this.updateCursors(t.headers,{initial:!0}),e.doLayoutAsync()},this))},this),error:g.bind(function(t){return t&&t.headers?void this.completeResolver.reject(t.headers.status):void this.completeResolver.fulfill(this.srcEl)},this),params:this.preview})},getTimeline:function(){l.initPostLogging(),a.timeline(g.aug({id:this.widgetId,instanceId:this.instanceId,dnt:this.dnt,lang:this.lang,success:g.bind(function(t){this.ready().then(g.bind(function(){this.element=this.create(t),this.readTranslations(),this.bindInteractions(),this.updateTimeStamps(),this.updateCursors(t.headers,{initial:!0}),t.headers.xPolling&&/\d/.test(t.headers.xPolling)&&(this.pollInterval=1e3*t.headers.xPolling),this.staticTimeline||this.schedulePolling(),e.doLayoutAsync()},this))},this),error:g.bind(function(t){return t&&t.headers?void this.completeResolver.reject(t.headers.status):void this.completeResolver.fulfill(this.srcEl)},this)},this.override))},reconfigure:function(t){this.lang=t.lang,this.theme||(this.theme=t.theme),"dark"==this.theme&&this.classAttr.push("thm-dark"),this.chromeless&&this.classAttr.push("var-chromeless"),this.borderless&&this.classAttr.push("var-borderless"),this.headerless&&this.classAttr.push("var-headerless"),this.footerless&&this.classAttr.push("var-footerless"),this.staticTimeline&&this.classAttr.push("var-static"),!this.linkColor&&t.linkColor&&i.VALID_COLOR.test(t.linkColor)&&(this.linkColor=RegExp.$1),!this.height&&i.VALID_UNIT.test(t.height)&&(this.height=RegExp.$1),this.height=Math.max(this.dimensions.MIN_HEIGHT,this.height?this.height:this.dimensions.DEFAULT_HEIGHT),this.preview&&this.classAttr.push("var-preview"),this.narrow=this.width<=this.dimensions.NARROW_WIDTH,this.narrow&&this.classAttr.push("var-narrow"),this.addSiteStyles()},getTweetDetails:function(t){var e,i={};return e=t&&t.children||[],g.forEach(e,g.bind(function(t){g.aug(i,this.extractTweetScribeDetails(t))},this)),i},baseScribeData:function(){return{widget_id:this.widgetId,widget_origin:s.url(),message:this.partner,query:this.searchQuery,profile_id:this.profileId}},bindInteractions:function(){var t=this,e=this.element,i=!0;this.bindIntentHandlers(),v.delegate(e,"click",".load-tweets",function(e){i&&(i=!1,t.forceLoad(),v.stop(e))}),v.delegate(e,"click",".display-sensitive-image",function(i){t.showNSFW(y.ancestor("."+k,this,e)),v.stop(i)}),v.delegate(e,"mouseover","."+x,function(){t.mouseOver=!0}),v.delegate(e,"mouseout","."+x,function(){t.mouseOver=!1}),v.delegate(e,"mouseover","."+A,function(){t.mouseOverNotifier=!0}),v.delegate(e,"mouseout","."+A,function(){t.mouseOverNotifier=!1,window.setTimeout(function(){t.hideNewTweetNotifier()},3e3)}),this.staticTimeline||(v.delegate(e,"click","."+L,function(i){i.altKey||i.metaKey||i.shiftKey||(t.toggleExpando(y.ancestor("."+k,this,e)),v.stop(i))}),v.delegate(e,"click","A",function(t){v.stopPropagation(t)}),v.delegate(e,"click",".with-expansion",function(e){t.toggleExpando(this),v.stop(e)}),v.delegate(e,"click",".load-more",function(){t.loadMore()}),v.delegate(e,"click","."+A,function(){t.scrollToTop(),t.hideNewTweetNotifier(!0)}))},scrollToTop:function(){var t=y.one(N,this.element,"DIV");t.scrollTop=0,t.focus()},update:function(){var t=this,e=y.one(S,this.element),i=e&&e.children[0],n=i&&i.getAttribute("data-tweet-id");this.updateTimeStamps(),this.requestTweets(n,!0,function(e){e.childNodes.length>0&&t.insertNewTweets(e)})},loadMore:function(){var t=this,e=y.all(k,this.element,"LI").pop(),i=e&&e.getAttribute("data-tweet-id");this.requestTweets(i,!1,function(e){var n=y.one(M,t.element,"P"),r=e.childNodes[0];return n.style.cssText="",r&&r.getAttribute("data-tweet-id")==i&&e.removeChild(r),e.childNodes.length>0?void t.appendTweets(e):(b.add(t.element,"no-more"),void n.focus())})},forceLoad:function(){var t=this,e=!!y.all(S,this.element,"OL").length;this.requestTweets(1,!0,function(i){i.childNodes.length&&(t[e?"insertNewTweets":"appendTweets"](i),b.add(t.element,"has-tweets"))})},schedulePolling:function(t){var e=this;null!==this.pollInterval&&(t=twttr.widgets.poll||t||this.pollInterval||1e4,t>-1&&window.setTimeout(function(){this.isUpdating||e.update(),e.schedulePolling()},t))},updateCursors:function(t,e){(e||{}).initial?(this.cursors.maxPosition=t.maxPosition,this.cursors.minPosition=t.minPosition):(e||{}).newer?this.cursors.maxPosition=t.maxPosition||this.cursors.maxPosition:this.cursors.minPosition=t.minPosition||this.cursors.minPosition},requestTweets:function(t,e,i){var n=this,r={id:this.widgetId,instanceId:this.instanceId,screenName:this.widgetScreenName,userId:this.widgetUserId,withReplies:this.widgetShowReplies,dnt:this.dnt,lang:this.lang};e&&this.cursors.maxPosition?r.minPosition=this.cursors.maxPosition:!e&&this.cursors.minPosition?r.maxPosition=this.cursors.minPosition:e?r.sinceId=t:r.maxId=t,r.complete=function(){this.isUpdating=!1},r.error=function(t){if(t&&t.headers){if("404"==t.headers.status)return void(n.pollInterval=null);if("503"==t.headers.status)return void(n.pollInterval*=1.5)}},r.success=function(t){var r,o,s=n.sandbox.createDocumentFragment(),a=n.sandbox.createElement("ol"),c=[];if(n.updateCursors(t.headers,{newer:e}),t&&t.headers&&t.headers.xPolling&&/\d+/.test(t.headers.xPolling)&&(n.pollInterval=1e3*t.headers.xPolling),t&&void 0!==t.body){if(a.innerHTML=t.body,a.children[0]&&"LI"!=a.children[0].tagName)return;for(o=n.getTweetDetails(a),g.forIn(o,function(t){c.push(t)}),c.length&&(r=n.baseScribeData(),r.item_ids=c,r.item_details=o,r.event_initiator=e?T.CLIENT_SIDE_APP:T.CLIENT_SIDE_USER,this.timelineType&&l.enqueue({page:this.timelineType+"_timeline",component:"timeline",element:"initial",action:c.length?"results":"no_results"},r,!0,this.dnt),l.enqueue({page:"timeline",component:"timeline",element:e?"newer":"older",action:"results"},r,!0,n.dnt),l.flush()),u.retinize(a),n.constrainMedia(a);a.children[0];)s.appendChild(a.children[0]);i(s)}},a.timelinePoll(g.aug(r,this.override))},insertNewTweets:function(t){var e,i=this,n=y.one(N,this.element,"DIV"),r=y.one(S,n,"OL"),s=r.offsetHeight;return r.insertBefore(t,r.firstChild),e=r.offsetHeight-s,twttr.events.trigger("timelineUpdated",{target:this.sandbox.element(),region:"newer"}),n.scrollTop>40||this.mouseIsOver()?(n.scrollTop=n.scrollTop+e,this.updateTimeStamps(),void this.showNewTweetNotifier()):(b.remove(this.element,P),r.style.cssText="margin-top: -"+e+"px",window.setTimeout(function(){n.scrollTop=0,b.add(i.element,P),h.cssTransitions()?r.style.cssText="":o.animate(function(t){r.style.cssText=e>t?"margin-top: -"+(e-t)+"px":""},e,500,o.easeOut)},500),this.updateTimeStamps(),void("custom"!=this.timelineType&&this.gcTweets(50)))},appendTweets:function(t){var e=y.one(N,this.element,"DIV"),i=y.one(S,e,"OL");i.appendChild(t),this.updateTimeStamps(),twttr.events.trigger("timelineUpdated",{target:this.sandbox.element(),region:"older"})},gcTweets:function(t){var e,i=y.one(S,this.element,"OL"),n=i.children.length;for(t=t||50;n>t&&(e=i.children[n-1]);n--)i.removeChild(e)},showNewTweetNotifier:function(){var t=this,e=y.one(A,this.element,"DIV"),i=e.children[0];e.style.cssText="",e.removeChild(i),e.appendChild(i),b.add(this.element,F),window.setTimeout(function(){b.add(t.element,j)},10),this.newNoticeDisplayTime=+new Date,window.setTimeout(function(){t.hideNewTweetNotifier()},5e3)},hideNewTweetNotifier:function(t){var e=this;(t||!this.mouseOverNotifier)&&(b.remove(this.element,j),window.setTimeout(function(){b.remove(e.element,F)},500))},augmentWidgets:function(t){var e=y.one(R,t,"A");e&&(e.setAttribute("data-related",this.related),e.setAttribute("data-partner",this.partner),e.setAttribute("data-dnt",this.dnt),e.setAttribute("data-search-query",this.searchQuery),e.setAttribute("data-profile-id",this.profileId),this.width<250&&e.setAttribute("data-show-screen-name","false"),twttr.widgets.load(e.parentNode))},discardStaticOverflow:function(t){var e,i=y.one(S,t,"OL");if(this.staticTimeline)for(this.height=0;e=i.children[this.tweetLimit];)i.removeChild(e)},hideStreamScrollBar:function(){var t,e=y.one(N,this.element,"DIV"),i=y.one(S,this.element,"OL");e.style.width="",t=this.element.offsetWidth-i.offsetWidth,t>0&&(e.style.width=this.element.offsetWidth+t+"px")},readTranslations:function(){var t=this.element,e="data-dt-";this.datetime=new n(g.compact({phrases:{now:t.getAttribute(e+"now"),s:t.getAttribute(e+"s"),m:t.getAttribute(e+"m"),h:t.getAttribute(e+"h"),second:t.getAttribute(e+"second"),seconds:t.getAttribute(e+"seconds"),minute:t.getAttribute(e+"minute"),minutes:t.getAttribute(e+"minutes"),hour:t.getAttribute(e+"hour"),hours:t.getAttribute(e+"hours")},months:t.getAttribute(e+"months").split("|"),formats:{abbr:t.getAttribute(e+"abbr"),shortdate:t.getAttribute(e+"short"),longdate:t.getAttribute(e+"long")}}))},updateTimeStamps:function(){for(var t,e,i,n,r=y.all(C,this.element,"A"),o=0;t=r[o];o++)i=t.getAttribute("data-datetime"),n=i&&this.datetime.timeAgo(i,this.i18n),e=t.getElementsByTagName("TIME")[0],n&&(e&&e.innerHTML?e.innerHTML=n:t.innerHTML=n)},mouseIsOver:function(){return this.mouseOver},addUrlParams:function(t){var e=this,i={tw_w:this.widgetId,related:this.related,partner:this.partner,query:this.searchQuery,profile_id:this.profileId,original_referer:s.url(),tw_p:"embeddedtimeline"};return this.addUrlParams=c(i,function(t){var i=y.ancestor("."+k,t,e.element);return i&&{tw_i:i.getAttribute("data-tweet-id")}}),this.addUrlParams(t)},showNSFW:function(t){var e,i,n,r,o,s,a=y.one("nsfw",t,"DIV"),l=0;a&&(i=u.scaleDimensions(a.getAttribute("data-width"),a.getAttribute("data-height"),this.contentWidth(),a.getAttribute("data-height")),e=!!(r=a.getAttribute("data-player")),e?o=this.sandbox.createElement("iframe"):(o=this.sandbox.createElement("img"),r=a.getAttribute(h.retina()?"data-image-2x":"data-image"),o.alt=a.getAttribute("data-alt"),s=this.sandbox.createElement("a"),s.href=a.getAttribute("data-href"),s.appendChild(o)),o.title=a.getAttribute("data-title"),o.src=r,o.width=i.width,o.height=i.height,n=y.ancestor("."+O,a,t),l=i.height-a.offsetHeight,a.parentNode.replaceChild(e?o:s,a),n.style.cssText="height:"+(n.offsetHeight+l)+"px")},toggleExpando:function(t){var i,n,r=y.one(O,t,"DIV"),o=r&&r.children[0],s=o&&o.getAttribute("data-expanded-media"),a=0,l=y.one(L,t,"A"),c=l&&l.getElementsByTagName("B")[0],d=c&&(c.innerText||c.textContent);if(c){if(this.layout(function(){c.innerHTML=l.getAttribute("data-toggled-text"),l.setAttribute("data-toggled-text",d)}),b.present(t,D))return this.layout(function(){b.remove(t,D)}),r?(this.layout(function(){r.style.cssText="",o.innerHTML=""}),void e.doLayout()):void e.doLayout();s&&(i=this.sandbox.createElement("DIV"),i.innerHTML=s,u.retinize(i),a=this.constrainMedia(i),this.layout(function(){o.appendChild(i)})),r&&this.layout(function(){n=Math.max(o.offsetHeight,a),r.style.cssText="height:"+n+"px"}),this.layout(function(){b.add(t,D)}),e.doLayout()}},recalculateStreamHeight:function(t){var e=y.one(E,this.element,"DIV"),i=y.one(I,this.element,"DIV"),n=y.one(N,this.element,"DIV");this.layout(g.bind(function(){var r=e.offsetHeight+(i?i.offsetHeight:0),o=t||this.sandbox.height();n.style.cssText="height:"+(o-r-2)+"px",this.noscrollbar&&this.hideStreamScrollBar()},this))},handleResize:function(t,i){var n=Math.min(this.dimensions.DEFAULT_WIDTH,Math.max(this.dimensions.MIN_WIDTH,Math.min(this.predefinedWidth||this.dimensions.DEFAULT_WIDTH,t)));(n!=this.width||i!=this.height)&&(this.width=n,this.height=i,this.setNarrow(),this.constrainMedia(this.element,this.contentWidth(n)),this.staticTimeline?this.layout(g.bind(function(){this.height=this.element.offsetHeight,this.sandbox.height(this.height),twttr.events.trigger("resize",{target:this.sandbox.element()})},this)):(this.recalculateStreamHeight(i),twttr.events.trigger("resize",{target:this.sandbox.element()})),e.doLayoutAsync())}}),t(_)})}),provide("tfw/widget/embed",function(t){using("tfw/widget/base","tfw/widget/syndicatedbase","util/datetime","tfw/util/params","dom/classname","dom/get","util/env","util/promise","util/util","util/throttle","util/twitter","tfw/util/article","tfw/util/data","tfw/util/tracking","tfw/util/media",function(e,i,n,r,o,s,a,u,l,c,d,h,f,m,w){function p(t,e,i,n){var r=s.one("subject",t,"BLOCKQUOTE"),o=s.one("reply",t,"BLOCKQUOTE"),a=r&&r.getAttribute("data-tweet-id"),u=o&&o.getAttribute("data-tweet-id"),c={},d={};a&&(c[a]={item_type:0},m.enqueue({page:"tweet",section:"subject",component:"tweet",action:"results"},l.aug({},e,{item_ids:[a],item_details:c}),!0,n),u&&(d[u]={item_type:0},m.enqueue({page:"tweet",section:"conversation",component:"tweet",action:"results"},l.aug({},e,{item_ids:[u],item_details:d,associations:{4:{association_id:a,association_type:4}}}),!0,n),m.enqueueAudienceImpression({page:"tweet"},n)))}function g(t,e,i){var n={};t&&(n[t]={item_type:0},m.enqueue({page:"tweet",section:"subject",component:"rawembedcode",action:"no_results"},{widget_origin:h.url(),widget_frame:h.frameUrl(),message:e,item_ids:[t],item_details:n},!0,i),m.enqueueAudienceImpression({page:"tweet"},i))}function v(t,e,i,n){T[t]=T[t]||[],T[t].push({s:i,f:n,lang:e})}function b(){A.length&&twttr.widgets.load(A)}function y(t){if(t){var e,n,r;i.apply(this,[t]),e=this.params(),n=this.srcEl&&this.srcEl.getElementsByTagName("A"),r=n&&n[n.length-1],this.hideThread="none"==(e.conversation||this.dataAttr("conversation"))||~l.indexOf(this.classAttr,"tw-hide-thread"),this.hideCard="hidden"==(e.cards||this.dataAttr("cards"))||~l.indexOf(this.classAttr,"tw-hide-media"),"left"==(e.align||this.attr("align"))||~l.indexOf(this.classAttr,"tw-align-left")?this.align="left":"right"==(e.align||this.attr("align"))||~l.indexOf(this.classAttr,"tw-align-right")?this.align="right":("center"==(e.align||this.attr("align"))||~l.indexOf(this.classAttr,"tw-align-center"))&&(this.align="center",this.containerWidth>this.dimensions.MIN_WIDTH*(1/.7)&&this.width>.7*this.containerWidth&&(this.width=.7*this.containerWidth)),this.narrow=e.narrow||this.width<=this.dimensions.NARROW_WIDTH,this.narrow&&this.classAttr.push("var-narrow"),this.tweetId=e.tweetId||r&&d.status(r.href)}}var _="tweetembed",T={},x=[],A=[];y.prototype=new i,l.aug(y.prototype,{renderedClassNames:"twitter-tweet twitter-tweet-rendered",dimensions:{DEFAULT_HEIGHT:"0",DEFAULT_WIDTH:"500",NARROW_WIDTH:"350",MIN_WIDTH:"220",MIN_HEIGHT:"0",WIDE_MEDIA_PADDING:32,NARROW_MEDIA_PADDING:32,BORDERS:0},create:function(t){var e,i,n=this.sandbox.createElement("div");return n.innerHTML=t,(e=n.children[0]||!1)?("dark"==this.theme&&this.classAttr.push("thm-dark"),this.linkColor&&this.addSiteStyles(),o.present(e,"media-forward")&&(this.fullBleedPhoto=!0),this.augmentWidgets(e),w.retinize(e),e.id=this.id,e.className+=" "+this.classAttr.join(" "),e.lang=this.lang,this.sandbox.setTitle(e.getAttribute("data-iframe-title")||"Tweet"),this.sandbox.appendChild(e).then(l.bind(function(){this.renderResolver.fulfill(this.sandbox)},this)),this.sandbox.style({cssText:"",display:"block",maxWidth:"99%",minWidth:this.dimensions.MIN_WIDTH+"px",padding:"0",borderRadius:"5px",margin:"10px 0",border:"#ddd 1px solid",borderTopColor:"#eee",borderBottomColor:"#bbb",boxShadow:"0 1px 3px rgba(0,0,0,0.15)",position:"absolute",visibility:"hidden"}),i=this.layout(l.bind(function(){this.predefinedWidth=this.width,this.width=this.sandbox.width(this.width),this.collapseRegions()},this),"Insert Sandbox"),i.then(l.bind(function(){this.constrainMedia(e,this.contentWidth(this.width)),this.setNarrow().then(l.bind(function(){this.layout(l.bind(function(){this.completeResolver.fulfill(this.sandbox.element())},this))},this))},this)),p(e,this.baseScribeData(),this.partner,this.dnt),e):void 0},render:function(t,i){var n="",r=this.tweetId;return r?(this.hideCard&&(n+="c"),this.hideThread&&(n+="t"),n&&(r+="-"+n),this.rendered().then(l.bind(function(t){this.srcEl&&this.srcEl.parentNode&&this.layout(l.bind(function(){this.srcEl&&this.srcEl.parentNode&&this.srcEl.parentNode.removeChild(this.srcEl)},this),"Remove Embed Code"),"center"==this.align?t.style({margin:"7px auto",cssFloat:"none"}):this.align&&(this.width==this.dimensions.DEFAULT_WIDTH&&(this.predefinedWidth=this.width=this.dimensions.NARROW_WIDTH),t.style({cssFloat:this.align})),this.layout(l.bind(function(){this.height=this.sandbox.height(this.element.offsetHeight)},this)).then(l.bind(function(){return e.doLayoutAsync(),this.layout(l.bind(function(){this.height=this.sandbox.height(this.element.offsetHeight)},this))},this)).then(l.bind(function(){t.onresize(l.bind(this.handleResize,this))},this)),t.style({position:"static",visibility:"visible"}),e.doLayoutAsync()},this)),v(r,this.lang,l.bind(function(t){this.ready().then(l.bind(function(){this.element=this.create(t),this.readTimestampTranslations(),this.updateTimeStamps(),this.bindIntentHandlers(),e.doLayoutAsync()},this))},this),l.bind(function(){g(this.tweetId,this.partner,this.dnt),this.completeResolver.fulfill(this.srcEl)},this)),x.push(this.completed()),i&&this.completed().then(i),this.completed()):(this.completeResolver.fulfill(this.srcEl),this.completed())},augmentWidgets:function(t){var e=s.one("twitter-follow-button",t,"A");e&&(e.setAttribute("data-related",this.related),e.setAttribute("data-partner",this.partner),e.setAttribute("data-dnt",this.dnt),e.setAttribute("data-show-screen-name","false"),A.push(e.parentNode))},addUrlParams:function(t){var e=this,i={related:this.related,partner:this.partner,original_referer:h.url(),tw_p:_};return this.addUrlParams=r(i,function(t){var i=s.ancestor(".tweet",t,e.element);return{tw_i:i.getAttribute("data-tweet-id")}}),this.addUrlParams(t)},baseScribeData:function(){return{widget_origin:h.url(),widget_frame:h.frameUrl(),message:this.partner}},handleResize:function(t){t!=this.width&&(this.width=t,this.setNarrow(),this.constrainMedia(this.element,this.contentWidth(t)),this.collapseRegions(),this.layout(l.bind(function(){this.height=this.sandbox.height(this.element.offsetHeight),twttr.events.trigger("resize",{target:this.sandbox.element()})},this)),e.doLayoutAsync())},readTimestampTranslations:function(){var t=this.element,e="data-dt-",i=t.getAttribute(e+"months")||"";this.datetime=new n(l.compact({phrases:{AM:t.getAttribute(e+"am"),PM:t.getAttribute(e+"pm")},months:i.split("|"),formats:{full:t.getAttribute(e+"full")}}))},updateTimeStamps:function(){var t=s.one("long-permalink",this.element,"A"),i=t.getAttribute("data-datetime"),n=i&&this.datetime.localTimeStamp(i),r=t.getElementsByTagName("TIME")[0];n&&(this.layout(function(){return r&&r.innerHTML?void(r.innerHTML=n):void(t.innerHTML=n)},"Update Timestamp"),e.doLayoutAsync())}}),y.fetchAndRender=function(){var t,i,n=T,r=[];if(T={},n.keys)r=n.keys();else for(t in n)n.hasOwnProperty(t)&&r.push(t);r.length&&(m.initPostLogging(),i=n[r[0]][0].lang,f.tweets({ids:r.sort(),lang:i,complete:function(t){l.forIn(t,function(t,e){var i=n[t];l.forEach(i,function(t){t.s&&t.s.call(this,e)}),delete n[t]}),e.doLayout(),l.forIn(n,function(t,e){l.forEach(e,function(e){e.f&&e.f.call(this,t)})}),e.doLayout()}}),u.every.apply(null,x).then(function(){b(),m.flush()}),x=[])},e.afterLoad(y.fetchAndRender),t(y)})}),provide("dom/textsize",function(t){function e(t,e,i){for(var n,r=[],o=0;n=i[o];o++)r.push(n[0]),r.push(n[1]);return t+e+r.join(":")}function i(t){var e=t||"";return e.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}var n={};t(function(t,r,o){var s,a=document.createElement("span"),u={},l="",c=0,d=0,h=[];if(o=o||[],r=r||"",l=e(t,r,o),n[l])return n[l];a.className=r+" twitter-measurement";try{for(;s=o[c];c++)a.style[s[0]]=s[1]}catch(f){for(;s=o[d];d++)h.push(i(s[0])+":"+s[1]);a.setAttribute("style",h.join(";")+";")}return a.innerHTML=t,document.body.appendChild(a),u.width=a.clientWidth||a.offsetWidth,u.height=a.clientHeight||a.offsetHeight,document.body.removeChild(a),a=null,n[l]=u})}),provide("tfw/widget/follow",function(t){using("util/util","tfw/widget/base","util/querystring","util/uri","util/twitter","util/promise","dom/textsize",function(e,i,n,r,o,s,a){function u(t){if(t){var e,n,r,s;i.apply(this,[t]),e=this.params(),n=e.size||this.dataAttr("size"),r=e.showScreenName||this.dataAttr("show-screen-name"),s=e.count||this.dataAttr("count"),this.classAttr.push("twitter-follow-button"),this.showScreenName="false"!=r,this.showCount=!(e.showCount===!1||"false"==this.dataAttr("show-count")),"none"==s&&(this.showCount=!1),this.explicitWidth=e.width||this.dataAttr("width")||"",this.screenName=e.screen_name||e.screenName||o.screenName(this.attr("href")),this.preview=e.preview||this.dataAttr("preview")||"",this.align=e.align||this.dataAttr("align")||"",this.size="large"==n?"l":"m"}}u.prototype=new i,e.aug(u.prototype,{iframeSource:"/widgets/follow_button.dfe2870600732ba0b3122cd8d2f9933c.{{lang}}.html",widgetUrlParams:function(){return e.compact({screen_name:this.screenName,lang:this.lang,show_count:this.showCount,show_screen_name:this.showScreenName,align:this.align,id:this.id,preview:this.preview,size:this.size,partner:this.partner,dnt:this.dnt,_:+new Date})},width:function(){if(this.calculatedWidth)return this.calculatedWidth;if(this.explicitWidth)return this.explicitWidth;var t,i,n={cnt:13,btn:24,xlcnt:22,xlbtn:38},r=this.showScreenName?"Follow %{screen_name}":"Follow",o=this._(r,{screen_name:"@"+this.screenName}),s=this._(~e.indexOf(["ja","ko"],this.lang)?"10k unit":"M"),u=this._("%{followers_count} followers",{followers_count:"88888"+s}),l=0,c=0,d=this.styles.base;return"l"==this.size?(d=d.concat(this.styles.large),t=n.xlbtn,i=n.xlcnt):(t=n.btn,i=n.cnt),this.showCount&&(c=a(u,"",d).width+i),l=a(o,"",d.concat(this.styles.button)).width+t,this.calculatedWidth=l+c},render:function(t,i){if(!this.screenName)return s.reject("Missing Screen Name").then(i);var n=this.makeIframeSource(),r=this.create(n,this.dimensions(),{title:this._("Twitter Follow Button")}).then(e.bind(function(t){return this.element=t},this));return i&&r.then(i),r}}),t(u)})}),provide("tfw/widget/tweetbutton",function(t){using("tfw/widget/base","tfw/util/globals","util/util","util/querystring","util/uri","util/twitter","util/typevalidator","dom/textsize",function(e,i,n,r,o,s,a,u){function l(t){e.apply(this,[t]);var r=this.params(),a=r.count||this.dataAttr("count"),u=r.size||this.dataAttr("size"),l=o.getScreenNameFromPage(),m=""+(r.shareWithRetweet||this.dataAttr("share-with-retweet")||i.val("share-with-retweet"));this.classAttr.push("twitter-tweet-button"),"hashtag"==r.type||~n.indexOf(this.classAttr,"twitter-hashtag-button")?(this.type="hashtag",this.classAttr.push("twitter-hashtag-button")):"mention"==r.type||~n.indexOf(this.classAttr,"twitter-mention-button")?(this.type="mention",this.classAttr.push("twitter-mention-button")):this.classAttr.push("twitter-share-button"),this.text=r.text||this.dataAttr("text"),this.text&&/\+/.test(this.text)&&!/ /.test(this.text)&&(this.text=this.text.replace(/\+/g," ")),this.counturl=r.counturl||this.dataAttr("counturl"),this.searchlink=r.searchlink||this.dataAttr("searchlink"),this.button_hashtag=s.hashTag(r.button_hashtag||r.hashtag||this.dataAttr("button-hashtag"),!1),this.size="large"==u?"l":"m",this.align=r.align||this.dataAttr("align")||"",this.via=r.via||this.dataAttr("via"),this.hashtags=r.hashtags||this.dataAttr("hashtags"),this.screen_name=s.screenName(r.screen_name||r.screenName||this.dataAttr("button-screen-name")),this.url=r.url||this.dataAttr("url"),this.type?(this.count="none",this.shareWithRetweet="never",l&&(this.related=this.related?l+","+this.related:l)):(this.text=this.text||c,this.url=this.url||o.getCanonicalURL()||d,this.count=~n.indexOf(h,a)?a:"horizontal",this.count="vertical"==this.count&&"l"==this.size?"none":this.count,this.via=this.via||l,m&&~n.indexOf(f,m)&&(this.shareWithRetweet=m.replace("-","_")))}var c=document.title,d=location.href,h=["vertical","horizontal","none"],f=[,"never","publisher-first","publisher-only","author-first","author-only"];l.prototype=new e,n.aug(l.prototype,{iframeSource:"/widgets/tweet_button.d4db41a5a14a4516e6d4ecf6250c7419.{{lang}}.html",widgetUrlParams:function(){return n.compact({text:this.text,url:this.url,via:this.via,related:this.related,count:this.count,lang:this.lang,counturl:this.counturl,searchlink:this.searchlink,placeid:this.placeid,original_referer:location.href,id:this.id,size:this.size,type:this.type,screen_name:this.screen_name,share_with_retweet:this.shareWithRetweet,button_hashtag:this.button_hashtag,hashtags:this.hashtags,align:this.align,partner:this.partner,dnt:this.dnt,_:+new Date})},height:function(){return"vertical"==this.count?62:"m"==this.size?20:28},width:function(){var t={ver:8,cnt:14,btn:24,xlcnt:18,xlbtn:38},e="vertical"==this.count,i="hashtag"==this.type&&this.button_hashtag?"Tweet %{hashtag}":"mention"==this.type&&this.screen_name?"Tweet to %{name}":"Tweet",r=this._(i,{name:"@"+this.screen_name,hashtag:"#"+this.button_hashtag}),o=this._("K"),s=this._("100K+"),a=(e?"8888":"88888")+o,l=0,c=0,d=0,h=0,f=this.styles.base,m=f;return~n.indexOf(["ja","ko"],this.lang)?a+=this._("10k unit"):a=a.length>s.length?a:s,e?(m=f.concat(this.styles.vbubble),h=t.ver,d=t.btn):"l"==this.size?(f=m=f.concat(this.styles.large),d=t.xlbtn,h=t.xlcnt):(d=t.btn,h=t.cnt),"none"!=this.count&&(c=u(a,"",m).width+h),l=u(r,"",f.concat(this.styles.button)).width+d,e?l>c?l:c:this.calculatedWidth=l+c},render:function(t,e){var i,r=this.makeIframeSource();return this.count&&this.classAttr.push("twitter-count-"+this.count),i=this.create(r,this.dimensions(),{title:this._("Twitter Tweet Button")}).then(n.bind(function(t){return this.element=t},this)),e&&i.then(e),i}}),t(l)})}),provide("tfw/factories",function(t){using("util/util","util/promise","util/twitter","tfw/widget/base","tfw/widget/tweetbutton","tfw/widget/follow","tfw/widget/embed","tfw/widget/timeline",function(e,i,n,r,o,s,a,u){function l(t,n,o,s){return t=t||[],o=o||{},function(){var a,u,l,c,d=Array.prototype.slice.apply(arguments,[0,t.length]),h=Array.prototype.slice.apply(arguments,[t.length]);return e.forEach(h,function(t){return t?1===t.nodeType?void(l=t):e.isType("function",t)?void(a=t):void(e.isType("object",t)&&(u=t)):void 0}),d.length!=t.length||0===h.length?(a&&e.async(function(){a(!1)}),i.reject("Not enough parameters")):l?(u=e.aug(u||{},o),u.targetEl=l,e.forEach(t,function(t){u[t]=d.shift()}),c=new n(u),r.doLayout(),c.render(twttr.widgets.config),s&&s(),a&&c.completed().then(a,function(){a(!1)}),c.completed()):(a&&e.async(function(){a(!1)}),i.reject("No target specified"))}}function c(t){var i;t.linkColor=t.linkColor||t.previewParams.link_color,t.theme=t.theme||t.previewParams.theme,t.height=t.height||t.previewParams.height,i=new u(t),this.render=e.bind(i.render,i),this.completed=e.bind(i.completed,i)}var d=l(["url"],o,{type:"share"}),h=l(["hashtag"],o,{type:"hashtag"}),f=l(["screenName"],o,{type:"mention"}),m=l(["screenName"],s),w=l(["tweetId"],a,{},a.fetchAndRender),p=l(["widgetId"],u),g=l(["previewParams"],c),v={createShareButton:d,createMentionButton:f,createHashtagButton:h,createFollowButton:m,createTweet:w,createTweetEmbed:w,createTimeline:p};n.isTwitterURL(window.location.href)&&(v.createTimelinePreview=g),t(v)})}),!function(){window.twttr=window.twttr||{},twttr.host=twttr.host||"platform.twitter.com",using("util/domready","util/env","util/logger",function(t,e,i){function n(t){return!t&&/^http\:$/.test(window.location.protocol)||twttr.ignoreSSL?"http":"https"}if(!e.ie6()){if(twttr.widgets&&twttr.widgets.loaded)return twttr.widgets.load(),!1;if(twttr.init)return!1;twttr.init=!0,twttr._e=twttr._e||[],twttr.ready=twttr.ready||function(t){twttr.widgets&&twttr.widgets.loaded?t(twttr):twttr._e.push(t)},twttr.ignoreSSL=twttr.ignoreSSL||!1;var r=[];twttr.events={bind:function(t,e){return r.push([t,e])}},t(function(){using("tfw/widget/base","tfw/widget/follow","tfw/widget/tweetbutton","tfw/widget/embed","tfw/widget/timeline","tfw/widget/intent","tfw/factories","tfw/util/article","util/events","util/util",function(t,e,o,s,a,u,l,c,d,h){function f(t){var e=twttr.host;return"https"==n(t)&&twttr.secureHost&&(e=twttr.secureHost),n(t)+"://"+e}function m(){using("tfw/hub/client",function(t){twttr.events.hub=t.init(p),t.init(p,!0)})}var w,p={widgets:{"a.twitter-share-button":o,"a.twitter-mention-button":o,"a.twitter-hashtag-button":o,"a.twitter-follow-button":e,"blockquote.twitter-tweet":s,"a.twitter-timeline":a,"div.twitter-timeline":a,body:u}},g=twttr.events&&twttr.events.hub?twttr.events:{};p.assetUrl=f,twttr.widgets=twttr.widgets||{},h.aug(twttr.widgets,l,{config:{assetUrl:f},load:function(e){i.time("load"),t.init(p),t.embed(e),twttr.widgets.loaded=!0}}),h.aug(twttr.events,g,d.Emitter),w=twttr.events.bind,twttr.events.bind=function(t,e){m(),this.bind=w,this.bind(t,e)},h.forEach(r,function(t){twttr.events.bind(t[0],t[1])}),h.forEach(twttr._e,function(t){h.async(function(){t(twttr)})}),twttr.ready=function(t){h.async(function(){t(twttr)})},twttr.widgets.load()})})}})}()}();;(function(window){window.navigator.is_ios=/(iPad|iPhone|iPod)/.test(navigator.userAgent);window.navigator.is_touch_device=/(iPad|iPhone|iPod|Android)/.test(navigator.userAgent);window.console=window.console||{log:function(){window.console.messages.push(arguments)},messages:[]};window.console._debug=function(){if(window.DEBUG)window.console.log.apply(window.console,arguments)};var s4=function(){return Math.floor((1+Math.random())*0x10000).toString(16).substring(1);};window.guid=function(){return[s4()+s4(),s4(),s4(),s4(),s4()+s4()+s4()].join('-');};})(window);RegExp.escape=RegExp.escape||function(str){return str.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");};Array.prototype.unique=function(){var r=[];for(i=0;i<this.length;i++){if(r.indexOf(this[i])===-1)r.push(this[i]);}
return r;};/*!
 * jQuery JavaScript Library v1.11.1
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-05-01T17:42Z
 */
(function(global,factory){if(typeof module==="object"&&typeof module.exports==="object"){module.exports=global.document?factory(global,true):function(w){if(!w.document){throw new Error("jQuery requires a window with a document");}
return factory(w);};}else{factory(global);}}(typeof window!=="undefined"?window:this,function(window,noGlobal){var deletedIds=[];var slice=deletedIds.slice;var concat=deletedIds.concat;var push=deletedIds.push;var indexOf=deletedIds.indexOf;var class2type={};var toString=class2type.toString;var hasOwn=class2type.hasOwnProperty;var support={};var
version="1.11.1",jQuery=function(selector,context){return new jQuery.fn.init(selector,context);},rtrim=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rmsPrefix=/^-ms-/,rdashAlpha=/-([\da-z])/gi,fcamelCase=function(all,letter){return letter.toUpperCase();};jQuery.fn=jQuery.prototype={jquery:version,constructor:jQuery,selector:"",length:0,toArray:function(){return slice.call(this);},get:function(num){return num!=null?(num<0?this[num+this.length]:this[num]):slice.call(this);},pushStack:function(elems){var ret=jQuery.merge(this.constructor(),elems);ret.prevObject=this;ret.context=this.context;return ret;},each:function(callback,args){return jQuery.each(this,callback,args);},map:function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem);}));},slice:function(){return this.pushStack(slice.apply(this,arguments));},first:function(){return this.eq(0);},last:function(){return this.eq(-1);},eq:function(i){var len=this.length,j=+i+(i<0?len:0);return this.pushStack(j>=0&&j<len?[this[j]]:[]);},end:function(){return this.prevObject||this.constructor(null);},push:push,sort:deletedIds.sort,splice:deletedIds.splice};jQuery.extend=jQuery.fn.extend=function(){var src,copyIsArray,copy,name,options,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=false;if(typeof target==="boolean"){deep=target;target=arguments[i]||{};i++;}
if(typeof target!=="object"&&!jQuery.isFunction(target)){target={};}
if(i===length){target=this;i--;}
for(;i<length;i++){if((options=arguments[i])!=null){for(name in options){src=target[name];copy=options[name];if(target===copy){continue;}
if(deep&&copy&&(jQuery.isPlainObject(copy)||(copyIsArray=jQuery.isArray(copy)))){if(copyIsArray){copyIsArray=false;clone=src&&jQuery.isArray(src)?src:[];}else{clone=src&&jQuery.isPlainObject(src)?src:{};}
target[name]=jQuery.extend(deep,clone,copy);}else if(copy!==undefined){target[name]=copy;}}}}
return target;};jQuery.extend({expando:"jQuery"+(version+Math.random()).replace(/\D/g,""),isReady:true,error:function(msg){throw new Error(msg);},noop:function(){},isFunction:function(obj){return jQuery.type(obj)==="function";},isArray:Array.isArray||function(obj){return jQuery.type(obj)==="array";},isWindow:function(obj){return obj!=null&&obj==obj.window;},isNumeric:function(obj){return!jQuery.isArray(obj)&&obj-parseFloat(obj)>=0;},isEmptyObject:function(obj){var name;for(name in obj){return false;}
return true;},isPlainObject:function(obj){var key;if(!obj||jQuery.type(obj)!=="object"||obj.nodeType||jQuery.isWindow(obj)){return false;}
try{if(obj.constructor&&!hasOwn.call(obj,"constructor")&&!hasOwn.call(obj.constructor.prototype,"isPrototypeOf")){return false;}}catch(e){return false;}
if(support.ownLast){for(key in obj){return hasOwn.call(obj,key);}}
for(key in obj){}
return key===undefined||hasOwn.call(obj,key);},type:function(obj){if(obj==null){return obj+"";}
return typeof obj==="object"||typeof obj==="function"?class2type[toString.call(obj)]||"object":typeof obj;},globalEval:function(data){if(data&&jQuery.trim(data)){(window.execScript||function(data){window["eval"].call(window,data);})(data);}},camelCase:function(string){return string.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase);},nodeName:function(elem,name){return elem.nodeName&&elem.nodeName.toLowerCase()===name.toLowerCase();},each:function(obj,callback,args){var value,i=0,length=obj.length,isArray=isArraylike(obj);if(args){if(isArray){for(;i<length;i++){value=callback.apply(obj[i],args);if(value===false){break;}}}else{for(i in obj){value=callback.apply(obj[i],args);if(value===false){break;}}}}else{if(isArray){for(;i<length;i++){value=callback.call(obj[i],i,obj[i]);if(value===false){break;}}}else{for(i in obj){value=callback.call(obj[i],i,obj[i]);if(value===false){break;}}}}
return obj;},trim:function(text){return text==null?"":(text+"").replace(rtrim,"");},makeArray:function(arr,results){var ret=results||[];if(arr!=null){if(isArraylike(Object(arr))){jQuery.merge(ret,typeof arr==="string"?[arr]:arr);}else{push.call(ret,arr);}}
return ret;},inArray:function(elem,arr,i){var len;if(arr){if(indexOf){return indexOf.call(arr,elem,i);}
len=arr.length;i=i?i<0?Math.max(0,len+i):i:0;for(;i<len;i++){if(i in arr&&arr[i]===elem){return i;}}}
return-1;},merge:function(first,second){var len=+second.length,j=0,i=first.length;while(j<len){first[i++]=second[j++];}
if(len!==len){while(second[j]!==undefined){first[i++]=second[j++];}}
first.length=i;return first;},grep:function(elems,callback,invert){var callbackInverse,matches=[],i=0,length=elems.length,callbackExpect=!invert;for(;i<length;i++){callbackInverse=!callback(elems[i],i);if(callbackInverse!==callbackExpect){matches.push(elems[i]);}}
return matches;},map:function(elems,callback,arg){var value,i=0,length=elems.length,isArray=isArraylike(elems),ret=[];if(isArray){for(;i<length;i++){value=callback(elems[i],i,arg);if(value!=null){ret.push(value);}}}else{for(i in elems){value=callback(elems[i],i,arg);if(value!=null){ret.push(value);}}}
return concat.apply([],ret);},guid:1,proxy:function(fn,context){var args,proxy,tmp;if(typeof context==="string"){tmp=fn[context];context=fn;fn=tmp;}
if(!jQuery.isFunction(fn)){return undefined;}
args=slice.call(arguments,2);proxy=function(){return fn.apply(context||this,args.concat(slice.call(arguments)));};proxy.guid=fn.guid=fn.guid||jQuery.guid++;return proxy;},now:function(){return+(new Date());},support:support});jQuery.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(i,name){class2type["[object "+name+"]"]=name.toLowerCase();});function isArraylike(obj){var length=obj.length,type=jQuery.type(obj);if(type==="function"||jQuery.isWindow(obj)){return false;}
if(obj.nodeType===1&&length){return true;}
return type==="array"||length===0||typeof length==="number"&&length>0&&(length-1)in obj;}
var Sizzle=/*!
 * Sizzle CSS Selector Engine v1.10.19
 * http://sizzlejs.com/
 *
 * Copyright 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-04-18
 */
(function(window){var i,support,Expr,getText,isXML,tokenize,compile,select,outermostContext,sortInput,hasDuplicate,setDocument,document,docElem,documentIsHTML,rbuggyQSA,rbuggyMatches,matches,contains,expando="sizzle"+-(new Date()),preferredDoc=window.document,dirruns=0,done=0,classCache=createCache(),tokenCache=createCache(),compilerCache=createCache(),sortOrder=function(a,b){if(a===b){hasDuplicate=true;}
return 0;},strundefined=typeof undefined,MAX_NEGATIVE=1<<31,hasOwn=({}).hasOwnProperty,arr=[],pop=arr.pop,push_native=arr.push,push=arr.push,slice=arr.slice,indexOf=arr.indexOf||function(elem){var i=0,len=this.length;for(;i<len;i++){if(this[i]===elem){return i;}}
return-1;},booleans="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",whitespace="[\\x20\\t\\r\\n\\f]",characterEncoding="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",identifier=characterEncoding.replace("w","w#"),attributes="\\["+whitespace+"*("+characterEncoding+")(?:"+whitespace+
"*([*^$|!~]?=)"+whitespace+
"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+identifier+"))|)"+whitespace+
"*\\]",pseudos=":("+characterEncoding+")(?:\\(("+
"('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|"+
"((?:\\\\.|[^\\\\()[\\]]|"+attributes+")*)|"+
".*"+
")\\)|)",rtrim=new RegExp("^"+whitespace+"+|((?:^|[^\\\\])(?:\\\\.)*)"+whitespace+"+$","g"),rcomma=new RegExp("^"+whitespace+"*,"+whitespace+"*"),rcombinators=new RegExp("^"+whitespace+"*([>+~]|"+whitespace+")"+whitespace+"*"),rattributeQuotes=new RegExp("="+whitespace+"*([^\\]'\"]*?)"+whitespace+"*\\]","g"),rpseudo=new RegExp(pseudos),ridentifier=new RegExp("^"+identifier+"$"),matchExpr={"ID":new RegExp("^#("+characterEncoding+")"),"CLASS":new RegExp("^\\.("+characterEncoding+")"),"TAG":new RegExp("^("+characterEncoding.replace("w","w*")+")"),"ATTR":new RegExp("^"+attributes),"PSEUDO":new RegExp("^"+pseudos),"CHILD":new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+whitespace+
"*(even|odd|(([+-]|)(\\d*)n|)"+whitespace+"*(?:([+-]|)"+whitespace+
"*(\\d+)|))"+whitespace+"*\\)|)","i"),"bool":new RegExp("^(?:"+booleans+")$","i"),"needsContext":new RegExp("^"+whitespace+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+
whitespace+"*((?:-\\d)?\\d*)"+whitespace+"*\\)|)(?=[^-]|$)","i")},rinputs=/^(?:input|select|textarea|button)$/i,rheader=/^h\d$/i,rnative=/^[^{]+\{\s*\[native \w/,rquickExpr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,rsibling=/[+~]/,rescape=/'|\\/g,runescape=new RegExp("\\\\([\\da-f]{1,6}"+whitespace+"?|("+whitespace+")|.)","ig"),funescape=function(_,escaped,escapedWhitespace){var high="0x"+escaped-0x10000;return high!==high||escapedWhitespace?escaped:high<0?String.fromCharCode(high+0x10000):String.fromCharCode(high>>10|0xD800,high&0x3FF|0xDC00);};try{push.apply((arr=slice.call(preferredDoc.childNodes)),preferredDoc.childNodes);arr[preferredDoc.childNodes.length].nodeType;}catch(e){push={apply:arr.length?function(target,els){push_native.apply(target,slice.call(els));}:function(target,els){var j=target.length,i=0;while((target[j++]=els[i++])){}
target.length=j-1;}};}
function Sizzle(selector,context,results,seed){var match,elem,m,nodeType,i,groups,old,nid,newContext,newSelector;if((context?context.ownerDocument||context:preferredDoc)!==document){setDocument(context);}
context=context||document;results=results||[];if(!selector||typeof selector!=="string"){return results;}
if((nodeType=context.nodeType)!==1&&nodeType!==9){return[];}
if(documentIsHTML&&!seed){if((match=rquickExpr.exec(selector))){if((m=match[1])){if(nodeType===9){elem=context.getElementById(m);if(elem&&elem.parentNode){if(elem.id===m){results.push(elem);return results;}}else{return results;}}else{if(context.ownerDocument&&(elem=context.ownerDocument.getElementById(m))&&contains(context,elem)&&elem.id===m){results.push(elem);return results;}}}else if(match[2]){push.apply(results,context.getElementsByTagName(selector));return results;}else if((m=match[3])&&support.getElementsByClassName&&context.getElementsByClassName){push.apply(results,context.getElementsByClassName(m));return results;}}
if(support.qsa&&(!rbuggyQSA||!rbuggyQSA.test(selector))){nid=old=expando;newContext=context;newSelector=nodeType===9&&selector;if(nodeType===1&&context.nodeName.toLowerCase()!=="object"){groups=tokenize(selector);if((old=context.getAttribute("id"))){nid=old.replace(rescape,"\\$&");}else{context.setAttribute("id",nid);}
nid="[id='"+nid+"'] ";i=groups.length;while(i--){groups[i]=nid+toSelector(groups[i]);}
newContext=rsibling.test(selector)&&testContext(context.parentNode)||context;newSelector=groups.join(",");}
if(newSelector){try{push.apply(results,newContext.querySelectorAll(newSelector));return results;}catch(qsaError){}finally{if(!old){context.removeAttribute("id");}}}}}
return select(selector.replace(rtrim,"$1"),context,results,seed);}
function createCache(){var keys=[];function cache(key,value){if(keys.push(key+" ")>Expr.cacheLength){delete cache[keys.shift()];}
return(cache[key+" "]=value);}
return cache;}
function markFunction(fn){fn[expando]=true;return fn;}
function assert(fn){var div=document.createElement("div");try{return!!fn(div);}catch(e){return false;}finally{if(div.parentNode){div.parentNode.removeChild(div);}
div=null;}}
function addHandle(attrs,handler){var arr=attrs.split("|"),i=attrs.length;while(i--){Expr.attrHandle[arr[i]]=handler;}}
function siblingCheck(a,b){var cur=b&&a,diff=cur&&a.nodeType===1&&b.nodeType===1&&(~b.sourceIndex||MAX_NEGATIVE)-
(~a.sourceIndex||MAX_NEGATIVE);if(diff){return diff;}
if(cur){while((cur=cur.nextSibling)){if(cur===b){return-1;}}}
return a?1:-1;}
function createInputPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return name==="input"&&elem.type===type;};}
function createButtonPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return(name==="input"||name==="button")&&elem.type===type;};}
function createPositionalPseudo(fn){return markFunction(function(argument){argument=+argument;return markFunction(function(seed,matches){var j,matchIndexes=fn([],seed.length,argument),i=matchIndexes.length;while(i--){if(seed[(j=matchIndexes[i])]){seed[j]=!(matches[j]=seed[j]);}}});});}
function testContext(context){return context&&typeof context.getElementsByTagName!==strundefined&&context;}
support=Sizzle.support={};isXML=Sizzle.isXML=function(elem){var documentElement=elem&&(elem.ownerDocument||elem).documentElement;return documentElement?documentElement.nodeName!=="HTML":false;};setDocument=Sizzle.setDocument=function(node){var hasCompare,doc=node?node.ownerDocument||node:preferredDoc,parent=doc.defaultView;if(doc===document||doc.nodeType!==9||!doc.documentElement){return document;}
document=doc;docElem=doc.documentElement;documentIsHTML=!isXML(doc);if(parent&&parent!==parent.top){if(parent.addEventListener){parent.addEventListener("unload",function(){setDocument();},false);}else if(parent.attachEvent){parent.attachEvent("onunload",function(){setDocument();});}}
support.attributes=assert(function(div){div.className="i";return!div.getAttribute("className");});support.getElementsByTagName=assert(function(div){div.appendChild(doc.createComment(""));return!div.getElementsByTagName("*").length;});support.getElementsByClassName=rnative.test(doc.getElementsByClassName)&&assert(function(div){div.innerHTML="<div class='a'></div><div class='a i'></div>";div.firstChild.className="i";return div.getElementsByClassName("i").length===2;});support.getById=assert(function(div){docElem.appendChild(div).id=expando;return!doc.getElementsByName||!doc.getElementsByName(expando).length;});if(support.getById){Expr.find["ID"]=function(id,context){if(typeof context.getElementById!==strundefined&&documentIsHTML){var m=context.getElementById(id);return m&&m.parentNode?[m]:[];}};Expr.filter["ID"]=function(id){var attrId=id.replace(runescape,funescape);return function(elem){return elem.getAttribute("id")===attrId;};};}else{delete Expr.find["ID"];Expr.filter["ID"]=function(id){var attrId=id.replace(runescape,funescape);return function(elem){var node=typeof elem.getAttributeNode!==strundefined&&elem.getAttributeNode("id");return node&&node.value===attrId;};};}
Expr.find["TAG"]=support.getElementsByTagName?function(tag,context){if(typeof context.getElementsByTagName!==strundefined){return context.getElementsByTagName(tag);}}:function(tag,context){var elem,tmp=[],i=0,results=context.getElementsByTagName(tag);if(tag==="*"){while((elem=results[i++])){if(elem.nodeType===1){tmp.push(elem);}}
return tmp;}
return results;};Expr.find["CLASS"]=support.getElementsByClassName&&function(className,context){if(typeof context.getElementsByClassName!==strundefined&&documentIsHTML){return context.getElementsByClassName(className);}};rbuggyMatches=[];rbuggyQSA=[];if((support.qsa=rnative.test(doc.querySelectorAll))){assert(function(div){div.innerHTML="<select msallowclip=''><option selected=''></option></select>";if(div.querySelectorAll("[msallowclip^='']").length){rbuggyQSA.push("[*^$]="+whitespace+"*(?:''|\"\")");}
if(!div.querySelectorAll("[selected]").length){rbuggyQSA.push("\\["+whitespace+"*(?:value|"+booleans+")");}
if(!div.querySelectorAll(":checked").length){rbuggyQSA.push(":checked");}});assert(function(div){var input=doc.createElement("input");input.setAttribute("type","hidden");div.appendChild(input).setAttribute("name","D");if(div.querySelectorAll("[name=d]").length){rbuggyQSA.push("name"+whitespace+"*[*^$|!~]?=");}
if(!div.querySelectorAll(":enabled").length){rbuggyQSA.push(":enabled",":disabled");}
div.querySelectorAll("*,:x");rbuggyQSA.push(",.*:");});}
if((support.matchesSelector=rnative.test((matches=docElem.matches||docElem.webkitMatchesSelector||docElem.mozMatchesSelector||docElem.oMatchesSelector||docElem.msMatchesSelector)))){assert(function(div){support.disconnectedMatch=matches.call(div,"div");matches.call(div,"[s!='']:x");rbuggyMatches.push("!=",pseudos);});}
rbuggyQSA=rbuggyQSA.length&&new RegExp(rbuggyQSA.join("|"));rbuggyMatches=rbuggyMatches.length&&new RegExp(rbuggyMatches.join("|"));hasCompare=rnative.test(docElem.compareDocumentPosition);contains=hasCompare||rnative.test(docElem.contains)?function(a,b){var adown=a.nodeType===9?a.documentElement:a,bup=b&&b.parentNode;return a===bup||!!(bup&&bup.nodeType===1&&(adown.contains?adown.contains(bup):a.compareDocumentPosition&&a.compareDocumentPosition(bup)&16));}:function(a,b){if(b){while((b=b.parentNode)){if(b===a){return true;}}}
return false;};sortOrder=hasCompare?function(a,b){if(a===b){hasDuplicate=true;return 0;}
var compare=!a.compareDocumentPosition-!b.compareDocumentPosition;if(compare){return compare;}
compare=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1;if(compare&1||(!support.sortDetached&&b.compareDocumentPosition(a)===compare)){if(a===doc||a.ownerDocument===preferredDoc&&contains(preferredDoc,a)){return-1;}
if(b===doc||b.ownerDocument===preferredDoc&&contains(preferredDoc,b)){return 1;}
return sortInput?(indexOf.call(sortInput,a)-indexOf.call(sortInput,b)):0;}
return compare&4?-1:1;}:function(a,b){if(a===b){hasDuplicate=true;return 0;}
var cur,i=0,aup=a.parentNode,bup=b.parentNode,ap=[a],bp=[b];if(!aup||!bup){return a===doc?-1:b===doc?1:aup?-1:bup?1:sortInput?(indexOf.call(sortInput,a)-indexOf.call(sortInput,b)):0;}else if(aup===bup){return siblingCheck(a,b);}
cur=a;while((cur=cur.parentNode)){ap.unshift(cur);}
cur=b;while((cur=cur.parentNode)){bp.unshift(cur);}
while(ap[i]===bp[i]){i++;}
return i?siblingCheck(ap[i],bp[i]):ap[i]===preferredDoc?-1:bp[i]===preferredDoc?1:0;};return doc;};Sizzle.matches=function(expr,elements){return Sizzle(expr,null,null,elements);};Sizzle.matchesSelector=function(elem,expr){if((elem.ownerDocument||elem)!==document){setDocument(elem);}
expr=expr.replace(rattributeQuotes,"='$1']");if(support.matchesSelector&&documentIsHTML&&(!rbuggyMatches||!rbuggyMatches.test(expr))&&(!rbuggyQSA||!rbuggyQSA.test(expr))){try{var ret=matches.call(elem,expr);if(ret||support.disconnectedMatch||elem.document&&elem.document.nodeType!==11){return ret;}}catch(e){}}
return Sizzle(expr,document,null,[elem]).length>0;};Sizzle.contains=function(context,elem){if((context.ownerDocument||context)!==document){setDocument(context);}
return contains(context,elem);};Sizzle.attr=function(elem,name){if((elem.ownerDocument||elem)!==document){setDocument(elem);}
var fn=Expr.attrHandle[name.toLowerCase()],val=fn&&hasOwn.call(Expr.attrHandle,name.toLowerCase())?fn(elem,name,!documentIsHTML):undefined;return val!==undefined?val:support.attributes||!documentIsHTML?elem.getAttribute(name):(val=elem.getAttributeNode(name))&&val.specified?val.value:null;};Sizzle.error=function(msg){throw new Error("Syntax error, unrecognized expression: "+msg);};Sizzle.uniqueSort=function(results){var elem,duplicates=[],j=0,i=0;hasDuplicate=!support.detectDuplicates;sortInput=!support.sortStable&&results.slice(0);results.sort(sortOrder);if(hasDuplicate){while((elem=results[i++])){if(elem===results[i]){j=duplicates.push(i);}}
while(j--){results.splice(duplicates[j],1);}}
sortInput=null;return results;};getText=Sizzle.getText=function(elem){var node,ret="",i=0,nodeType=elem.nodeType;if(!nodeType){while((node=elem[i++])){ret+=getText(node);}}else if(nodeType===1||nodeType===9||nodeType===11){if(typeof elem.textContent==="string"){return elem.textContent;}else{for(elem=elem.firstChild;elem;elem=elem.nextSibling){ret+=getText(elem);}}}else if(nodeType===3||nodeType===4){return elem.nodeValue;}
return ret;};Expr=Sizzle.selectors={cacheLength:50,createPseudo:markFunction,match:matchExpr,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{"ATTR":function(match){match[1]=match[1].replace(runescape,funescape);match[3]=(match[3]||match[4]||match[5]||"").replace(runescape,funescape);if(match[2]==="~="){match[3]=" "+match[3]+" ";}
return match.slice(0,4);},"CHILD":function(match){match[1]=match[1].toLowerCase();if(match[1].slice(0,3)==="nth"){if(!match[3]){Sizzle.error(match[0]);}
match[4]=+(match[4]?match[5]+(match[6]||1):2*(match[3]==="even"||match[3]==="odd"));match[5]=+((match[7]+match[8])||match[3]==="odd");}else if(match[3]){Sizzle.error(match[0]);}
return match;},"PSEUDO":function(match){var excess,unquoted=!match[6]&&match[2];if(matchExpr["CHILD"].test(match[0])){return null;}
if(match[3]){match[2]=match[4]||match[5]||"";}else if(unquoted&&rpseudo.test(unquoted)&&(excess=tokenize(unquoted,true))&&(excess=unquoted.indexOf(")",unquoted.length-excess)-unquoted.length)){match[0]=match[0].slice(0,excess);match[2]=unquoted.slice(0,excess);}
return match.slice(0,3);}},filter:{"TAG":function(nodeNameSelector){var nodeName=nodeNameSelector.replace(runescape,funescape).toLowerCase();return nodeNameSelector==="*"?function(){return true;}:function(elem){return elem.nodeName&&elem.nodeName.toLowerCase()===nodeName;};},"CLASS":function(className){var pattern=classCache[className+" "];return pattern||(pattern=new RegExp("(^|"+whitespace+")"+className+"("+whitespace+"|$)"))&&classCache(className,function(elem){return pattern.test(typeof elem.className==="string"&&elem.className||typeof elem.getAttribute!==strundefined&&elem.getAttribute("class")||"");});},"ATTR":function(name,operator,check){return function(elem){var result=Sizzle.attr(elem,name);if(result==null){return operator==="!=";}
if(!operator){return true;}
result+="";return operator==="="?result===check:operator==="!="?result!==check:operator==="^="?check&&result.indexOf(check)===0:operator==="*="?check&&result.indexOf(check)>-1:operator==="$="?check&&result.slice(-check.length)===check:operator==="~="?(" "+result+" ").indexOf(check)>-1:operator==="|="?result===check||result.slice(0,check.length+1)===check+"-":false;};},"CHILD":function(type,what,argument,first,last){var simple=type.slice(0,3)!=="nth",forward=type.slice(-4)!=="last",ofType=what==="of-type";return first===1&&last===0?function(elem){return!!elem.parentNode;}:function(elem,context,xml){var cache,outerCache,node,diff,nodeIndex,start,dir=simple!==forward?"nextSibling":"previousSibling",parent=elem.parentNode,name=ofType&&elem.nodeName.toLowerCase(),useCache=!xml&&!ofType;if(parent){if(simple){while(dir){node=elem;while((node=node[dir])){if(ofType?node.nodeName.toLowerCase()===name:node.nodeType===1){return false;}}
start=dir=type==="only"&&!start&&"nextSibling";}
return true;}
start=[forward?parent.firstChild:parent.lastChild];if(forward&&useCache){outerCache=parent[expando]||(parent[expando]={});cache=outerCache[type]||[];nodeIndex=cache[0]===dirruns&&cache[1];diff=cache[0]===dirruns&&cache[2];node=nodeIndex&&parent.childNodes[nodeIndex];while((node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop())){if(node.nodeType===1&&++diff&&node===elem){outerCache[type]=[dirruns,nodeIndex,diff];break;}}}else if(useCache&&(cache=(elem[expando]||(elem[expando]={}))[type])&&cache[0]===dirruns){diff=cache[1];}else{while((node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop())){if((ofType?node.nodeName.toLowerCase()===name:node.nodeType===1)&&++diff){if(useCache){(node[expando]||(node[expando]={}))[type]=[dirruns,diff];}
if(node===elem){break;}}}}
diff-=last;return diff===first||(diff%first===0&&diff/first>=0);}};},"PSEUDO":function(pseudo,argument){var args,fn=Expr.pseudos[pseudo]||Expr.setFilters[pseudo.toLowerCase()]||Sizzle.error("unsupported pseudo: "+pseudo);if(fn[expando]){return fn(argument);}
if(fn.length>1){args=[pseudo,pseudo,"",argument];return Expr.setFilters.hasOwnProperty(pseudo.toLowerCase())?markFunction(function(seed,matches){var idx,matched=fn(seed,argument),i=matched.length;while(i--){idx=indexOf.call(seed,matched[i]);seed[idx]=!(matches[idx]=matched[i]);}}):function(elem){return fn(elem,0,args);};}
return fn;}},pseudos:{"not":markFunction(function(selector){var input=[],results=[],matcher=compile(selector.replace(rtrim,"$1"));return matcher[expando]?markFunction(function(seed,matches,context,xml){var elem,unmatched=matcher(seed,null,xml,[]),i=seed.length;while(i--){if((elem=unmatched[i])){seed[i]=!(matches[i]=elem);}}}):function(elem,context,xml){input[0]=elem;matcher(input,null,xml,results);return!results.pop();};}),"has":markFunction(function(selector){return function(elem){return Sizzle(selector,elem).length>0;};}),"contains":markFunction(function(text){return function(elem){return(elem.textContent||elem.innerText||getText(elem)).indexOf(text)>-1;};}),"lang":markFunction(function(lang){if(!ridentifier.test(lang||"")){Sizzle.error("unsupported lang: "+lang);}
lang=lang.replace(runescape,funescape).toLowerCase();return function(elem){var elemLang;do{if((elemLang=documentIsHTML?elem.lang:elem.getAttribute("xml:lang")||elem.getAttribute("lang"))){elemLang=elemLang.toLowerCase();return elemLang===lang||elemLang.indexOf(lang+"-")===0;}}while((elem=elem.parentNode)&&elem.nodeType===1);return false;};}),"target":function(elem){var hash=window.location&&window.location.hash;return hash&&hash.slice(1)===elem.id;},"root":function(elem){return elem===docElem;},"focus":function(elem){return elem===document.activeElement&&(!document.hasFocus||document.hasFocus())&&!!(elem.type||elem.href||~elem.tabIndex);},"enabled":function(elem){return elem.disabled===false;},"disabled":function(elem){return elem.disabled===true;},"checked":function(elem){var nodeName=elem.nodeName.toLowerCase();return(nodeName==="input"&&!!elem.checked)||(nodeName==="option"&&!!elem.selected);},"selected":function(elem){if(elem.parentNode){elem.parentNode.selectedIndex;}
return elem.selected===true;},"empty":function(elem){for(elem=elem.firstChild;elem;elem=elem.nextSibling){if(elem.nodeType<6){return false;}}
return true;},"parent":function(elem){return!Expr.pseudos["empty"](elem);},"header":function(elem){return rheader.test(elem.nodeName);},"input":function(elem){return rinputs.test(elem.nodeName);},"button":function(elem){var name=elem.nodeName.toLowerCase();return name==="input"&&elem.type==="button"||name==="button";},"text":function(elem){var attr;return elem.nodeName.toLowerCase()==="input"&&elem.type==="text"&&((attr=elem.getAttribute("type"))==null||attr.toLowerCase()==="text");},"first":createPositionalPseudo(function(){return[0];}),"last":createPositionalPseudo(function(matchIndexes,length){return[length-1];}),"eq":createPositionalPseudo(function(matchIndexes,length,argument){return[argument<0?argument+length:argument];}),"even":createPositionalPseudo(function(matchIndexes,length){var i=0;for(;i<length;i+=2){matchIndexes.push(i);}
return matchIndexes;}),"odd":createPositionalPseudo(function(matchIndexes,length){var i=1;for(;i<length;i+=2){matchIndexes.push(i);}
return matchIndexes;}),"lt":createPositionalPseudo(function(matchIndexes,length,argument){var i=argument<0?argument+length:argument;for(;--i>=0;){matchIndexes.push(i);}
return matchIndexes;}),"gt":createPositionalPseudo(function(matchIndexes,length,argument){var i=argument<0?argument+length:argument;for(;++i<length;){matchIndexes.push(i);}
return matchIndexes;})}};Expr.pseudos["nth"]=Expr.pseudos["eq"];for(i in{radio:true,checkbox:true,file:true,password:true,image:true}){Expr.pseudos[i]=createInputPseudo(i);}
for(i in{submit:true,reset:true}){Expr.pseudos[i]=createButtonPseudo(i);}
function setFilters(){}
setFilters.prototype=Expr.filters=Expr.pseudos;Expr.setFilters=new setFilters();tokenize=Sizzle.tokenize=function(selector,parseOnly){var matched,match,tokens,type,soFar,groups,preFilters,cached=tokenCache[selector+" "];if(cached){return parseOnly?0:cached.slice(0);}
soFar=selector;groups=[];preFilters=Expr.preFilter;while(soFar){if(!matched||(match=rcomma.exec(soFar))){if(match){soFar=soFar.slice(match[0].length)||soFar;}
groups.push((tokens=[]));}
matched=false;if((match=rcombinators.exec(soFar))){matched=match.shift();tokens.push({value:matched,type:match[0].replace(rtrim," ")});soFar=soFar.slice(matched.length);}
for(type in Expr.filter){if((match=matchExpr[type].exec(soFar))&&(!preFilters[type]||(match=preFilters[type](match)))){matched=match.shift();tokens.push({value:matched,type:type,matches:match});soFar=soFar.slice(matched.length);}}
if(!matched){break;}}
return parseOnly?soFar.length:soFar?Sizzle.error(selector):tokenCache(selector,groups).slice(0);};function toSelector(tokens){var i=0,len=tokens.length,selector="";for(;i<len;i++){selector+=tokens[i].value;}
return selector;}
function addCombinator(matcher,combinator,base){var dir=combinator.dir,checkNonElements=base&&dir==="parentNode",doneName=done++;return combinator.first?function(elem,context,xml){while((elem=elem[dir])){if(elem.nodeType===1||checkNonElements){return matcher(elem,context,xml);}}}:function(elem,context,xml){var oldCache,outerCache,newCache=[dirruns,doneName];if(xml){while((elem=elem[dir])){if(elem.nodeType===1||checkNonElements){if(matcher(elem,context,xml)){return true;}}}}else{while((elem=elem[dir])){if(elem.nodeType===1||checkNonElements){outerCache=elem[expando]||(elem[expando]={});if((oldCache=outerCache[dir])&&oldCache[0]===dirruns&&oldCache[1]===doneName){return(newCache[2]=oldCache[2]);}else{outerCache[dir]=newCache;if((newCache[2]=matcher(elem,context,xml))){return true;}}}}}};}
function elementMatcher(matchers){return matchers.length>1?function(elem,context,xml){var i=matchers.length;while(i--){if(!matchers[i](elem,context,xml)){return false;}}
return true;}:matchers[0];}
function multipleContexts(selector,contexts,results){var i=0,len=contexts.length;for(;i<len;i++){Sizzle(selector,contexts[i],results);}
return results;}
function condense(unmatched,map,filter,context,xml){var elem,newUnmatched=[],i=0,len=unmatched.length,mapped=map!=null;for(;i<len;i++){if((elem=unmatched[i])){if(!filter||filter(elem,context,xml)){newUnmatched.push(elem);if(mapped){map.push(i);}}}}
return newUnmatched;}
function setMatcher(preFilter,selector,matcher,postFilter,postFinder,postSelector){if(postFilter&&!postFilter[expando]){postFilter=setMatcher(postFilter);}
if(postFinder&&!postFinder[expando]){postFinder=setMatcher(postFinder,postSelector);}
return markFunction(function(seed,results,context,xml){var temp,i,elem,preMap=[],postMap=[],preexisting=results.length,elems=seed||multipleContexts(selector||"*",context.nodeType?[context]:context,[]),matcherIn=preFilter&&(seed||!selector)?condense(elems,preMap,preFilter,context,xml):elems,matcherOut=matcher?postFinder||(seed?preFilter:preexisting||postFilter)?[]:results:matcherIn;if(matcher){matcher(matcherIn,matcherOut,context,xml);}
if(postFilter){temp=condense(matcherOut,postMap);postFilter(temp,[],context,xml);i=temp.length;while(i--){if((elem=temp[i])){matcherOut[postMap[i]]=!(matcherIn[postMap[i]]=elem);}}}
if(seed){if(postFinder||preFilter){if(postFinder){temp=[];i=matcherOut.length;while(i--){if((elem=matcherOut[i])){temp.push((matcherIn[i]=elem));}}
postFinder(null,(matcherOut=[]),temp,xml);}
i=matcherOut.length;while(i--){if((elem=matcherOut[i])&&(temp=postFinder?indexOf.call(seed,elem):preMap[i])>-1){seed[temp]=!(results[temp]=elem);}}}}else{matcherOut=condense(matcherOut===results?matcherOut.splice(preexisting,matcherOut.length):matcherOut);if(postFinder){postFinder(null,results,matcherOut,xml);}else{push.apply(results,matcherOut);}}});}
function matcherFromTokens(tokens){var checkContext,matcher,j,len=tokens.length,leadingRelative=Expr.relative[tokens[0].type],implicitRelative=leadingRelative||Expr.relative[" "],i=leadingRelative?1:0,matchContext=addCombinator(function(elem){return elem===checkContext;},implicitRelative,true),matchAnyContext=addCombinator(function(elem){return indexOf.call(checkContext,elem)>-1;},implicitRelative,true),matchers=[function(elem,context,xml){return(!leadingRelative&&(xml||context!==outermostContext))||((checkContext=context).nodeType?matchContext(elem,context,xml):matchAnyContext(elem,context,xml));}];for(;i<len;i++){if((matcher=Expr.relative[tokens[i].type])){matchers=[addCombinator(elementMatcher(matchers),matcher)];}else{matcher=Expr.filter[tokens[i].type].apply(null,tokens[i].matches);if(matcher[expando]){j=++i;for(;j<len;j++){if(Expr.relative[tokens[j].type]){break;}}
return setMatcher(i>1&&elementMatcher(matchers),i>1&&toSelector(tokens.slice(0,i-1).concat({value:tokens[i-2].type===" "?"*":""})).replace(rtrim,"$1"),matcher,i<j&&matcherFromTokens(tokens.slice(i,j)),j<len&&matcherFromTokens((tokens=tokens.slice(j))),j<len&&toSelector(tokens));}
matchers.push(matcher);}}
return elementMatcher(matchers);}
function matcherFromGroupMatchers(elementMatchers,setMatchers){var bySet=setMatchers.length>0,byElement=elementMatchers.length>0,superMatcher=function(seed,context,xml,results,outermost){var elem,j,matcher,matchedCount=0,i="0",unmatched=seed&&[],setMatched=[],contextBackup=outermostContext,elems=seed||byElement&&Expr.find["TAG"]("*",outermost),dirrunsUnique=(dirruns+=contextBackup==null?1:Math.random()||0.1),len=elems.length;if(outermost){outermostContext=context!==document&&context;}
for(;i!==len&&(elem=elems[i])!=null;i++){if(byElement&&elem){j=0;while((matcher=elementMatchers[j++])){if(matcher(elem,context,xml)){results.push(elem);break;}}
if(outermost){dirruns=dirrunsUnique;}}
if(bySet){if((elem=!matcher&&elem)){matchedCount--;}
if(seed){unmatched.push(elem);}}}
matchedCount+=i;if(bySet&&i!==matchedCount){j=0;while((matcher=setMatchers[j++])){matcher(unmatched,setMatched,context,xml);}
if(seed){if(matchedCount>0){while(i--){if(!(unmatched[i]||setMatched[i])){setMatched[i]=pop.call(results);}}}
setMatched=condense(setMatched);}
push.apply(results,setMatched);if(outermost&&!seed&&setMatched.length>0&&(matchedCount+setMatchers.length)>1){Sizzle.uniqueSort(results);}}
if(outermost){dirruns=dirrunsUnique;outermostContext=contextBackup;}
return unmatched;};return bySet?markFunction(superMatcher):superMatcher;}
compile=Sizzle.compile=function(selector,match){var i,setMatchers=[],elementMatchers=[],cached=compilerCache[selector+" "];if(!cached){if(!match){match=tokenize(selector);}
i=match.length;while(i--){cached=matcherFromTokens(match[i]);if(cached[expando]){setMatchers.push(cached);}else{elementMatchers.push(cached);}}
cached=compilerCache(selector,matcherFromGroupMatchers(elementMatchers,setMatchers));cached.selector=selector;}
return cached;};select=Sizzle.select=function(selector,context,results,seed){var i,tokens,token,type,find,compiled=typeof selector==="function"&&selector,match=!seed&&tokenize((selector=compiled.selector||selector));results=results||[];if(match.length===1){tokens=match[0]=match[0].slice(0);if(tokens.length>2&&(token=tokens[0]).type==="ID"&&support.getById&&context.nodeType===9&&documentIsHTML&&Expr.relative[tokens[1].type]){context=(Expr.find["ID"](token.matches[0].replace(runescape,funescape),context)||[])[0];if(!context){return results;}else if(compiled){context=context.parentNode;}
selector=selector.slice(tokens.shift().value.length);}
i=matchExpr["needsContext"].test(selector)?0:tokens.length;while(i--){token=tokens[i];if(Expr.relative[(type=token.type)]){break;}
if((find=Expr.find[type])){if((seed=find(token.matches[0].replace(runescape,funescape),rsibling.test(tokens[0].type)&&testContext(context.parentNode)||context))){tokens.splice(i,1);selector=seed.length&&toSelector(tokens);if(!selector){push.apply(results,seed);return results;}
break;}}}}
(compiled||compile(selector,match))(seed,context,!documentIsHTML,results,rsibling.test(selector)&&testContext(context.parentNode)||context);return results;};support.sortStable=expando.split("").sort(sortOrder).join("")===expando;support.detectDuplicates=!!hasDuplicate;setDocument();support.sortDetached=assert(function(div1){return div1.compareDocumentPosition(document.createElement("div"))&1;});if(!assert(function(div){div.innerHTML="<a href='#'></a>";return div.firstChild.getAttribute("href")==="#";})){addHandle("type|href|height|width",function(elem,name,isXML){if(!isXML){return elem.getAttribute(name,name.toLowerCase()==="type"?1:2);}});}
if(!support.attributes||!assert(function(div){div.innerHTML="<input/>";div.firstChild.setAttribute("value","");return div.firstChild.getAttribute("value")==="";})){addHandle("value",function(elem,name,isXML){if(!isXML&&elem.nodeName.toLowerCase()==="input"){return elem.defaultValue;}});}
if(!assert(function(div){return div.getAttribute("disabled")==null;})){addHandle(booleans,function(elem,name,isXML){var val;if(!isXML){return elem[name]===true?name.toLowerCase():(val=elem.getAttributeNode(name))&&val.specified?val.value:null;}});}
return Sizzle;})(window);jQuery.find=Sizzle;jQuery.expr=Sizzle.selectors;jQuery.expr[":"]=jQuery.expr.pseudos;jQuery.unique=Sizzle.uniqueSort;jQuery.text=Sizzle.getText;jQuery.isXMLDoc=Sizzle.isXML;jQuery.contains=Sizzle.contains;var rneedsContext=jQuery.expr.match.needsContext;var rsingleTag=(/^<(\w+)\s*\/?>(?:<\/\1>|)$/);var risSimple=/^.[^:#\[\.,]*$/;function winnow(elements,qualifier,not){if(jQuery.isFunction(qualifier)){return jQuery.grep(elements,function(elem,i){return!!qualifier.call(elem,i,elem)!==not;});}
if(qualifier.nodeType){return jQuery.grep(elements,function(elem){return(elem===qualifier)!==not;});}
if(typeof qualifier==="string"){if(risSimple.test(qualifier)){return jQuery.filter(qualifier,elements,not);}
qualifier=jQuery.filter(qualifier,elements);}
return jQuery.grep(elements,function(elem){return(jQuery.inArray(elem,qualifier)>=0)!==not;});}
jQuery.filter=function(expr,elems,not){var elem=elems[0];if(not){expr=":not("+expr+")";}
return elems.length===1&&elem.nodeType===1?jQuery.find.matchesSelector(elem,expr)?[elem]:[]:jQuery.find.matches(expr,jQuery.grep(elems,function(elem){return elem.nodeType===1;}));};jQuery.fn.extend({find:function(selector){var i,ret=[],self=this,len=self.length;if(typeof selector!=="string"){return this.pushStack(jQuery(selector).filter(function(){for(i=0;i<len;i++){if(jQuery.contains(self[i],this)){return true;}}}));}
for(i=0;i<len;i++){jQuery.find(selector,self[i],ret);}
ret=this.pushStack(len>1?jQuery.unique(ret):ret);ret.selector=this.selector?this.selector+" "+selector:selector;return ret;},filter:function(selector){return this.pushStack(winnow(this,selector||[],false));},not:function(selector){return this.pushStack(winnow(this,selector||[],true));},is:function(selector){return!!winnow(this,typeof selector==="string"&&rneedsContext.test(selector)?jQuery(selector):selector||[],false).length;}});var rootjQuery,document=window.document,rquickExpr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,init=jQuery.fn.init=function(selector,context){var match,elem;if(!selector){return this;}
if(typeof selector==="string"){if(selector.charAt(0)==="<"&&selector.charAt(selector.length-1)===">"&&selector.length>=3){match=[null,selector,null];}else{match=rquickExpr.exec(selector);}
if(match&&(match[1]||!context)){if(match[1]){context=context instanceof jQuery?context[0]:context;jQuery.merge(this,jQuery.parseHTML(match[1],context&&context.nodeType?context.ownerDocument||context:document,true));if(rsingleTag.test(match[1])&&jQuery.isPlainObject(context)){for(match in context){if(jQuery.isFunction(this[match])){this[match](context[match]);}else{this.attr(match,context[match]);}}}
return this;}else{elem=document.getElementById(match[2]);if(elem&&elem.parentNode){if(elem.id!==match[2]){return rootjQuery.find(selector);}
this.length=1;this[0]=elem;}
this.context=document;this.selector=selector;return this;}}else if(!context||context.jquery){return(context||rootjQuery).find(selector);}else{return this.constructor(context).find(selector);}}else if(selector.nodeType){this.context=this[0]=selector;this.length=1;return this;}else if(jQuery.isFunction(selector)){return typeof rootjQuery.ready!=="undefined"?rootjQuery.ready(selector):selector(jQuery);}
if(selector.selector!==undefined){this.selector=selector.selector;this.context=selector.context;}
return jQuery.makeArray(selector,this);};init.prototype=jQuery.fn;rootjQuery=jQuery(document);var rparentsprev=/^(?:parents|prev(?:Until|All))/,guaranteedUnique={children:true,contents:true,next:true,prev:true};jQuery.extend({dir:function(elem,dir,until){var matched=[],cur=elem[dir];while(cur&&cur.nodeType!==9&&(until===undefined||cur.nodeType!==1||!jQuery(cur).is(until))){if(cur.nodeType===1){matched.push(cur);}
cur=cur[dir];}
return matched;},sibling:function(n,elem){var r=[];for(;n;n=n.nextSibling){if(n.nodeType===1&&n!==elem){r.push(n);}}
return r;}});jQuery.fn.extend({has:function(target){var i,targets=jQuery(target,this),len=targets.length;return this.filter(function(){for(i=0;i<len;i++){if(jQuery.contains(this,targets[i])){return true;}}});},closest:function(selectors,context){var cur,i=0,l=this.length,matched=[],pos=rneedsContext.test(selectors)||typeof selectors!=="string"?jQuery(selectors,context||this.context):0;for(;i<l;i++){for(cur=this[i];cur&&cur!==context;cur=cur.parentNode){if(cur.nodeType<11&&(pos?pos.index(cur)>-1:cur.nodeType===1&&jQuery.find.matchesSelector(cur,selectors))){matched.push(cur);break;}}}
return this.pushStack(matched.length>1?jQuery.unique(matched):matched);},index:function(elem){if(!elem){return(this[0]&&this[0].parentNode)?this.first().prevAll().length:-1;}
if(typeof elem==="string"){return jQuery.inArray(this[0],jQuery(elem));}
return jQuery.inArray(elem.jquery?elem[0]:elem,this);},add:function(selector,context){return this.pushStack(jQuery.unique(jQuery.merge(this.get(),jQuery(selector,context))));},addBack:function(selector){return this.add(selector==null?this.prevObject:this.prevObject.filter(selector));}});function sibling(cur,dir){do{cur=cur[dir];}while(cur&&cur.nodeType!==1);return cur;}
jQuery.each({parent:function(elem){var parent=elem.parentNode;return parent&&parent.nodeType!==11?parent:null;},parents:function(elem){return jQuery.dir(elem,"parentNode");},parentsUntil:function(elem,i,until){return jQuery.dir(elem,"parentNode",until);},next:function(elem){return sibling(elem,"nextSibling");},prev:function(elem){return sibling(elem,"previousSibling");},nextAll:function(elem){return jQuery.dir(elem,"nextSibling");},prevAll:function(elem){return jQuery.dir(elem,"previousSibling");},nextUntil:function(elem,i,until){return jQuery.dir(elem,"nextSibling",until);},prevUntil:function(elem,i,until){return jQuery.dir(elem,"previousSibling",until);},siblings:function(elem){return jQuery.sibling((elem.parentNode||{}).firstChild,elem);},children:function(elem){return jQuery.sibling(elem.firstChild);},contents:function(elem){return jQuery.nodeName(elem,"iframe")?elem.contentDocument||elem.contentWindow.document:jQuery.merge([],elem.childNodes);}},function(name,fn){jQuery.fn[name]=function(until,selector){var ret=jQuery.map(this,fn,until);if(name.slice(-5)!=="Until"){selector=until;}
if(selector&&typeof selector==="string"){ret=jQuery.filter(selector,ret);}
if(this.length>1){if(!guaranteedUnique[name]){ret=jQuery.unique(ret);}
if(rparentsprev.test(name)){ret=ret.reverse();}}
return this.pushStack(ret);};});var rnotwhite=(/\S+/g);var optionsCache={};function createOptions(options){var object=optionsCache[options]={};jQuery.each(options.match(rnotwhite)||[],function(_,flag){object[flag]=true;});return object;}
jQuery.Callbacks=function(options){options=typeof options==="string"?(optionsCache[options]||createOptions(options)):jQuery.extend({},options);var
firing,memory,fired,firingLength,firingIndex,firingStart,list=[],stack=!options.once&&[],fire=function(data){memory=options.memory&&data;fired=true;firingIndex=firingStart||0;firingStart=0;firingLength=list.length;firing=true;for(;list&&firingIndex<firingLength;firingIndex++){if(list[firingIndex].apply(data[0],data[1])===false&&options.stopOnFalse){memory=false;break;}}
firing=false;if(list){if(stack){if(stack.length){fire(stack.shift());}}else if(memory){list=[];}else{self.disable();}}},self={add:function(){if(list){var start=list.length;(function add(args){jQuery.each(args,function(_,arg){var type=jQuery.type(arg);if(type==="function"){if(!options.unique||!self.has(arg)){list.push(arg);}}else if(arg&&arg.length&&type!=="string"){add(arg);}});})(arguments);if(firing){firingLength=list.length;}else if(memory){firingStart=start;fire(memory);}}
return this;},remove:function(){if(list){jQuery.each(arguments,function(_,arg){var index;while((index=jQuery.inArray(arg,list,index))>-1){list.splice(index,1);if(firing){if(index<=firingLength){firingLength--;}
if(index<=firingIndex){firingIndex--;}}}});}
return this;},has:function(fn){return fn?jQuery.inArray(fn,list)>-1:!!(list&&list.length);},empty:function(){list=[];firingLength=0;return this;},disable:function(){list=stack=memory=undefined;return this;},disabled:function(){return!list;},lock:function(){stack=undefined;if(!memory){self.disable();}
return this;},locked:function(){return!stack;},fireWith:function(context,args){if(list&&(!fired||stack)){args=args||[];args=[context,args.slice?args.slice():args];if(firing){stack.push(args);}else{fire(args);}}
return this;},fire:function(){self.fireWith(this,arguments);return this;},fired:function(){return!!fired;}};return self;};jQuery.extend({Deferred:function(func){var tuples=[["resolve","done",jQuery.Callbacks("once memory"),"resolved"],["reject","fail",jQuery.Callbacks("once memory"),"rejected"],["notify","progress",jQuery.Callbacks("memory")]],state="pending",promise={state:function(){return state;},always:function(){deferred.done(arguments).fail(arguments);return this;},then:function(){var fns=arguments;return jQuery.Deferred(function(newDefer){jQuery.each(tuples,function(i,tuple){var fn=jQuery.isFunction(fns[i])&&fns[i];deferred[tuple[1]](function(){var returned=fn&&fn.apply(this,arguments);if(returned&&jQuery.isFunction(returned.promise)){returned.promise()
.done(newDefer.resolve)
.fail(newDefer.reject)
.progress(newDefer.notify);}else{newDefer[tuple[0]+"With"](this===promise?newDefer.promise():this,fn?[returned]:arguments);}});});fns=null;}).promise();},promise:function(obj){return obj!=null?jQuery.extend(obj,promise):promise;}},deferred={};promise.pipe=promise.then;jQuery.each(tuples,function(i,tuple){var list=tuple[2],stateString=tuple[3];promise[tuple[1]]=list.add;if(stateString){list.add(function(){state=stateString;},tuples[i^ 1][2].disable,tuples[2][2].lock);}
deferred[tuple[0]]=function(){deferred[tuple[0]+"With"](this===deferred?promise:this,arguments);return this;};deferred[tuple[0]+"With"]=list.fireWith;});promise.promise(deferred);if(func){func.call(deferred,deferred);}
return deferred;},when:function(subordinate){var i=0,resolveValues=slice.call(arguments),length=resolveValues.length,remaining=length!==1||(subordinate&&jQuery.isFunction(subordinate.promise))?length:0,deferred=remaining===1?subordinate:jQuery.Deferred(),updateFunc=function(i,contexts,values){return function(value){contexts[i]=this;values[i]=arguments.length>1?slice.call(arguments):value;if(values===progressValues){deferred.notifyWith(contexts,values);}else if(!(--remaining)){deferred.resolveWith(contexts,values);}};},progressValues,progressContexts,resolveContexts;if(length>1){progressValues=new Array(length);progressContexts=new Array(length);resolveContexts=new Array(length);for(;i<length;i++){if(resolveValues[i]&&jQuery.isFunction(resolveValues[i].promise)){resolveValues[i].promise()
.done(updateFunc(i,resolveContexts,resolveValues))
.fail(deferred.reject)
.progress(updateFunc(i,progressContexts,progressValues));}else{--remaining;}}}
if(!remaining){deferred.resolveWith(resolveContexts,resolveValues);}
return deferred.promise();}});var readyList;jQuery.fn.ready=function(fn){jQuery.ready.promise().done(fn);return this;};jQuery.extend({isReady:false,readyWait:1,holdReady:function(hold){if(hold){jQuery.readyWait++;}else{jQuery.ready(true);}},ready:function(wait){if(wait===true?--jQuery.readyWait:jQuery.isReady){return;}
if(!document.body){return setTimeout(jQuery.ready);}
jQuery.isReady=true;if(wait!==true&&--jQuery.readyWait>0){return;}
readyList.resolveWith(document,[jQuery]);if(jQuery.fn.triggerHandler){jQuery(document).triggerHandler("ready");jQuery(document).off("ready");}}});function detach(){if(document.addEventListener){document.removeEventListener("DOMContentLoaded",completed,false);window.removeEventListener("load",completed,false);}else{document.detachEvent("onreadystatechange",completed);window.detachEvent("onload",completed);}}
function completed(){if(document.addEventListener||event.type==="load"||document.readyState==="complete"){detach();jQuery.ready();}}
jQuery.ready.promise=function(obj){if(!readyList){readyList=jQuery.Deferred();if(document.readyState==="complete"){setTimeout(jQuery.ready);}else if(document.addEventListener){document.addEventListener("DOMContentLoaded",completed,false);window.addEventListener("load",completed,false);}else{document.attachEvent("onreadystatechange",completed);window.attachEvent("onload",completed);var top=false;try{top=window.frameElement==null&&document.documentElement;}catch(e){}
if(top&&top.doScroll){(function doScrollCheck(){if(!jQuery.isReady){try{top.doScroll("left");}catch(e){return setTimeout(doScrollCheck,50);}
detach();jQuery.ready();}})();}}}
return readyList.promise(obj);};var strundefined=typeof undefined;var i;for(i in jQuery(support)){break;}
support.ownLast=i!=="0";support.inlineBlockNeedsLayout=false;jQuery(function(){var val,div,body,container;body=document.getElementsByTagName("body")[0];if(!body||!body.style){return;}
div=document.createElement("div");container=document.createElement("div");container.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px";body.appendChild(container).appendChild(div);if(typeof div.style.zoom!==strundefined){div.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1";support.inlineBlockNeedsLayout=val=div.offsetWidth===3;if(val){body.style.zoom=1;}}
body.removeChild(container);});(function(){var div=document.createElement("div");if(support.deleteExpando==null){support.deleteExpando=true;try{delete div.test;}catch(e){support.deleteExpando=false;}}
div=null;})();jQuery.acceptData=function(elem){var noData=jQuery.noData[(elem.nodeName+" ").toLowerCase()],nodeType=+elem.nodeType||1;return nodeType!==1&&nodeType!==9?false:!noData||noData!==true&&elem.getAttribute("classid")===noData;};var rbrace=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,rmultiDash=/([A-Z])/g;function dataAttr(elem,key,data){if(data===undefined&&elem.nodeType===1){var name="data-"+key.replace(rmultiDash,"-$1").toLowerCase();data=elem.getAttribute(name);if(typeof data==="string"){try{data=data==="true"?true:data==="false"?false:data==="null"?null:+data+""===data?+data:rbrace.test(data)?jQuery.parseJSON(data):data;}catch(e){}
jQuery.data(elem,key,data);}else{data=undefined;}}
return data;}
function isEmptyDataObject(obj){var name;for(name in obj){if(name==="data"&&jQuery.isEmptyObject(obj[name])){continue;}
if(name!=="toJSON"){return false;}}
return true;}
function internalData(elem,name,data,pvt){if(!jQuery.acceptData(elem)){return;}
var ret,thisCache,internalKey=jQuery.expando,isNode=elem.nodeType,cache=isNode?jQuery.cache:elem,id=isNode?elem[internalKey]:elem[internalKey]&&internalKey;if((!id||!cache[id]||(!pvt&&!cache[id].data))&&data===undefined&&typeof name==="string"){return;}
if(!id){if(isNode){id=elem[internalKey]=deletedIds.pop()||jQuery.guid++;}else{id=internalKey;}}
if(!cache[id]){cache[id]=isNode?{}:{toJSON:jQuery.noop};}
if(typeof name==="object"||typeof name==="function"){if(pvt){cache[id]=jQuery.extend(cache[id],name);}else{cache[id].data=jQuery.extend(cache[id].data,name);}}
thisCache=cache[id];if(!pvt){if(!thisCache.data){thisCache.data={};}
thisCache=thisCache.data;}
if(data!==undefined){thisCache[jQuery.camelCase(name)]=data;}
if(typeof name==="string"){ret=thisCache[name];if(ret==null){ret=thisCache[jQuery.camelCase(name)];}}else{ret=thisCache;}
return ret;}
function internalRemoveData(elem,name,pvt){if(!jQuery.acceptData(elem)){return;}
var thisCache,i,isNode=elem.nodeType,cache=isNode?jQuery.cache:elem,id=isNode?elem[jQuery.expando]:jQuery.expando;if(!cache[id]){return;}
if(name){thisCache=pvt?cache[id]:cache[id].data;if(thisCache){if(!jQuery.isArray(name)){if(name in thisCache){name=[name];}else{name=jQuery.camelCase(name);if(name in thisCache){name=[name];}else{name=name.split(" ");}}}else{name=name.concat(jQuery.map(name,jQuery.camelCase));}
i=name.length;while(i--){delete thisCache[name[i]];}
if(pvt?!isEmptyDataObject(thisCache):!jQuery.isEmptyObject(thisCache)){return;}}}
if(!pvt){delete cache[id].data;if(!isEmptyDataObject(cache[id])){return;}}
if(isNode){jQuery.cleanData([elem],true);}else if(support.deleteExpando||cache!=cache.window){delete cache[id];}else{cache[id]=null;}}
jQuery.extend({cache:{},noData:{"applet ":true,"embed ":true,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(elem){elem=elem.nodeType?jQuery.cache[elem[jQuery.expando]]:elem[jQuery.expando];return!!elem&&!isEmptyDataObject(elem);},data:function(elem,name,data){return internalData(elem,name,data);},removeData:function(elem,name){return internalRemoveData(elem,name);},_data:function(elem,name,data){return internalData(elem,name,data,true);},_removeData:function(elem,name){return internalRemoveData(elem,name,true);}});jQuery.fn.extend({data:function(key,value){var i,name,data,elem=this[0],attrs=elem&&elem.attributes;if(key===undefined){if(this.length){data=jQuery.data(elem);if(elem.nodeType===1&&!jQuery._data(elem,"parsedAttrs")){i=attrs.length;while(i--){if(attrs[i]){name=attrs[i].name;if(name.indexOf("data-")===0){name=jQuery.camelCase(name.slice(5));dataAttr(elem,name,data[name]);}}}
jQuery._data(elem,"parsedAttrs",true);}}
return data;}
if(typeof key==="object"){return this.each(function(){jQuery.data(this,key);});}
return arguments.length>1?this.each(function(){jQuery.data(this,key,value);}):elem?dataAttr(elem,key,jQuery.data(elem,key)):undefined;},removeData:function(key){return this.each(function(){jQuery.removeData(this,key);});}});jQuery.extend({queue:function(elem,type,data){var queue;if(elem){type=(type||"fx")+"queue";queue=jQuery._data(elem,type);if(data){if(!queue||jQuery.isArray(data)){queue=jQuery._data(elem,type,jQuery.makeArray(data));}else{queue.push(data);}}
return queue||[];}},dequeue:function(elem,type){type=type||"fx";var queue=jQuery.queue(elem,type),startLength=queue.length,fn=queue.shift(),hooks=jQuery._queueHooks(elem,type),next=function(){jQuery.dequeue(elem,type);};if(fn==="inprogress"){fn=queue.shift();startLength--;}
if(fn){if(type==="fx"){queue.unshift("inprogress");}
delete hooks.stop;fn.call(elem,next,hooks);}
if(!startLength&&hooks){hooks.empty.fire();}},_queueHooks:function(elem,type){var key=type+"queueHooks";return jQuery._data(elem,key)||jQuery._data(elem,key,{empty:jQuery.Callbacks("once memory").add(function(){jQuery._removeData(elem,type+"queue");jQuery._removeData(elem,key);})});}});jQuery.fn.extend({queue:function(type,data){var setter=2;if(typeof type!=="string"){data=type;type="fx";setter--;}
if(arguments.length<setter){return jQuery.queue(this[0],type);}
return data===undefined?this:this.each(function(){var queue=jQuery.queue(this,type,data);jQuery._queueHooks(this,type);if(type==="fx"&&queue[0]!=="inprogress"){jQuery.dequeue(this,type);}});},dequeue:function(type){return this.each(function(){jQuery.dequeue(this,type);});},clearQueue:function(type){return this.queue(type||"fx",[]);},promise:function(type,obj){var tmp,count=1,defer=jQuery.Deferred(),elements=this,i=this.length,resolve=function(){if(!(--count)){defer.resolveWith(elements,[elements]);}};if(typeof type!=="string"){obj=type;type=undefined;}
type=type||"fx";while(i--){tmp=jQuery._data(elements[i],type+"queueHooks");if(tmp&&tmp.empty){count++;tmp.empty.add(resolve);}}
resolve();return defer.promise(obj);}});var pnum=(/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/).source;var cssExpand=["Top","Right","Bottom","Left"];var isHidden=function(elem,el){elem=el||elem;return jQuery.css(elem,"display")==="none"||!jQuery.contains(elem.ownerDocument,elem);};var access=jQuery.access=function(elems,fn,key,value,chainable,emptyGet,raw){var i=0,length=elems.length,bulk=key==null;if(jQuery.type(key)==="object"){chainable=true;for(i in key){jQuery.access(elems,fn,i,key[i],true,emptyGet,raw);}}else if(value!==undefined){chainable=true;if(!jQuery.isFunction(value)){raw=true;}
if(bulk){if(raw){fn.call(elems,value);fn=null;}else{bulk=fn;fn=function(elem,key,value){return bulk.call(jQuery(elem),value);};}}
if(fn){for(;i<length;i++){fn(elems[i],key,raw?value:value.call(elems[i],i,fn(elems[i],key)));}}}
return chainable?elems:bulk?fn.call(elems):length?fn(elems[0],key):emptyGet;};var rcheckableType=(/^(?:checkbox|radio)$/i);(function(){var input=document.createElement("input"),div=document.createElement("div"),fragment=document.createDocumentFragment();div.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";support.leadingWhitespace=div.firstChild.nodeType===3;support.tbody=!div.getElementsByTagName("tbody").length;support.htmlSerialize=!!div.getElementsByTagName("link").length;support.html5Clone=document.createElement("nav").cloneNode(true).outerHTML!=="<:nav></:nav>";input.type="checkbox";input.checked=true;fragment.appendChild(input);support.appendChecked=input.checked;div.innerHTML="<textarea>x</textarea>";support.noCloneChecked=!!div.cloneNode(true).lastChild.defaultValue;fragment.appendChild(div);div.innerHTML="<input type='radio' checked='checked' name='t'/>";support.checkClone=div.cloneNode(true).cloneNode(true).lastChild.checked;support.noCloneEvent=true;if(div.attachEvent){div.attachEvent("onclick",function(){support.noCloneEvent=false;});div.cloneNode(true).click();}
if(support.deleteExpando==null){support.deleteExpando=true;try{delete div.test;}catch(e){support.deleteExpando=false;}}})();(function(){var i,eventName,div=document.createElement("div");for(i in{submit:true,change:true,focusin:true}){eventName="on"+i;if(!(support[i+"Bubbles"]=eventName in window)){div.setAttribute(eventName,"t");support[i+"Bubbles"]=div.attributes[eventName].expando===false;}}
div=null;})();var rformElems=/^(?:input|select|textarea)$/i,rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|pointer|contextmenu)|click/,rfocusMorph=/^(?:focusinfocus|focusoutblur)$/,rtypenamespace=/^([^.]*)(?:\.(.+)|)$/;function returnTrue(){return true;}
function returnFalse(){return false;}
function safeActiveElement(){try{return document.activeElement;}catch(err){}}
jQuery.event={global:{},add:function(elem,types,handler,data,selector){var tmp,events,t,handleObjIn,special,eventHandle,handleObj,handlers,type,namespaces,origType,elemData=jQuery._data(elem);if(!elemData){return;}
if(handler.handler){handleObjIn=handler;handler=handleObjIn.handler;selector=handleObjIn.selector;}
if(!handler.guid){handler.guid=jQuery.guid++;}
if(!(events=elemData.events)){events=elemData.events={};}
if(!(eventHandle=elemData.handle)){eventHandle=elemData.handle=function(e){return typeof jQuery!==strundefined&&(!e||jQuery.event.triggered!==e.type)?jQuery.event.dispatch.apply(eventHandle.elem,arguments):undefined;};eventHandle.elem=elem;}
types=(types||"").match(rnotwhite)||[""];t=types.length;while(t--){tmp=rtypenamespace.exec(types[t])||[];type=origType=tmp[1];namespaces=(tmp[2]||"").split(".").sort();if(!type){continue;}
special=jQuery.event.special[type]||{};type=(selector?special.delegateType:special.bindType)||type;special=jQuery.event.special[type]||{};handleObj=jQuery.extend({type:type,origType:origType,data:data,handler:handler,guid:handler.guid,selector:selector,needsContext:selector&&jQuery.expr.match.needsContext.test(selector),namespace:namespaces.join(".")},handleObjIn);if(!(handlers=events[type])){handlers=events[type]=[];handlers.delegateCount=0;if(!special.setup||special.setup.call(elem,data,namespaces,eventHandle)===false){if(elem.addEventListener){elem.addEventListener(type,eventHandle,false);}else if(elem.attachEvent){elem.attachEvent("on"+type,eventHandle);}}}
if(special.add){special.add.call(elem,handleObj);if(!handleObj.handler.guid){handleObj.handler.guid=handler.guid;}}
if(selector){handlers.splice(handlers.delegateCount++,0,handleObj);}else{handlers.push(handleObj);}
jQuery.event.global[type]=true;}
elem=null;},remove:function(elem,types,handler,selector,mappedTypes){var j,handleObj,tmp,origCount,t,events,special,handlers,type,namespaces,origType,elemData=jQuery.hasData(elem)&&jQuery._data(elem);if(!elemData||!(events=elemData.events)){return;}
types=(types||"").match(rnotwhite)||[""];t=types.length;while(t--){tmp=rtypenamespace.exec(types[t])||[];type=origType=tmp[1];namespaces=(tmp[2]||"").split(".").sort();if(!type){for(type in events){jQuery.event.remove(elem,type+types[t],handler,selector,true);}
continue;}
special=jQuery.event.special[type]||{};type=(selector?special.delegateType:special.bindType)||type;handlers=events[type]||[];tmp=tmp[2]&&new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)");origCount=j=handlers.length;while(j--){handleObj=handlers[j];if((mappedTypes||origType===handleObj.origType)&&(!handler||handler.guid===handleObj.guid)&&(!tmp||tmp.test(handleObj.namespace))&&(!selector||selector===handleObj.selector||selector==="**"&&handleObj.selector)){handlers.splice(j,1);if(handleObj.selector){handlers.delegateCount--;}
if(special.remove){special.remove.call(elem,handleObj);}}}
if(origCount&&!handlers.length){if(!special.teardown||special.teardown.call(elem,namespaces,elemData.handle)===false){jQuery.removeEvent(elem,type,elemData.handle);}
delete events[type];}}
if(jQuery.isEmptyObject(events)){delete elemData.handle;jQuery._removeData(elem,"events");}},trigger:function(event,data,elem,onlyHandlers){var handle,ontype,cur,bubbleType,special,tmp,i,eventPath=[elem||document],type=hasOwn.call(event,"type")?event.type:event,namespaces=hasOwn.call(event,"namespace")?event.namespace.split("."):[];cur=tmp=elem=elem||document;if(elem.nodeType===3||elem.nodeType===8){return;}
if(rfocusMorph.test(type+jQuery.event.triggered)){return;}
if(type.indexOf(".")>=0){namespaces=type.split(".");type=namespaces.shift();namespaces.sort();}
ontype=type.indexOf(":")<0&&"on"+type;event=event[jQuery.expando]?event:new jQuery.Event(type,typeof event==="object"&&event);event.isTrigger=onlyHandlers?2:3;event.namespace=namespaces.join(".");event.namespace_re=event.namespace?new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;event.result=undefined;if(!event.target){event.target=elem;}
data=data==null?[event]:jQuery.makeArray(data,[event]);special=jQuery.event.special[type]||{};if(!onlyHandlers&&special.trigger&&special.trigger.apply(elem,data)===false){return;}
if(!onlyHandlers&&!special.noBubble&&!jQuery.isWindow(elem)){bubbleType=special.delegateType||type;if(!rfocusMorph.test(bubbleType+type)){cur=cur.parentNode;}
for(;cur;cur=cur.parentNode){eventPath.push(cur);tmp=cur;}
if(tmp===(elem.ownerDocument||document)){eventPath.push(tmp.defaultView||tmp.parentWindow||window);}}
i=0;while((cur=eventPath[i++])&&!event.isPropagationStopped()){event.type=i>1?bubbleType:special.bindType||type;handle=(jQuery._data(cur,"events")||{})[event.type]&&jQuery._data(cur,"handle");if(handle){handle.apply(cur,data);}
handle=ontype&&cur[ontype];if(handle&&handle.apply&&jQuery.acceptData(cur)){event.result=handle.apply(cur,data);if(event.result===false){event.preventDefault();}}}
event.type=type;if(!onlyHandlers&&!event.isDefaultPrevented()){if((!special._default||special._default.apply(eventPath.pop(),data)===false)&&jQuery.acceptData(elem)){if(ontype&&elem[type]&&!jQuery.isWindow(elem)){tmp=elem[ontype];if(tmp){elem[ontype]=null;}
jQuery.event.triggered=type;try{elem[type]();}catch(e){}
jQuery.event.triggered=undefined;if(tmp){elem[ontype]=tmp;}}}}
return event.result;},dispatch:function(event){event=jQuery.event.fix(event);var i,ret,handleObj,matched,j,handlerQueue=[],args=slice.call(arguments),handlers=(jQuery._data(this,"events")||{})[event.type]||[],special=jQuery.event.special[event.type]||{};args[0]=event;event.delegateTarget=this;if(special.preDispatch&&special.preDispatch.call(this,event)===false){return;}
handlerQueue=jQuery.event.handlers.call(this,event,handlers);i=0;while((matched=handlerQueue[i++])&&!event.isPropagationStopped()){event.currentTarget=matched.elem;j=0;while((handleObj=matched.handlers[j++])&&!event.isImmediatePropagationStopped()){if(!event.namespace_re||event.namespace_re.test(handleObj.namespace)){event.handleObj=handleObj;event.data=handleObj.data;ret=((jQuery.event.special[handleObj.origType]||{}).handle||handleObj.handler)
.apply(matched.elem,args);if(ret!==undefined){if((event.result=ret)===false){event.preventDefault();event.stopPropagation();}}}}}
if(special.postDispatch){special.postDispatch.call(this,event);}
return event.result;},handlers:function(event,handlers){var sel,handleObj,matches,i,handlerQueue=[],delegateCount=handlers.delegateCount,cur=event.target;if(delegateCount&&cur.nodeType&&(!event.button||event.type!=="click")){for(;cur!=this;cur=cur.parentNode||this){if(cur.nodeType===1&&(cur.disabled!==true||event.type!=="click")){matches=[];for(i=0;i<delegateCount;i++){handleObj=handlers[i];sel=handleObj.selector+" ";if(matches[sel]===undefined){matches[sel]=handleObj.needsContext?jQuery(sel,this).index(cur)>=0:jQuery.find(sel,this,null,[cur]).length;}
if(matches[sel]){matches.push(handleObj);}}
if(matches.length){handlerQueue.push({elem:cur,handlers:matches});}}}}
if(delegateCount<handlers.length){handlerQueue.push({elem:this,handlers:handlers.slice(delegateCount)});}
return handlerQueue;},fix:function(event){if(event[jQuery.expando]){return event;}
var i,prop,copy,type=event.type,originalEvent=event,fixHook=this.fixHooks[type];if(!fixHook){this.fixHooks[type]=fixHook=rmouseEvent.test(type)?this.mouseHooks:rkeyEvent.test(type)?this.keyHooks:{};}
copy=fixHook.props?this.props.concat(fixHook.props):this.props;event=new jQuery.Event(originalEvent);i=copy.length;while(i--){prop=copy[i];event[prop]=originalEvent[prop];}
if(!event.target){event.target=originalEvent.srcElement||document;}
if(event.target.nodeType===3){event.target=event.target.parentNode;}
event.metaKey=!!event.metaKey;return fixHook.filter?fixHook.filter(event,originalEvent):event;},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(event,original){if(event.which==null){event.which=original.charCode!=null?original.charCode:original.keyCode;}
return event;}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(event,original){var body,eventDoc,doc,button=original.button,fromElement=original.fromElement;if(event.pageX==null&&original.clientX!=null){eventDoc=event.target.ownerDocument||document;doc=eventDoc.documentElement;body=eventDoc.body;event.pageX=original.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0);event.pageY=original.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0);}
if(!event.relatedTarget&&fromElement){event.relatedTarget=fromElement===event.target?original.toElement:fromElement;}
if(!event.which&&button!==undefined){event.which=(button&1?1:(button&2?3:(button&4?2:0)));}
return event;}},special:{load:{noBubble:true},focus:{trigger:function(){if(this!==safeActiveElement()&&this.focus){try{this.focus();return false;}catch(e){}}},delegateType:"focusin"},blur:{trigger:function(){if(this===safeActiveElement()&&this.blur){this.blur();return false;}},delegateType:"focusout"},click:{trigger:function(){if(jQuery.nodeName(this,"input")&&this.type==="checkbox"&&this.click){this.click();return false;}},_default:function(event){return jQuery.nodeName(event.target,"a");}},beforeunload:{postDispatch:function(event){if(event.result!==undefined&&event.originalEvent){event.originalEvent.returnValue=event.result;}}}},simulate:function(type,elem,event,bubble){var e=jQuery.extend(new jQuery.Event(),event,{type:type,isSimulated:true,originalEvent:{}});if(bubble){jQuery.event.trigger(e,null,elem);}else{jQuery.event.dispatch.call(elem,e);}
if(e.isDefaultPrevented()){event.preventDefault();}}};jQuery.removeEvent=document.removeEventListener?function(elem,type,handle){if(elem.removeEventListener){elem.removeEventListener(type,handle,false);}}:function(elem,type,handle){var name="on"+type;if(elem.detachEvent){if(typeof elem[name]===strundefined){elem[name]=null;}
elem.detachEvent(name,handle);}};jQuery.Event=function(src,props){if(!(this instanceof jQuery.Event)){return new jQuery.Event(src,props);}
if(src&&src.type){this.originalEvent=src;this.type=src.type;this.isDefaultPrevented=src.defaultPrevented||src.defaultPrevented===undefined&&src.returnValue===false?returnTrue:returnFalse;}else{this.type=src;}
if(props){jQuery.extend(this,props);}
this.timeStamp=src&&src.timeStamp||jQuery.now();this[jQuery.expando]=true;};jQuery.Event.prototype={isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=returnTrue;if(!e){return;}
if(e.preventDefault){e.preventDefault();}else{e.returnValue=false;}},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=returnTrue;if(!e){return;}
if(e.stopPropagation){e.stopPropagation();}
e.cancelBubble=true;},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=returnTrue;if(e&&e.stopImmediatePropagation){e.stopImmediatePropagation();}
this.stopPropagation();}};jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(orig,fix){jQuery.event.special[orig]={delegateType:fix,bindType:fix,handle:function(event){var ret,target=this,related=event.relatedTarget,handleObj=event.handleObj;if(!related||(related!==target&&!jQuery.contains(target,related))){event.type=handleObj.origType;ret=handleObj.handler.apply(this,arguments);event.type=fix;}
return ret;}};});if(!support.submitBubbles){jQuery.event.special.submit={setup:function(){if(jQuery.nodeName(this,"form")){return false;}
jQuery.event.add(this,"click._submit keypress._submit",function(e){var elem=e.target,form=jQuery.nodeName(elem,"input")||jQuery.nodeName(elem,"button")?elem.form:undefined;if(form&&!jQuery._data(form,"submitBubbles")){jQuery.event.add(form,"submit._submit",function(event){event._submit_bubble=true;});jQuery._data(form,"submitBubbles",true);}});},postDispatch:function(event){if(event._submit_bubble){delete event._submit_bubble;if(this.parentNode&&!event.isTrigger){jQuery.event.simulate("submit",this.parentNode,event,true);}}},teardown:function(){if(jQuery.nodeName(this,"form")){return false;}
jQuery.event.remove(this,"._submit");}};}
if(!support.changeBubbles){jQuery.event.special.change={setup:function(){if(rformElems.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio"){jQuery.event.add(this,"propertychange._change",function(event){if(event.originalEvent.propertyName==="checked"){this._just_changed=true;}});jQuery.event.add(this,"click._change",function(event){if(this._just_changed&&!event.isTrigger){this._just_changed=false;}
jQuery.event.simulate("change",this,event,true);});}
return false;}
jQuery.event.add(this,"beforeactivate._change",function(e){var elem=e.target;if(rformElems.test(elem.nodeName)&&!jQuery._data(elem,"changeBubbles")){jQuery.event.add(elem,"change._change",function(event){if(this.parentNode&&!event.isSimulated&&!event.isTrigger){jQuery.event.simulate("change",this.parentNode,event,true);}});jQuery._data(elem,"changeBubbles",true);}});},handle:function(event){var elem=event.target;if(this!==elem||event.isSimulated||event.isTrigger||(elem.type!=="radio"&&elem.type!=="checkbox")){return event.handleObj.handler.apply(this,arguments);}},teardown:function(){jQuery.event.remove(this,"._change");return!rformElems.test(this.nodeName);}};}
if(!support.focusinBubbles){jQuery.each({focus:"focusin",blur:"focusout"},function(orig,fix){var handler=function(event){jQuery.event.simulate(fix,event.target,jQuery.event.fix(event),true);};jQuery.event.special[fix]={setup:function(){var doc=this.ownerDocument||this,attaches=jQuery._data(doc,fix);if(!attaches){doc.addEventListener(orig,handler,true);}
jQuery._data(doc,fix,(attaches||0)+1);},teardown:function(){var doc=this.ownerDocument||this,attaches=jQuery._data(doc,fix)-1;if(!attaches){doc.removeEventListener(orig,handler,true);jQuery._removeData(doc,fix);}else{jQuery._data(doc,fix,attaches);}}};});}
jQuery.fn.extend({on:function(types,selector,data,fn,one){var type,origFn;if(typeof types==="object"){if(typeof selector!=="string"){data=data||selector;selector=undefined;}
for(type in types){this.on(type,selector,data,types[type],one);}
return this;}
if(data==null&&fn==null){fn=selector;data=selector=undefined;}else if(fn==null){if(typeof selector==="string"){fn=data;data=undefined;}else{fn=data;data=selector;selector=undefined;}}
if(fn===false){fn=returnFalse;}else if(!fn){return this;}
if(one===1){origFn=fn;fn=function(event){jQuery().off(event);return origFn.apply(this,arguments);};fn.guid=origFn.guid||(origFn.guid=jQuery.guid++);}
return this.each(function(){jQuery.event.add(this,types,fn,data,selector);});},one:function(types,selector,data,fn){return this.on(types,selector,data,fn,1);},off:function(types,selector,fn){var handleObj,type;if(types&&types.preventDefault&&types.handleObj){handleObj=types.handleObj;jQuery(types.delegateTarget).off(handleObj.namespace?handleObj.origType+"."+handleObj.namespace:handleObj.origType,handleObj.selector,handleObj.handler);return this;}
if(typeof types==="object"){for(type in types){this.off(type,selector,types[type]);}
return this;}
if(selector===false||typeof selector==="function"){fn=selector;selector=undefined;}
if(fn===false){fn=returnFalse;}
return this.each(function(){jQuery.event.remove(this,types,fn,selector);});},trigger:function(type,data){return this.each(function(){jQuery.event.trigger(type,data,this);});},triggerHandler:function(type,data){var elem=this[0];if(elem){return jQuery.event.trigger(type,data,elem,true);}}});function createSafeFragment(document){var list=nodeNames.split("|"),safeFrag=document.createDocumentFragment();if(safeFrag.createElement){while(list.length){safeFrag.createElement(list.pop());}}
return safeFrag;}
var nodeNames="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|"+
"header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",rinlinejQuery=/ jQuery\d+="(?:null|\d+)"/g,rnoshimcache=new RegExp("<(?:"+nodeNames+")[\\s/>]","i"),rleadingWhitespace=/^\s+/,rxhtmlTag=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,rtagName=/<([\w:]+)/,rtbody=/<tbody/i,rhtml=/<|&#?\w+;/,rnoInnerhtml=/<(?:script|style|link)/i,rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rscriptType=/^$|\/(?:java|ecma)script/i,rscriptTypeMasked=/^true\/(.*)/,rcleanScript=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,wrapMap={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},safeFragment=createSafeFragment(document),fragmentDiv=safeFragment.appendChild(document.createElement("div"));wrapMap.optgroup=wrapMap.option;wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead;wrapMap.th=wrapMap.td;function getAll(context,tag){var elems,elem,i=0,found=typeof context.getElementsByTagName!==strundefined?context.getElementsByTagName(tag||"*"):typeof context.querySelectorAll!==strundefined?context.querySelectorAll(tag||"*"):undefined;if(!found){for(found=[],elems=context.childNodes||context;(elem=elems[i])!=null;i++){if(!tag||jQuery.nodeName(elem,tag)){found.push(elem);}else{jQuery.merge(found,getAll(elem,tag));}}}
return tag===undefined||tag&&jQuery.nodeName(context,tag)?jQuery.merge([context],found):found;}
function fixDefaultChecked(elem){if(rcheckableType.test(elem.type)){elem.defaultChecked=elem.checked;}}
function manipulationTarget(elem,content){return jQuery.nodeName(elem,"table")&&jQuery.nodeName(content.nodeType!==11?content:content.firstChild,"tr")?elem.getElementsByTagName("tbody")[0]||elem.appendChild(elem.ownerDocument.createElement("tbody")):elem;}
function disableScript(elem){elem.type=(jQuery.find.attr(elem,"type")!==null)+"/"+elem.type;return elem;}
function restoreScript(elem){var match=rscriptTypeMasked.exec(elem.type);if(match){elem.type=match[1];}else{elem.removeAttribute("type");}
return elem;}
function setGlobalEval(elems,refElements){var elem,i=0;for(;(elem=elems[i])!=null;i++){jQuery._data(elem,"globalEval",!refElements||jQuery._data(refElements[i],"globalEval"));}}
function cloneCopyEvent(src,dest){if(dest.nodeType!==1||!jQuery.hasData(src)){return;}
var type,i,l,oldData=jQuery._data(src),curData=jQuery._data(dest,oldData),events=oldData.events;if(events){delete curData.handle;curData.events={};for(type in events){for(i=0,l=events[type].length;i<l;i++){jQuery.event.add(dest,type,events[type][i]);}}}
if(curData.data){curData.data=jQuery.extend({},curData.data);}}
function fixCloneNodeIssues(src,dest){var nodeName,e,data;if(dest.nodeType!==1){return;}
nodeName=dest.nodeName.toLowerCase();if(!support.noCloneEvent&&dest[jQuery.expando]){data=jQuery._data(dest);for(e in data.events){jQuery.removeEvent(dest,e,data.handle);}
dest.removeAttribute(jQuery.expando);}
if(nodeName==="script"&&dest.text!==src.text){disableScript(dest).text=src.text;restoreScript(dest);}else if(nodeName==="object"){if(dest.parentNode){dest.outerHTML=src.outerHTML;}
if(support.html5Clone&&(src.innerHTML&&!jQuery.trim(dest.innerHTML))){dest.innerHTML=src.innerHTML;}}else if(nodeName==="input"&&rcheckableType.test(src.type)){dest.defaultChecked=dest.checked=src.checked;if(dest.value!==src.value){dest.value=src.value;}}else if(nodeName==="option"){dest.defaultSelected=dest.selected=src.defaultSelected;}else if(nodeName==="input"||nodeName==="textarea"){dest.defaultValue=src.defaultValue;}}
jQuery.extend({clone:function(elem,dataAndEvents,deepDataAndEvents){var destElements,node,clone,i,srcElements,inPage=jQuery.contains(elem.ownerDocument,elem);if(support.html5Clone||jQuery.isXMLDoc(elem)||!rnoshimcache.test("<"+elem.nodeName+">")){clone=elem.cloneNode(true);}else{fragmentDiv.innerHTML=elem.outerHTML;fragmentDiv.removeChild(clone=fragmentDiv.firstChild);}
if((!support.noCloneEvent||!support.noCloneChecked)&&(elem.nodeType===1||elem.nodeType===11)&&!jQuery.isXMLDoc(elem)){destElements=getAll(clone);srcElements=getAll(elem);for(i=0;(node=srcElements[i])!=null;++i){if(destElements[i]){fixCloneNodeIssues(node,destElements[i]);}}}
if(dataAndEvents){if(deepDataAndEvents){srcElements=srcElements||getAll(elem);destElements=destElements||getAll(clone);for(i=0;(node=srcElements[i])!=null;i++){cloneCopyEvent(node,destElements[i]);}}else{cloneCopyEvent(elem,clone);}}
destElements=getAll(clone,"script");if(destElements.length>0){setGlobalEval(destElements,!inPage&&getAll(elem,"script"));}
destElements=srcElements=node=null;return clone;},buildFragment:function(elems,context,scripts,selection){var j,elem,contains,tmp,tag,tbody,wrap,l=elems.length,safe=createSafeFragment(context),nodes=[],i=0;for(;i<l;i++){elem=elems[i];if(elem||elem===0){if(jQuery.type(elem)==="object"){jQuery.merge(nodes,elem.nodeType?[elem]:elem);}else if(!rhtml.test(elem)){nodes.push(context.createTextNode(elem));}else{tmp=tmp||safe.appendChild(context.createElement("div"));tag=(rtagName.exec(elem)||["",""])[1].toLowerCase();wrap=wrapMap[tag]||wrapMap._default;tmp.innerHTML=wrap[1]+elem.replace(rxhtmlTag,"<$1></$2>")+wrap[2];j=wrap[0];while(j--){tmp=tmp.lastChild;}
if(!support.leadingWhitespace&&rleadingWhitespace.test(elem)){nodes.push(context.createTextNode(rleadingWhitespace.exec(elem)[0]));}
if(!support.tbody){elem=tag==="table"&&!rtbody.test(elem)?tmp.firstChild:wrap[1]==="<table>"&&!rtbody.test(elem)?tmp:0;j=elem&&elem.childNodes.length;while(j--){if(jQuery.nodeName((tbody=elem.childNodes[j]),"tbody")&&!tbody.childNodes.length){elem.removeChild(tbody);}}}
jQuery.merge(nodes,tmp.childNodes);tmp.textContent="";while(tmp.firstChild){tmp.removeChild(tmp.firstChild);}
tmp=safe.lastChild;}}}
if(tmp){safe.removeChild(tmp);}
if(!support.appendChecked){jQuery.grep(getAll(nodes,"input"),fixDefaultChecked);}
i=0;while((elem=nodes[i++])){if(selection&&jQuery.inArray(elem,selection)!==-1){continue;}
contains=jQuery.contains(elem.ownerDocument,elem);tmp=getAll(safe.appendChild(elem),"script");if(contains){setGlobalEval(tmp);}
if(scripts){j=0;while((elem=tmp[j++])){if(rscriptType.test(elem.type||"")){scripts.push(elem);}}}}
tmp=null;return safe;},cleanData:function(elems,acceptData){var elem,type,id,data,i=0,internalKey=jQuery.expando,cache=jQuery.cache,deleteExpando=support.deleteExpando,special=jQuery.event.special;for(;(elem=elems[i])!=null;i++){if(acceptData||jQuery.acceptData(elem)){id=elem[internalKey];data=id&&cache[id];if(data){if(data.events){for(type in data.events){if(special[type]){jQuery.event.remove(elem,type);}else{jQuery.removeEvent(elem,type,data.handle);}}}
if(cache[id]){delete cache[id];if(deleteExpando){delete elem[internalKey];}else if(typeof elem.removeAttribute!==strundefined){elem.removeAttribute(internalKey);}else{elem[internalKey]=null;}
deletedIds.push(id);}}}}}});jQuery.fn.extend({text:function(value){return access(this,function(value){return value===undefined?jQuery.text(this):this.empty().append((this[0]&&this[0].ownerDocument||document).createTextNode(value));},null,value,arguments.length);},append:function(){return this.domManip(arguments,function(elem){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var target=manipulationTarget(this,elem);target.appendChild(elem);}});},prepend:function(){return this.domManip(arguments,function(elem){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var target=manipulationTarget(this,elem);target.insertBefore(elem,target.firstChild);}});},before:function(){return this.domManip(arguments,function(elem){if(this.parentNode){this.parentNode.insertBefore(elem,this);}});},after:function(){return this.domManip(arguments,function(elem){if(this.parentNode){this.parentNode.insertBefore(elem,this.nextSibling);}});},remove:function(selector,keepData){var elem,elems=selector?jQuery.filter(selector,this):this,i=0;for(;(elem=elems[i])!=null;i++){if(!keepData&&elem.nodeType===1){jQuery.cleanData(getAll(elem));}
if(elem.parentNode){if(keepData&&jQuery.contains(elem.ownerDocument,elem)){setGlobalEval(getAll(elem,"script"));}
elem.parentNode.removeChild(elem);}}
return this;},empty:function(){var elem,i=0;for(;(elem=this[i])!=null;i++){if(elem.nodeType===1){jQuery.cleanData(getAll(elem,false));}
while(elem.firstChild){elem.removeChild(elem.firstChild);}
if(elem.options&&jQuery.nodeName(elem,"select")){elem.options.length=0;}}
return this;},clone:function(dataAndEvents,deepDataAndEvents){dataAndEvents=dataAndEvents==null?false:dataAndEvents;deepDataAndEvents=deepDataAndEvents==null?dataAndEvents:deepDataAndEvents;return this.map(function(){return jQuery.clone(this,dataAndEvents,deepDataAndEvents);});},html:function(value){return access(this,function(value){var elem=this[0]||{},i=0,l=this.length;if(value===undefined){return elem.nodeType===1?elem.innerHTML.replace(rinlinejQuery,""):undefined;}
if(typeof value==="string"&&!rnoInnerhtml.test(value)&&(support.htmlSerialize||!rnoshimcache.test(value))&&(support.leadingWhitespace||!rleadingWhitespace.test(value))&&!wrapMap[(rtagName.exec(value)||["",""])[1].toLowerCase()]){value=value.replace(rxhtmlTag,"<$1></$2>");try{for(;i<l;i++){elem=this[i]||{};if(elem.nodeType===1){jQuery.cleanData(getAll(elem,false));elem.innerHTML=value;}}
elem=0;}catch(e){}}
if(elem){this.empty().append(value);}},null,value,arguments.length);},replaceWith:function(){var arg=arguments[0];this.domManip(arguments,function(elem){arg=this.parentNode;jQuery.cleanData(getAll(this));if(arg){arg.replaceChild(elem,this);}});return arg&&(arg.length||arg.nodeType)?this:this.remove();},detach:function(selector){return this.remove(selector,true);},domManip:function(args,callback){args=concat.apply([],args);var first,node,hasScripts,scripts,doc,fragment,i=0,l=this.length,set=this,iNoClone=l-1,value=args[0],isFunction=jQuery.isFunction(value);if(isFunction||(l>1&&typeof value==="string"&&!support.checkClone&&rchecked.test(value))){return this.each(function(index){var self=set.eq(index);if(isFunction){args[0]=value.call(this,index,self.html());}
self.domManip(args,callback);});}
if(l){fragment=jQuery.buildFragment(args,this[0].ownerDocument,false,this);first=fragment.firstChild;if(fragment.childNodes.length===1){fragment=first;}
if(first){scripts=jQuery.map(getAll(fragment,"script"),disableScript);hasScripts=scripts.length;for(;i<l;i++){node=fragment;if(i!==iNoClone){node=jQuery.clone(node,true,true);if(hasScripts){jQuery.merge(scripts,getAll(node,"script"));}}
callback.call(this[i],node,i);}
if(hasScripts){doc=scripts[scripts.length-1].ownerDocument;jQuery.map(scripts,restoreScript);for(i=0;i<hasScripts;i++){node=scripts[i];if(rscriptType.test(node.type||"")&&!jQuery._data(node,"globalEval")&&jQuery.contains(doc,node)){if(node.src){if(jQuery._evalUrl){jQuery._evalUrl(node.src);}}else{jQuery.globalEval((node.text||node.textContent||node.innerHTML||"").replace(rcleanScript,""));}}}}
fragment=first=null;}}
return this;}});jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(selector){var elems,i=0,ret=[],insert=jQuery(selector),last=insert.length-1;for(;i<=last;i++){elems=i===last?this:this.clone(true);jQuery(insert[i])[original](elems);push.apply(ret,elems.get());}
return this.pushStack(ret);};});var iframe,elemdisplay={};function actualDisplay(name,doc){var style,elem=jQuery(doc.createElement(name)).appendTo(doc.body),display=window.getDefaultComputedStyle&&(style=window.getDefaultComputedStyle(elem[0]))?style.display:jQuery.css(elem[0],"display");elem.detach();return display;}
function defaultDisplay(nodeName){var doc=document,display=elemdisplay[nodeName];if(!display){display=actualDisplay(nodeName,doc);if(display==="none"||!display){iframe=(iframe||jQuery("<iframe frameborder='0' width='0' height='0'/>")).appendTo(doc.documentElement);doc=(iframe[0].contentWindow||iframe[0].contentDocument).document;doc.write();doc.close();display=actualDisplay(nodeName,doc);iframe.detach();}
elemdisplay[nodeName]=display;}
return display;}
(function(){var shrinkWrapBlocksVal;support.shrinkWrapBlocks=function(){if(shrinkWrapBlocksVal!=null){return shrinkWrapBlocksVal;}
shrinkWrapBlocksVal=false;var div,body,container;body=document.getElementsByTagName("body")[0];if(!body||!body.style){return;}
div=document.createElement("div");container=document.createElement("div");container.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px";body.appendChild(container).appendChild(div);if(typeof div.style.zoom!==strundefined){div.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;"+
"box-sizing:content-box;display:block;margin:0;border:0;"+
"padding:1px;width:1px;zoom:1";div.appendChild(document.createElement("div")).style.width="5px";shrinkWrapBlocksVal=div.offsetWidth!==3;}
body.removeChild(container);return shrinkWrapBlocksVal;};})();var rmargin=(/^margin/);var rnumnonpx=new RegExp("^("+pnum+")(?!px)[a-z%]+$","i");var getStyles,curCSS,rposition=/^(top|right|bottom|left)$/;if(window.getComputedStyle){getStyles=function(elem){return elem.ownerDocument.defaultView.getComputedStyle(elem,null);};curCSS=function(elem,name,computed){var width,minWidth,maxWidth,ret,style=elem.style;computed=computed||getStyles(elem);ret=computed?computed.getPropertyValue(name)||computed[name]:undefined;if(computed){if(ret===""&&!jQuery.contains(elem.ownerDocument,elem)){ret=jQuery.style(elem,name);}
if(rnumnonpx.test(ret)&&rmargin.test(name)){width=style.width;minWidth=style.minWidth;maxWidth=style.maxWidth;style.minWidth=style.maxWidth=style.width=ret;ret=computed.width;style.width=width;style.minWidth=minWidth;style.maxWidth=maxWidth;}}
return ret===undefined?ret:ret+"";};}else if(document.documentElement.currentStyle){getStyles=function(elem){return elem.currentStyle;};curCSS=function(elem,name,computed){var left,rs,rsLeft,ret,style=elem.style;computed=computed||getStyles(elem);ret=computed?computed[name]:undefined;if(ret==null&&style&&style[name]){ret=style[name];}
if(rnumnonpx.test(ret)&&!rposition.test(name)){left=style.left;rs=elem.runtimeStyle;rsLeft=rs&&rs.left;if(rsLeft){rs.left=elem.currentStyle.left;}
style.left=name==="fontSize"?"1em":ret;ret=style.pixelLeft+"px";style.left=left;if(rsLeft){rs.left=rsLeft;}}
return ret===undefined?ret:ret+""||"auto";};}
function addGetHookIf(conditionFn,hookFn){return{get:function(){var condition=conditionFn();if(condition==null){return;}
if(condition){delete this.get;return;}
return(this.get=hookFn).apply(this,arguments);}};}
(function(){var div,style,a,pixelPositionVal,boxSizingReliableVal,reliableHiddenOffsetsVal,reliableMarginRightVal;div=document.createElement("div");div.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";a=div.getElementsByTagName("a")[0];style=a&&a.style;if(!style){return;}
style.cssText="float:left;opacity:.5";support.opacity=style.opacity==="0.5";support.cssFloat=!!style.cssFloat;div.style.backgroundClip="content-box";div.cloneNode(true).style.backgroundClip="";support.clearCloneStyle=div.style.backgroundClip==="content-box";support.boxSizing=style.boxSizing===""||style.MozBoxSizing===""||style.WebkitBoxSizing==="";jQuery.extend(support,{reliableHiddenOffsets:function(){if(reliableHiddenOffsetsVal==null){computeStyleTests();}
return reliableHiddenOffsetsVal;},boxSizingReliable:function(){if(boxSizingReliableVal==null){computeStyleTests();}
return boxSizingReliableVal;},pixelPosition:function(){if(pixelPositionVal==null){computeStyleTests();}
return pixelPositionVal;},reliableMarginRight:function(){if(reliableMarginRightVal==null){computeStyleTests();}
return reliableMarginRightVal;}});function computeStyleTests(){var div,body,container,contents;body=document.getElementsByTagName("body")[0];if(!body||!body.style){return;}
div=document.createElement("div");container=document.createElement("div");container.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px";body.appendChild(container).appendChild(div);div.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;"+
"box-sizing:border-box;display:block;margin-top:1%;top:1%;"+
"border:1px;padding:1px;width:4px;position:absolute";pixelPositionVal=boxSizingReliableVal=false;reliableMarginRightVal=true;if(window.getComputedStyle){pixelPositionVal=(window.getComputedStyle(div,null)||{}).top!=="1%";boxSizingReliableVal=(window.getComputedStyle(div,null)||{width:"4px"}).width==="4px";contents=div.appendChild(document.createElement("div"));contents.style.cssText=div.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;"+
"box-sizing:content-box;display:block;margin:0;border:0;padding:0";contents.style.marginRight=contents.style.width="0";div.style.width="1px";reliableMarginRightVal=!parseFloat((window.getComputedStyle(contents,null)||{}).marginRight);}
div.innerHTML="<table><tr><td></td><td>t</td></tr></table>";contents=div.getElementsByTagName("td");contents[0].style.cssText="margin:0;border:0;padding:0;display:none";reliableHiddenOffsetsVal=contents[0].offsetHeight===0;if(reliableHiddenOffsetsVal){contents[0].style.display="";contents[1].style.display="none";reliableHiddenOffsetsVal=contents[0].offsetHeight===0;}
body.removeChild(container);}})();jQuery.swap=function(elem,options,callback,args){var ret,name,old={};for(name in options){old[name]=elem.style[name];elem.style[name]=options[name];}
ret=callback.apply(elem,args||[]);for(name in options){elem.style[name]=old[name];}
return ret;};var
ralpha=/alpha\([^)]*\)/i,ropacity=/opacity\s*=\s*([^)]*)/,rdisplayswap=/^(none|table(?!-c[ea]).+)/,rnumsplit=new RegExp("^("+pnum+")(.*)$","i"),rrelNum=new RegExp("^([+-])=("+pnum+")","i"),cssShow={position:"absolute",visibility:"hidden",display:"block"},cssNormalTransform={letterSpacing:"0",fontWeight:"400"},cssPrefixes=["Webkit","O","Moz","ms"];function vendorPropName(style,name){if(name in style){return name;}
var capName=name.charAt(0).toUpperCase()+name.slice(1),origName=name,i=cssPrefixes.length;while(i--){name=cssPrefixes[i]+capName;if(name in style){return name;}}
return origName;}
function showHide(elements,show){var display,elem,hidden,values=[],index=0,length=elements.length;for(;index<length;index++){elem=elements[index];if(!elem.style){continue;}
values[index]=jQuery._data(elem,"olddisplay");display=elem.style.display;if(show){if(!values[index]&&display==="none"){elem.style.display="";}
if(elem.style.display===""&&isHidden(elem)){values[index]=jQuery._data(elem,"olddisplay",defaultDisplay(elem.nodeName));}}else{hidden=isHidden(elem);if(display&&display!=="none"||!hidden){jQuery._data(elem,"olddisplay",hidden?display:jQuery.css(elem,"display"));}}}
for(index=0;index<length;index++){elem=elements[index];if(!elem.style){continue;}
if(!show||elem.style.display==="none"||elem.style.display===""){elem.style.display=show?values[index]||"":"none";}}
return elements;}
function setPositiveNumber(elem,value,subtract){var matches=rnumsplit.exec(value);return matches?Math.max(0,matches[1]-(subtract||0))+(matches[2]||"px"):value;}
function augmentWidthOrHeight(elem,name,extra,isBorderBox,styles){var i=extra===(isBorderBox?"border":"content")?4:name==="width"?1:0,val=0;for(;i<4;i+=2){if(extra==="margin"){val+=jQuery.css(elem,extra+cssExpand[i],true,styles);}
if(isBorderBox){if(extra==="content"){val-=jQuery.css(elem,"padding"+cssExpand[i],true,styles);}
if(extra!=="margin"){val-=jQuery.css(elem,"border"+cssExpand[i]+"Width",true,styles);}}else{val+=jQuery.css(elem,"padding"+cssExpand[i],true,styles);if(extra!=="padding"){val+=jQuery.css(elem,"border"+cssExpand[i]+"Width",true,styles);}}}
return val;}
function getWidthOrHeight(elem,name,extra){var valueIsBorderBox=true,val=name==="width"?elem.offsetWidth:elem.offsetHeight,styles=getStyles(elem),isBorderBox=support.boxSizing&&jQuery.css(elem,"boxSizing",false,styles)==="border-box";if(val<=0||val==null){val=curCSS(elem,name,styles);if(val<0||val==null){val=elem.style[name];}
if(rnumnonpx.test(val)){return val;}
valueIsBorderBox=isBorderBox&&(support.boxSizingReliable()||val===elem.style[name]);val=parseFloat(val)||0;}
return(val+
augmentWidthOrHeight(elem,name,extra||(isBorderBox?"border":"content"),valueIsBorderBox,styles))+"px";}
jQuery.extend({cssHooks:{opacity:{get:function(elem,computed){if(computed){var ret=curCSS(elem,"opacity");return ret===""?"1":ret;}}}},cssNumber:{"columnCount":true,"fillOpacity":true,"flexGrow":true,"flexShrink":true,"fontWeight":true,"lineHeight":true,"opacity":true,"order":true,"orphans":true,"widows":true,"zIndex":true,"zoom":true},cssProps:{"float":support.cssFloat?"cssFloat":"styleFloat"},style:function(elem,name,value,extra){if(!elem||elem.nodeType===3||elem.nodeType===8||!elem.style){return;}
var ret,type,hooks,origName=jQuery.camelCase(name),style=elem.style;name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(style,origName));hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName];if(value!==undefined){type=typeof value;if(type==="string"&&(ret=rrelNum.exec(value))){value=(ret[1]+1)*ret[2]+parseFloat(jQuery.css(elem,name));type="number";}
if(value==null||value!==value){return;}
if(type==="number"&&!jQuery.cssNumber[origName]){value+="px";}
if(!support.clearCloneStyle&&value===""&&name.indexOf("background")===0){style[name]="inherit";}
if(!hooks||!("set" in hooks)||(value=hooks.set(elem,value,extra))!==undefined){try{style[name]=value;}catch(e){}}}else{if(hooks&&"get" in hooks&&(ret=hooks.get(elem,false,extra))!==undefined){return ret;}
return style[name];}},css:function(elem,name,extra,styles){var num,val,hooks,origName=jQuery.camelCase(name);name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(elem.style,origName));hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName];if(hooks&&"get" in hooks){val=hooks.get(elem,true,extra);}
if(val===undefined){val=curCSS(elem,name,styles);}
if(val==="normal"&&name in cssNormalTransform){val=cssNormalTransform[name];}
if(extra===""||extra){num=parseFloat(val);return extra===true||jQuery.isNumeric(num)?num||0:val;}
return val;}});jQuery.each(["height","width"],function(i,name){jQuery.cssHooks[name]={get:function(elem,computed,extra){if(computed){return rdisplayswap.test(jQuery.css(elem,"display"))&&elem.offsetWidth===0?jQuery.swap(elem,cssShow,function(){return getWidthOrHeight(elem,name,extra);}):getWidthOrHeight(elem,name,extra);}},set:function(elem,value,extra){var styles=extra&&getStyles(elem);return setPositiveNumber(elem,value,extra?augmentWidthOrHeight(elem,name,extra,support.boxSizing&&jQuery.css(elem,"boxSizing",false,styles)==="border-box",styles):0);}};});if(!support.opacity){jQuery.cssHooks.opacity={get:function(elem,computed){return ropacity.test((computed&&elem.currentStyle?elem.currentStyle.filter:elem.style.filter)||"")?(0.01*parseFloat(RegExp.$1))+"":computed?"1":"";},set:function(elem,value){var style=elem.style,currentStyle=elem.currentStyle,opacity=jQuery.isNumeric(value)?"alpha(opacity="+value*100+")":"",filter=currentStyle&&currentStyle.filter||style.filter||"";style.zoom=1;if((value>=1||value==="")&&jQuery.trim(filter.replace(ralpha,""))===""&&style.removeAttribute){style.removeAttribute("filter");if(value===""||currentStyle&&!currentStyle.filter){return;}}
style.filter=ralpha.test(filter)?filter.replace(ralpha,opacity):filter+" "+opacity;}};}
jQuery.cssHooks.marginRight=addGetHookIf(support.reliableMarginRight,function(elem,computed){if(computed){return jQuery.swap(elem,{"display":"inline-block"},curCSS,[elem,"marginRight"]);}});jQuery.each({margin:"",padding:"",border:"Width"},function(prefix,suffix){jQuery.cssHooks[prefix+suffix]={expand:function(value){var i=0,expanded={},parts=typeof value==="string"?value.split(" "):[value];for(;i<4;i++){expanded[prefix+cssExpand[i]+suffix]=parts[i]||parts[i-2]||parts[0];}
return expanded;}};if(!rmargin.test(prefix)){jQuery.cssHooks[prefix+suffix].set=setPositiveNumber;}});jQuery.fn.extend({css:function(name,value){return access(this,function(elem,name,value){var styles,len,map={},i=0;if(jQuery.isArray(name)){styles=getStyles(elem);len=name.length;for(;i<len;i++){map[name[i]]=jQuery.css(elem,name[i],false,styles);}
return map;}
return value!==undefined?jQuery.style(elem,name,value):jQuery.css(elem,name);},name,value,arguments.length>1);},show:function(){return showHide(this,true);},hide:function(){return showHide(this);},toggle:function(state){if(typeof state==="boolean"){return state?this.show():this.hide();}
return this.each(function(){if(isHidden(this)){jQuery(this).show();}else{jQuery(this).hide();}});}});function Tween(elem,options,prop,end,easing){return new Tween.prototype.init(elem,options,prop,end,easing);}
jQuery.Tween=Tween;Tween.prototype={constructor:Tween,init:function(elem,options,prop,end,easing,unit){this.elem=elem;this.prop=prop;this.easing=easing||"swing";this.options=options;this.start=this.now=this.cur();this.end=end;this.unit=unit||(jQuery.cssNumber[prop]?"":"px");},cur:function(){var hooks=Tween.propHooks[this.prop];return hooks&&hooks.get?hooks.get(this):Tween.propHooks._default.get(this);},run:function(percent){var eased,hooks=Tween.propHooks[this.prop];if(this.options.duration){this.pos=eased=jQuery.easing[this.easing](percent,this.options.duration*percent,0,1,this.options.duration);}else{this.pos=eased=percent;}
this.now=(this.end-this.start)*eased+this.start;if(this.options.step){this.options.step.call(this.elem,this.now,this);}
if(hooks&&hooks.set){hooks.set(this);}else{Tween.propHooks._default.set(this);}
return this;}};Tween.prototype.init.prototype=Tween.prototype;Tween.propHooks={_default:{get:function(tween){var result;if(tween.elem[tween.prop]!=null&&(!tween.elem.style||tween.elem.style[tween.prop]==null)){return tween.elem[tween.prop];}
result=jQuery.css(tween.elem,tween.prop,"");return!result||result==="auto"?0:result;},set:function(tween){if(jQuery.fx.step[tween.prop]){jQuery.fx.step[tween.prop](tween);}else if(tween.elem.style&&(tween.elem.style[jQuery.cssProps[tween.prop]]!=null||jQuery.cssHooks[tween.prop])){jQuery.style(tween.elem,tween.prop,tween.now+tween.unit);}else{tween.elem[tween.prop]=tween.now;}}}};Tween.propHooks.scrollTop=Tween.propHooks.scrollLeft={set:function(tween){if(tween.elem.nodeType&&tween.elem.parentNode){tween.elem[tween.prop]=tween.now;}}};jQuery.easing={linear:function(p){return p;},swing:function(p){return 0.5-Math.cos(p*Math.PI)/2;}};jQuery.fx=Tween.prototype.init;jQuery.fx.step={};var
fxNow,timerId,rfxtypes=/^(?:toggle|show|hide)$/,rfxnum=new RegExp("^(?:([+-])=|)("+pnum+")([a-z%]*)$","i"),rrun=/queueHooks$/,animationPrefilters=[defaultPrefilter],tweeners={"*":[function(prop,value){var tween=this.createTween(prop,value),target=tween.cur(),parts=rfxnum.exec(value),unit=parts&&parts[3]||(jQuery.cssNumber[prop]?"":"px"),start=(jQuery.cssNumber[prop]||unit!=="px"&&+target)&&rfxnum.exec(jQuery.css(tween.elem,prop)),scale=1,maxIterations=20;if(start&&start[3]!==unit){unit=unit||start[3];parts=parts||[];start=+target||1;do{scale=scale||".5";start=start/scale;jQuery.style(tween.elem,prop,start+unit);}while(scale!==(scale=tween.cur()/target)&&scale!==1&&--maxIterations);}
if(parts){start=tween.start=+start||+target||0;tween.unit=unit;tween.end=parts[1]?start+(parts[1]+1)*parts[2]:+parts[2];}
return tween;}]};function createFxNow(){setTimeout(function(){fxNow=undefined;});return(fxNow=jQuery.now());}
function genFx(type,includeWidth){var which,attrs={height:type},i=0;includeWidth=includeWidth?1:0;for(;i<4;i+=2-includeWidth){which=cssExpand[i];attrs["margin"+which]=attrs["padding"+which]=type;}
if(includeWidth){attrs.opacity=attrs.width=type;}
return attrs;}
function createTween(value,prop,animation){var tween,collection=(tweeners[prop]||[]).concat(tweeners["*"]),index=0,length=collection.length;for(;index<length;index++){if((tween=collection[index].call(animation,prop,value))){return tween;}}}
function defaultPrefilter(elem,props,opts){var prop,value,toggle,tween,hooks,oldfire,display,checkDisplay,anim=this,orig={},style=elem.style,hidden=elem.nodeType&&isHidden(elem),dataShow=jQuery._data(elem,"fxshow");if(!opts.queue){hooks=jQuery._queueHooks(elem,"fx");if(hooks.unqueued==null){hooks.unqueued=0;oldfire=hooks.empty.fire;hooks.empty.fire=function(){if(!hooks.unqueued){oldfire();}};}
hooks.unqueued++;anim.always(function(){anim.always(function(){hooks.unqueued--;if(!jQuery.queue(elem,"fx").length){hooks.empty.fire();}});});}
if(elem.nodeType===1&&("height" in props||"width" in props)){opts.overflow=[style.overflow,style.overflowX,style.overflowY];display=jQuery.css(elem,"display");checkDisplay=display==="none"?jQuery._data(elem,"olddisplay")||defaultDisplay(elem.nodeName):display;if(checkDisplay==="inline"&&jQuery.css(elem,"float")==="none"){if(!support.inlineBlockNeedsLayout||defaultDisplay(elem.nodeName)==="inline"){style.display="inline-block";}else{style.zoom=1;}}}
if(opts.overflow){style.overflow="hidden";if(!support.shrinkWrapBlocks()){anim.always(function(){style.overflow=opts.overflow[0];style.overflowX=opts.overflow[1];style.overflowY=opts.overflow[2];});}}
for(prop in props){value=props[prop];if(rfxtypes.exec(value)){delete props[prop];toggle=toggle||value==="toggle";if(value===(hidden?"hide":"show")){if(value==="show"&&dataShow&&dataShow[prop]!==undefined){hidden=true;}else{continue;}}
orig[prop]=dataShow&&dataShow[prop]||jQuery.style(elem,prop);}else{display=undefined;}}
if(!jQuery.isEmptyObject(orig)){if(dataShow){if("hidden" in dataShow){hidden=dataShow.hidden;}}else{dataShow=jQuery._data(elem,"fxshow",{});}
if(toggle){dataShow.hidden=!hidden;}
if(hidden){jQuery(elem).show();}else{anim.done(function(){jQuery(elem).hide();});}
anim.done(function(){var prop;jQuery._removeData(elem,"fxshow");for(prop in orig){jQuery.style(elem,prop,orig[prop]);}});for(prop in orig){tween=createTween(hidden?dataShow[prop]:0,prop,anim);if(!(prop in dataShow)){dataShow[prop]=tween.start;if(hidden){tween.end=tween.start;tween.start=prop==="width"||prop==="height"?1:0;}}}}else if((display==="none"?defaultDisplay(elem.nodeName):display)==="inline"){style.display=display;}}
function propFilter(props,specialEasing){var index,name,easing,value,hooks;for(index in props){name=jQuery.camelCase(index);easing=specialEasing[name];value=props[index];if(jQuery.isArray(value)){easing=value[1];value=props[index]=value[0];}
if(index!==name){props[name]=value;delete props[index];}
hooks=jQuery.cssHooks[name];if(hooks&&"expand" in hooks){value=hooks.expand(value);delete props[name];for(index in value){if(!(index in props)){props[index]=value[index];specialEasing[index]=easing;}}}else{specialEasing[name]=easing;}}}
function Animation(elem,properties,options){var result,stopped,index=0,length=animationPrefilters.length,deferred=jQuery.Deferred().always(function(){delete tick.elem;}),tick=function(){if(stopped){return false;}
var currentTime=fxNow||createFxNow(),remaining=Math.max(0,animation.startTime+animation.duration-currentTime),temp=remaining/animation.duration||0,percent=1-temp,index=0,length=animation.tweens.length;for(;index<length;index++){animation.tweens[index].run(percent);}
deferred.notifyWith(elem,[animation,percent,remaining]);if(percent<1&&length){return remaining;}else{deferred.resolveWith(elem,[animation]);return false;}},animation=deferred.promise({elem:elem,props:jQuery.extend({},properties),opts:jQuery.extend(true,{specialEasing:{}},options),originalProperties:properties,originalOptions:options,startTime:fxNow||createFxNow(),duration:options.duration,tweens:[],createTween:function(prop,end){var tween=jQuery.Tween(elem,animation.opts,prop,end,animation.opts.specialEasing[prop]||animation.opts.easing);animation.tweens.push(tween);return tween;},stop:function(gotoEnd){var index=0,length=gotoEnd?animation.tweens.length:0;if(stopped){return this;}
stopped=true;for(;index<length;index++){animation.tweens[index].run(1);}
if(gotoEnd){deferred.resolveWith(elem,[animation,gotoEnd]);}else{deferred.rejectWith(elem,[animation,gotoEnd]);}
return this;}}),props=animation.props;propFilter(props,animation.opts.specialEasing);for(;index<length;index++){result=animationPrefilters[index].call(animation,elem,props,animation.opts);if(result){return result;}}
jQuery.map(props,createTween,animation);if(jQuery.isFunction(animation.opts.start)){animation.opts.start.call(elem,animation);}
jQuery.fx.timer(jQuery.extend(tick,{elem:elem,anim:animation,queue:animation.opts.queue}));return animation.progress(animation.opts.progress)
.done(animation.opts.done,animation.opts.complete)
.fail(animation.opts.fail)
.always(animation.opts.always);}
jQuery.Animation=jQuery.extend(Animation,{tweener:function(props,callback){if(jQuery.isFunction(props)){callback=props;props=["*"];}else{props=props.split(" ");}
var prop,index=0,length=props.length;for(;index<length;index++){prop=props[index];tweeners[prop]=tweeners[prop]||[];tweeners[prop].unshift(callback);}},prefilter:function(callback,prepend){if(prepend){animationPrefilters.unshift(callback);}else{animationPrefilters.push(callback);}}});jQuery.speed=function(speed,easing,fn){var opt=speed&&typeof speed==="object"?jQuery.extend({},speed):{complete:fn||!fn&&easing||jQuery.isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&!jQuery.isFunction(easing)&&easing};opt.duration=jQuery.fx.off?0:typeof opt.duration==="number"?opt.duration:opt.duration in jQuery.fx.speeds?jQuery.fx.speeds[opt.duration]:jQuery.fx.speeds._default;if(opt.queue==null||opt.queue===true){opt.queue="fx";}
opt.old=opt.complete;opt.complete=function(){if(jQuery.isFunction(opt.old)){opt.old.call(this);}
if(opt.queue){jQuery.dequeue(this,opt.queue);}};return opt;};jQuery.fn.extend({fadeTo:function(speed,to,easing,callback){return this.filter(isHidden).css("opacity",0).show()
.end().animate({opacity:to},speed,easing,callback);},animate:function(prop,speed,easing,callback){var empty=jQuery.isEmptyObject(prop),optall=jQuery.speed(speed,easing,callback),doAnimation=function(){var anim=Animation(this,jQuery.extend({},prop),optall);if(empty||jQuery._data(this,"finish")){anim.stop(true);}};doAnimation.finish=doAnimation;return empty||optall.queue===false?this.each(doAnimation):this.queue(optall.queue,doAnimation);},stop:function(type,clearQueue,gotoEnd){var stopQueue=function(hooks){var stop=hooks.stop;delete hooks.stop;stop(gotoEnd);};if(typeof type!=="string"){gotoEnd=clearQueue;clearQueue=type;type=undefined;}
if(clearQueue&&type!==false){this.queue(type||"fx",[]);}
return this.each(function(){var dequeue=true,index=type!=null&&type+"queueHooks",timers=jQuery.timers,data=jQuery._data(this);if(index){if(data[index]&&data[index].stop){stopQueue(data[index]);}}else{for(index in data){if(data[index]&&data[index].stop&&rrun.test(index)){stopQueue(data[index]);}}}
for(index=timers.length;index--;){if(timers[index].elem===this&&(type==null||timers[index].queue===type)){timers[index].anim.stop(gotoEnd);dequeue=false;timers.splice(index,1);}}
if(dequeue||!gotoEnd){jQuery.dequeue(this,type);}});},finish:function(type){if(type!==false){type=type||"fx";}
return this.each(function(){var index,data=jQuery._data(this),queue=data[type+"queue"],hooks=data[type+"queueHooks"],timers=jQuery.timers,length=queue?queue.length:0;data.finish=true;jQuery.queue(this,type,[]);if(hooks&&hooks.stop){hooks.stop.call(this,true);}
for(index=timers.length;index--;){if(timers[index].elem===this&&timers[index].queue===type){timers[index].anim.stop(true);timers.splice(index,1);}}
for(index=0;index<length;index++){if(queue[index]&&queue[index].finish){queue[index].finish.call(this);}}
delete data.finish;});}});jQuery.each(["toggle","show","hide"],function(i,name){var cssFn=jQuery.fn[name];jQuery.fn[name]=function(speed,easing,callback){return speed==null||typeof speed==="boolean"?cssFn.apply(this,arguments):this.animate(genFx(name,true),speed,easing,callback);};});jQuery.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(name,props){jQuery.fn[name]=function(speed,easing,callback){return this.animate(props,speed,easing,callback);};});jQuery.timers=[];jQuery.fx.tick=function(){var timer,timers=jQuery.timers,i=0;fxNow=jQuery.now();for(;i<timers.length;i++){timer=timers[i];if(!timer()&&timers[i]===timer){timers.splice(i--,1);}}
if(!timers.length){jQuery.fx.stop();}
fxNow=undefined;};jQuery.fx.timer=function(timer){jQuery.timers.push(timer);if(timer()){jQuery.fx.start();}else{jQuery.timers.pop();}};jQuery.fx.interval=13;jQuery.fx.start=function(){if(!timerId){timerId=setInterval(jQuery.fx.tick,jQuery.fx.interval);}};jQuery.fx.stop=function(){clearInterval(timerId);timerId=null;};jQuery.fx.speeds={slow:600,fast:200,_default:400};jQuery.fn.delay=function(time,type){time=jQuery.fx?jQuery.fx.speeds[time]||time:time;type=type||"fx";return this.queue(type,function(next,hooks){var timeout=setTimeout(next,time);hooks.stop=function(){clearTimeout(timeout);};});};(function(){var input,div,select,a,opt;div=document.createElement("div");div.setAttribute("className","t");div.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";a=div.getElementsByTagName("a")[0];select=document.createElement("select");opt=select.appendChild(document.createElement("option"));input=div.getElementsByTagName("input")[0];a.style.cssText="top:1px";support.getSetAttribute=div.className!=="t";support.style=/top/.test(a.getAttribute("style"));support.hrefNormalized=a.getAttribute("href")==="/a";support.checkOn=!!input.value;support.optSelected=opt.selected;support.enctype=!!document.createElement("form").enctype;select.disabled=true;support.optDisabled=!opt.disabled;input=document.createElement("input");input.setAttribute("value","");support.input=input.getAttribute("value")==="";input.value="t";input.setAttribute("type","radio");support.radioValue=input.value==="t";})();var rreturn=/\r/g;jQuery.fn.extend({val:function(value){var hooks,ret,isFunction,elem=this[0];if(!arguments.length){if(elem){hooks=jQuery.valHooks[elem.type]||jQuery.valHooks[elem.nodeName.toLowerCase()];if(hooks&&"get" in hooks&&(ret=hooks.get(elem,"value"))!==undefined){return ret;}
ret=elem.value;return typeof ret==="string"?ret.replace(rreturn,""):ret==null?"":ret;}
return;}
isFunction=jQuery.isFunction(value);return this.each(function(i){var val;if(this.nodeType!==1){return;}
if(isFunction){val=value.call(this,i,jQuery(this).val());}else{val=value;}
if(val==null){val="";}else if(typeof val==="number"){val+="";}else if(jQuery.isArray(val)){val=jQuery.map(val,function(value){return value==null?"":value+"";});}
hooks=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()];if(!hooks||!("set" in hooks)||hooks.set(this,val,"value")===undefined){this.value=val;}});}});jQuery.extend({valHooks:{option:{get:function(elem){var val=jQuery.find.attr(elem,"value");return val!=null?val:jQuery.trim(jQuery.text(elem));}},select:{get:function(elem){var value,option,options=elem.options,index=elem.selectedIndex,one=elem.type==="select-one"||index<0,values=one?null:[],max=one?index+1:options.length,i=index<0?max:one?index:0;for(;i<max;i++){option=options[i];if((option.selected||i===index)&&(support.optDisabled?!option.disabled:option.getAttribute("disabled")===null)&&(!option.parentNode.disabled||!jQuery.nodeName(option.parentNode,"optgroup"))){value=jQuery(option).val();if(one){return value;}
values.push(value);}}
return values;},set:function(elem,value){var optionSet,option,options=elem.options,values=jQuery.makeArray(value),i=options.length;while(i--){option=options[i];if(jQuery.inArray(jQuery.valHooks.option.get(option),values)>=0){try{option.selected=optionSet=true;}catch(_){option.scrollHeight;}}else{option.selected=false;}}
if(!optionSet){elem.selectedIndex=-1;}
return options;}}}});jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={set:function(elem,value){if(jQuery.isArray(value)){return(elem.checked=jQuery.inArray(jQuery(elem).val(),value)>=0);}}};if(!support.checkOn){jQuery.valHooks[this].get=function(elem){return elem.getAttribute("value")===null?"on":elem.value;};}});var nodeHook,boolHook,attrHandle=jQuery.expr.attrHandle,ruseDefault=/^(?:checked|selected)$/i,getSetAttribute=support.getSetAttribute,getSetInput=support.input;jQuery.fn.extend({attr:function(name,value){return access(this,jQuery.attr,name,value,arguments.length>1);},removeAttr:function(name){return this.each(function(){jQuery.removeAttr(this,name);});}});jQuery.extend({attr:function(elem,name,value){var hooks,ret,nType=elem.nodeType;if(!elem||nType===3||nType===8||nType===2){return;}
if(typeof elem.getAttribute===strundefined){return jQuery.prop(elem,name,value);}
if(nType!==1||!jQuery.isXMLDoc(elem)){name=name.toLowerCase();hooks=jQuery.attrHooks[name]||(jQuery.expr.match.bool.test(name)?boolHook:nodeHook);}
if(value!==undefined){if(value===null){jQuery.removeAttr(elem,name);}else if(hooks&&"set" in hooks&&(ret=hooks.set(elem,value,name))!==undefined){return ret;}else{elem.setAttribute(name,value+"");return value;}}else if(hooks&&"get" in hooks&&(ret=hooks.get(elem,name))!==null){return ret;}else{ret=jQuery.find.attr(elem,name);return ret==null?undefined:ret;}},removeAttr:function(elem,value){var name,propName,i=0,attrNames=value&&value.match(rnotwhite);if(attrNames&&elem.nodeType===1){while((name=attrNames[i++])){propName=jQuery.propFix[name]||name;if(jQuery.expr.match.bool.test(name)){if(getSetInput&&getSetAttribute||!ruseDefault.test(name)){elem[propName]=false;}else{elem[jQuery.camelCase("default-"+name)]=elem[propName]=false;}}else{jQuery.attr(elem,name,"");}
elem.removeAttribute(getSetAttribute?name:propName);}}},attrHooks:{type:{set:function(elem,value){if(!support.radioValue&&value==="radio"&&jQuery.nodeName(elem,"input")){var val=elem.value;elem.setAttribute("type",value);if(val){elem.value=val;}
return value;}}}}});boolHook={set:function(elem,value,name){if(value===false){jQuery.removeAttr(elem,name);}else if(getSetInput&&getSetAttribute||!ruseDefault.test(name)){elem.setAttribute(!getSetAttribute&&jQuery.propFix[name]||name,name);}else{elem[jQuery.camelCase("default-"+name)]=elem[name]=true;}
return name;}};jQuery.each(jQuery.expr.match.bool.source.match(/\w+/g),function(i,name){var getter=attrHandle[name]||jQuery.find.attr;attrHandle[name]=getSetInput&&getSetAttribute||!ruseDefault.test(name)?function(elem,name,isXML){var ret,handle;if(!isXML){handle=attrHandle[name];attrHandle[name]=ret;ret=getter(elem,name,isXML)!=null?name.toLowerCase():null;attrHandle[name]=handle;}
return ret;}:function(elem,name,isXML){if(!isXML){return elem[jQuery.camelCase("default-"+name)]?name.toLowerCase():null;}};});if(!getSetInput||!getSetAttribute){jQuery.attrHooks.value={set:function(elem,value,name){if(jQuery.nodeName(elem,"input")){elem.defaultValue=value;}else{return nodeHook&&nodeHook.set(elem,value,name);}}};}
if(!getSetAttribute){nodeHook={set:function(elem,value,name){var ret=elem.getAttributeNode(name);if(!ret){elem.setAttributeNode((ret=elem.ownerDocument.createAttribute(name)));}
ret.value=value+="";if(name==="value"||value===elem.getAttribute(name)){return value;}}};attrHandle.id=attrHandle.name=attrHandle.coords=function(elem,name,isXML){var ret;if(!isXML){return(ret=elem.getAttributeNode(name))&&ret.value!==""?ret.value:null;}};jQuery.valHooks.button={get:function(elem,name){var ret=elem.getAttributeNode(name);if(ret&&ret.specified){return ret.value;}},set:nodeHook.set};jQuery.attrHooks.contenteditable={set:function(elem,value,name){nodeHook.set(elem,value===""?false:value,name);}};jQuery.each(["width","height"],function(i,name){jQuery.attrHooks[name]={set:function(elem,value){if(value===""){elem.setAttribute(name,"auto");return value;}}};});}
if(!support.style){jQuery.attrHooks.style={get:function(elem){return elem.style.cssText||undefined;},set:function(elem,value){return(elem.style.cssText=value+"");}};}
var rfocusable=/^(?:input|select|textarea|button|object)$/i,rclickable=/^(?:a|area)$/i;jQuery.fn.extend({prop:function(name,value){return access(this,jQuery.prop,name,value,arguments.length>1);},removeProp:function(name){name=jQuery.propFix[name]||name;return this.each(function(){try{this[name]=undefined;delete this[name];}catch(e){}});}});jQuery.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(elem,name,value){var ret,hooks,notxml,nType=elem.nodeType;if(!elem||nType===3||nType===8||nType===2){return;}
notxml=nType!==1||!jQuery.isXMLDoc(elem);if(notxml){name=jQuery.propFix[name]||name;hooks=jQuery.propHooks[name];}
if(value!==undefined){return hooks&&"set" in hooks&&(ret=hooks.set(elem,value,name))!==undefined?ret:(elem[name]=value);}else{return hooks&&"get" in hooks&&(ret=hooks.get(elem,name))!==null?ret:elem[name];}},propHooks:{tabIndex:{get:function(elem){var tabindex=jQuery.find.attr(elem,"tabindex");return tabindex?parseInt(tabindex,10):rfocusable.test(elem.nodeName)||rclickable.test(elem.nodeName)&&elem.href?0:-1;}}}});if(!support.hrefNormalized){jQuery.each(["href","src"],function(i,name){jQuery.propHooks[name]={get:function(elem){return elem.getAttribute(name,4);}};});}
if(!support.optSelected){jQuery.propHooks.selected={get:function(elem){var parent=elem.parentNode;if(parent){parent.selectedIndex;if(parent.parentNode){parent.parentNode.selectedIndex;}}
return null;}};}
jQuery.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){jQuery.propFix[this.toLowerCase()]=this;});if(!support.enctype){jQuery.propFix.enctype="encoding";}
var rclass=/[\t\r\n\f]/g;jQuery.fn.extend({addClass:function(value){var classes,elem,cur,clazz,j,finalValue,i=0,len=this.length,proceed=typeof value==="string"&&value;if(jQuery.isFunction(value)){return this.each(function(j){jQuery(this).addClass(value.call(this,j,this.className));});}
if(proceed){classes=(value||"").match(rnotwhite)||[];for(;i<len;i++){elem=this[i];cur=elem.nodeType===1&&(elem.className?(" "+elem.className+" ").replace(rclass," "):" ");if(cur){j=0;while((clazz=classes[j++])){if(cur.indexOf(" "+clazz+" ")<0){cur+=clazz+" ";}}
finalValue=jQuery.trim(cur);if(elem.className!==finalValue){elem.className=finalValue;}}}}
return this;},removeClass:function(value){var classes,elem,cur,clazz,j,finalValue,i=0,len=this.length,proceed=arguments.length===0||typeof value==="string"&&value;if(jQuery.isFunction(value)){return this.each(function(j){jQuery(this).removeClass(value.call(this,j,this.className));});}
if(proceed){classes=(value||"").match(rnotwhite)||[];for(;i<len;i++){elem=this[i];cur=elem.nodeType===1&&(elem.className?(" "+elem.className+" ").replace(rclass," "):"");if(cur){j=0;while((clazz=classes[j++])){while(cur.indexOf(" "+clazz+" ")>=0){cur=cur.replace(" "+clazz+" "," ");}}
finalValue=value?jQuery.trim(cur):"";if(elem.className!==finalValue){elem.className=finalValue;}}}}
return this;},toggleClass:function(value,stateVal){var type=typeof value;if(typeof stateVal==="boolean"&&type==="string"){return stateVal?this.addClass(value):this.removeClass(value);}
if(jQuery.isFunction(value)){return this.each(function(i){jQuery(this).toggleClass(value.call(this,i,this.className,stateVal),stateVal);});}
return this.each(function(){if(type==="string"){var className,i=0,self=jQuery(this),classNames=value.match(rnotwhite)||[];while((className=classNames[i++])){if(self.hasClass(className)){self.removeClass(className);}else{self.addClass(className);}}}else if(type===strundefined||type==="boolean"){if(this.className){jQuery._data(this,"__className__",this.className);}
this.className=this.className||value===false?"":jQuery._data(this,"__className__")||"";}});},hasClass:function(selector){var className=" "+selector+" ",i=0,l=this.length;for(;i<l;i++){if(this[i].nodeType===1&&(" "+this[i].className+" ").replace(rclass," ").indexOf(className)>=0){return true;}}
return false;}});jQuery.each(("blur focus focusin focusout load resize scroll unload click dblclick "+
"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave "+
"change select submit keydown keypress keyup error contextmenu").split(" "),function(i,name){jQuery.fn[name]=function(data,fn){return arguments.length>0?this.on(name,null,data,fn):this.trigger(name);};});jQuery.fn.extend({hover:function(fnOver,fnOut){return this.mouseenter(fnOver).mouseleave(fnOut||fnOver);},bind:function(types,data,fn){return this.on(types,null,data,fn);},unbind:function(types,fn){return this.off(types,null,fn);},delegate:function(selector,types,data,fn){return this.on(types,selector,data,fn);},undelegate:function(selector,types,fn){return arguments.length===1?this.off(selector,"**"):this.off(types,selector||"**",fn);}});var nonce=jQuery.now();var rquery=(/\?/);var rvalidtokens=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;jQuery.parseJSON=function(data){if(window.JSON&&window.JSON.parse){return window.JSON.parse(data+"");}
var requireNonComma,depth=null,str=jQuery.trim(data+"");return str&&!jQuery.trim(str.replace(rvalidtokens,function(token,comma,open,close){if(requireNonComma&&comma){depth=0;}
if(depth===0){return token;}
requireNonComma=open||comma;depth+=!close-!open;return"";}))?(Function("return "+str))():jQuery.error("Invalid JSON: "+data);};jQuery.parseXML=function(data){var xml,tmp;if(!data||typeof data!=="string"){return null;}
try{if(window.DOMParser){tmp=new DOMParser();xml=tmp.parseFromString(data,"text/xml");}else{xml=new ActiveXObject("Microsoft.XMLDOM");xml.async="false";xml.loadXML(data);}}catch(e){xml=undefined;}
if(!xml||!xml.documentElement||xml.getElementsByTagName("parsererror").length){jQuery.error("Invalid XML: "+data);}
return xml;};var
ajaxLocParts,ajaxLocation,rhash=/#.*$/,rts=/([?&])_=[^&]*/,rheaders=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,rlocalProtocol=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,rurl=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,prefilters={},transports={},allTypes="*/".concat("*");try{ajaxLocation=location.href;}catch(e){ajaxLocation=document.createElement("a");ajaxLocation.href="";ajaxLocation=ajaxLocation.href;}
ajaxLocParts=rurl.exec(ajaxLocation.toLowerCase())||[];function addToPrefiltersOrTransports(structure){return function(dataTypeExpression,func){if(typeof dataTypeExpression!=="string"){func=dataTypeExpression;dataTypeExpression="*";}
var dataType,i=0,dataTypes=dataTypeExpression.toLowerCase().match(rnotwhite)||[];if(jQuery.isFunction(func)){while((dataType=dataTypes[i++])){if(dataType.charAt(0)==="+"){dataType=dataType.slice(1)||"*";(structure[dataType]=structure[dataType]||[]).unshift(func);}else{(structure[dataType]=structure[dataType]||[]).push(func);}}}};}
function inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR){var inspected={},seekingTransport=(structure===transports);function inspect(dataType){var selected;inspected[dataType]=true;jQuery.each(structure[dataType]||[],function(_,prefilterOrFactory){var dataTypeOrTransport=prefilterOrFactory(options,originalOptions,jqXHR);if(typeof dataTypeOrTransport==="string"&&!seekingTransport&&!inspected[dataTypeOrTransport]){options.dataTypes.unshift(dataTypeOrTransport);inspect(dataTypeOrTransport);return false;}else if(seekingTransport){return!(selected=dataTypeOrTransport);}});return selected;}
return inspect(options.dataTypes[0])||!inspected["*"]&&inspect("*");}
function ajaxExtend(target,src){var deep,key,flatOptions=jQuery.ajaxSettings.flatOptions||{};for(key in src){if(src[key]!==undefined){(flatOptions[key]?target:(deep||(deep={})))[key]=src[key];}}
if(deep){jQuery.extend(true,target,deep);}
return target;}
function ajaxHandleResponses(s,jqXHR,responses){var firstDataType,ct,finalDataType,type,contents=s.contents,dataTypes=s.dataTypes;while(dataTypes[0]==="*"){dataTypes.shift();if(ct===undefined){ct=s.mimeType||jqXHR.getResponseHeader("Content-Type");}}
if(ct){for(type in contents){if(contents[type]&&contents[type].test(ct)){dataTypes.unshift(type);break;}}}
if(dataTypes[0]in responses){finalDataType=dataTypes[0];}else{for(type in responses){if(!dataTypes[0]||s.converters[type+" "+dataTypes[0]]){finalDataType=type;break;}
if(!firstDataType){firstDataType=type;}}
finalDataType=finalDataType||firstDataType;}
if(finalDataType){if(finalDataType!==dataTypes[0]){dataTypes.unshift(finalDataType);}
return responses[finalDataType];}}
function ajaxConvert(s,response,jqXHR,isSuccess){var conv2,current,conv,tmp,prev,converters={},dataTypes=s.dataTypes.slice();if(dataTypes[1]){for(conv in s.converters){converters[conv.toLowerCase()]=s.converters[conv];}}
current=dataTypes.shift();while(current){if(s.responseFields[current]){jqXHR[s.responseFields[current]]=response;}
if(!prev&&isSuccess&&s.dataFilter){response=s.dataFilter(response,s.dataType);}
prev=current;current=dataTypes.shift();if(current){if(current==="*"){current=prev;}else if(prev!=="*"&&prev!==current){conv=converters[prev+" "+current]||converters["* "+current];if(!conv){for(conv2 in converters){tmp=conv2.split(" ");if(tmp[1]===current){conv=converters[prev+" "+tmp[0]]||converters["* "+tmp[0]];if(conv){if(conv===true){conv=converters[conv2];}else if(converters[conv2]!==true){current=tmp[0];dataTypes.unshift(tmp[1]);}
break;}}}}
if(conv!==true){if(conv&&s["throws"]){response=conv(response);}else{try{response=conv(response);}catch(e){return{state:"parsererror",error:conv?e:"No conversion from "+prev+" to "+current};}}}}}}
return{state:"success",data:response};}
jQuery.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ajaxLocation,type:"GET",isLocal:rlocalProtocol.test(ajaxLocParts[1]),global:true,processData:true,async:true,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":allTypes,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":true,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},flatOptions:{url:true,context:true}},ajaxSetup:function(target,settings){return settings?ajaxExtend(ajaxExtend(target,jQuery.ajaxSettings),settings):ajaxExtend(jQuery.ajaxSettings,target);},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax:function(url,options){if(typeof url==="object"){options=url;url=undefined;}
options=options||{};var
parts,i,cacheURL,responseHeadersString,timeoutTimer,fireGlobals,transport,responseHeaders,s=jQuery.ajaxSetup({},options),callbackContext=s.context||s,globalEventContext=s.context&&(callbackContext.nodeType||callbackContext.jquery)?jQuery(callbackContext):jQuery.event,deferred=jQuery.Deferred(),completeDeferred=jQuery.Callbacks("once memory"),statusCode=s.statusCode||{},requestHeaders={},requestHeadersNames={},state=0,strAbort="canceled",jqXHR={readyState:0,getResponseHeader:function(key){var match;if(state===2){if(!responseHeaders){responseHeaders={};while((match=rheaders.exec(responseHeadersString))){responseHeaders[match[1].toLowerCase()]=match[2];}}
match=responseHeaders[key.toLowerCase()];}
return match==null?null:match;},getAllResponseHeaders:function(){return state===2?responseHeadersString:null;},setRequestHeader:function(name,value){var lname=name.toLowerCase();if(!state){name=requestHeadersNames[lname]=requestHeadersNames[lname]||name;requestHeaders[name]=value;}
return this;},overrideMimeType:function(type){if(!state){s.mimeType=type;}
return this;},statusCode:function(map){var code;if(map){if(state<2){for(code in map){statusCode[code]=[statusCode[code],map[code]];}}else{jqXHR.always(map[jqXHR.status]);}}
return this;},abort:function(statusText){var finalText=statusText||strAbort;if(transport){transport.abort(finalText);}
done(0,finalText);return this;}};deferred.promise(jqXHR).complete=completeDeferred.add;jqXHR.success=jqXHR.done;jqXHR.error=jqXHR.fail;s.url=((url||s.url||ajaxLocation)+"").replace(rhash,"").replace(rprotocol,ajaxLocParts[1]+"//");s.type=options.method||options.type||s.method||s.type;s.dataTypes=jQuery.trim(s.dataType||"*").toLowerCase().match(rnotwhite)||[""];if(s.crossDomain==null){parts=rurl.exec(s.url.toLowerCase());s.crossDomain=!!(parts&&(parts[1]!==ajaxLocParts[1]||parts[2]!==ajaxLocParts[2]||(parts[3]||(parts[1]==="http:"?"80":"443"))!==(ajaxLocParts[3]||(ajaxLocParts[1]==="http:"?"80":"443"))));}
if(s.data&&s.processData&&typeof s.data!=="string"){s.data=jQuery.param(s.data,s.traditional);}
inspectPrefiltersOrTransports(prefilters,s,options,jqXHR);if(state===2){return jqXHR;}
fireGlobals=s.global;if(fireGlobals&&jQuery.active++===0){jQuery.event.trigger("ajaxStart");}
s.type=s.type.toUpperCase();s.hasContent=!rnoContent.test(s.type);cacheURL=s.url;if(!s.hasContent){if(s.data){cacheURL=(s.url+=(rquery.test(cacheURL)?"&":"?")+s.data);delete s.data;}
if(s.cache===false){s.url=rts.test(cacheURL)?cacheURL.replace(rts,"$1_="+nonce++):cacheURL+(rquery.test(cacheURL)?"&":"?")+"_="+nonce++;}}
if(s.ifModified){if(jQuery.lastModified[cacheURL]){jqXHR.setRequestHeader("If-Modified-Since",jQuery.lastModified[cacheURL]);}
if(jQuery.etag[cacheURL]){jqXHR.setRequestHeader("If-None-Match",jQuery.etag[cacheURL]);}}
if(s.data&&s.hasContent&&s.contentType!==false||options.contentType){jqXHR.setRequestHeader("Content-Type",s.contentType);}
jqXHR.setRequestHeader("Accept",s.dataTypes[0]&&s.accepts[s.dataTypes[0]]?s.accepts[s.dataTypes[0]]+(s.dataTypes[0]!=="*"?", "+allTypes+"; q=0.01":""):s.accepts["*"]);for(i in s.headers){jqXHR.setRequestHeader(i,s.headers[i]);}
if(s.beforeSend&&(s.beforeSend.call(callbackContext,jqXHR,s)===false||state===2)){return jqXHR.abort();}
strAbort="abort";for(i in{success:1,error:1,complete:1}){jqXHR[i](s[i]);}
transport=inspectPrefiltersOrTransports(transports,s,options,jqXHR);if(!transport){done(-1,"No Transport");}else{jqXHR.readyState=1;if(fireGlobals){globalEventContext.trigger("ajaxSend",[jqXHR,s]);}
if(s.async&&s.timeout>0){timeoutTimer=setTimeout(function(){jqXHR.abort("timeout");},s.timeout);}
try{state=1;transport.send(requestHeaders,done);}catch(e){if(state<2){done(-1,e);}else{throw e;}}}
function done(status,nativeStatusText,responses,headers){var isSuccess,success,error,response,modified,statusText=nativeStatusText;if(state===2){return;}
state=2;if(timeoutTimer){clearTimeout(timeoutTimer);}
transport=undefined;responseHeadersString=headers||"";jqXHR.readyState=status>0?4:0;isSuccess=status>=200&&status<300||status===304;if(responses){response=ajaxHandleResponses(s,jqXHR,responses);}
response=ajaxConvert(s,response,jqXHR,isSuccess);if(isSuccess){if(s.ifModified){modified=jqXHR.getResponseHeader("Last-Modified");if(modified){jQuery.lastModified[cacheURL]=modified;}
modified=jqXHR.getResponseHeader("etag");if(modified){jQuery.etag[cacheURL]=modified;}}
if(status===204||s.type==="HEAD"){statusText="nocontent";}else if(status===304){statusText="notmodified";}else{statusText=response.state;success=response.data;error=response.error;isSuccess=!error;}}else{error=statusText;if(status||!statusText){statusText="error";if(status<0){status=0;}}}
jqXHR.status=status;jqXHR.statusText=(nativeStatusText||statusText)+"";if(isSuccess){deferred.resolveWith(callbackContext,[success,statusText,jqXHR]);}else{deferred.rejectWith(callbackContext,[jqXHR,statusText,error]);}
jqXHR.statusCode(statusCode);statusCode=undefined;if(fireGlobals){globalEventContext.trigger(isSuccess?"ajaxSuccess":"ajaxError",[jqXHR,s,isSuccess?success:error]);}
completeDeferred.fireWith(callbackContext,[jqXHR,statusText]);if(fireGlobals){globalEventContext.trigger("ajaxComplete",[jqXHR,s]);if(!(--jQuery.active)){jQuery.event.trigger("ajaxStop");}}}
return jqXHR;},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json");},getScript:function(url,callback){return jQuery.get(url,undefined,callback,"script");}});jQuery.each(["get","post"],function(i,method){jQuery[method]=function(url,data,callback,type){if(jQuery.isFunction(data)){type=type||callback;callback=data;data=undefined;}
return jQuery.ajax({url:url,type:method,dataType:type,data:data,success:callback});};});jQuery.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(i,type){jQuery.fn[type]=function(fn){return this.on(type,fn);};});jQuery._evalUrl=function(url){return jQuery.ajax({url:url,type:"GET",dataType:"script",async:false,global:false,"throws":true});};jQuery.fn.extend({wrapAll:function(html){if(jQuery.isFunction(html)){return this.each(function(i){jQuery(this).wrapAll(html.call(this,i));});}
if(this[0]){var wrap=jQuery(html,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){wrap.insertBefore(this[0]);}
wrap.map(function(){var elem=this;while(elem.firstChild&&elem.firstChild.nodeType===1){elem=elem.firstChild;}
return elem;}).append(this);}
return this;},wrapInner:function(html){if(jQuery.isFunction(html)){return this.each(function(i){jQuery(this).wrapInner(html.call(this,i));});}
return this.each(function(){var self=jQuery(this),contents=self.contents();if(contents.length){contents.wrapAll(html);}else{self.append(html);}});},wrap:function(html){var isFunction=jQuery.isFunction(html);return this.each(function(i){jQuery(this).wrapAll(isFunction?html.call(this,i):html);});},unwrap:function(){return this.parent().each(function(){if(!jQuery.nodeName(this,"body")){jQuery(this).replaceWith(this.childNodes);}}).end();}});jQuery.expr.filters.hidden=function(elem){return elem.offsetWidth<=0&&elem.offsetHeight<=0||(!support.reliableHiddenOffsets()&&((elem.style&&elem.style.display)||jQuery.css(elem,"display"))==="none");};jQuery.expr.filters.visible=function(elem){return!jQuery.expr.filters.hidden(elem);};var r20=/%20/g,rbracket=/\[\]$/,rCRLF=/\r?\n/g,rsubmitterTypes=/^(?:submit|button|image|reset|file)$/i,rsubmittable=/^(?:input|select|textarea|keygen)/i;function buildParams(prefix,obj,traditional,add){var name;if(jQuery.isArray(obj)){jQuery.each(obj,function(i,v){if(traditional||rbracket.test(prefix)){add(prefix,v);}else{buildParams(prefix+"["+(typeof v==="object"?i:"")+"]",v,traditional,add);}});}else if(!traditional&&jQuery.type(obj)==="object"){for(name in obj){buildParams(prefix+"["+name+"]",obj[name],traditional,add);}}else{add(prefix,obj);}}
jQuery.param=function(a,traditional){var prefix,s=[],add=function(key,value){value=jQuery.isFunction(value)?value():(value==null?"":value);s[s.length]=encodeURIComponent(key)+"="+encodeURIComponent(value);};if(traditional===undefined){traditional=jQuery.ajaxSettings&&jQuery.ajaxSettings.traditional;}
if(jQuery.isArray(a)||(a.jquery&&!jQuery.isPlainObject(a))){jQuery.each(a,function(){add(this.name,this.value);});}else{for(prefix in a){buildParams(prefix,a[prefix],traditional,add);}}
return s.join("&").replace(r20,"+");};jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray());},serializeArray:function(){return this.map(function(){var elements=jQuery.prop(this,"elements");return elements?jQuery.makeArray(elements):this;})
.filter(function(){var type=this.type;return this.name&&!jQuery(this).is(":disabled")&&rsubmittable.test(this.nodeName)&&!rsubmitterTypes.test(type)&&(this.checked||!rcheckableType.test(type));})
.map(function(i,elem){var val=jQuery(this).val();return val==null?null:jQuery.isArray(val)?jQuery.map(val,function(val){return{name:elem.name,value:val.replace(rCRLF,"\r\n")};}):{name:elem.name,value:val.replace(rCRLF,"\r\n")};}).get();}});jQuery.ajaxSettings.xhr=window.ActiveXObject!==undefined?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&createStandardXHR()||createActiveXHR();}:createStandardXHR;var xhrId=0,xhrCallbacks={},xhrSupported=jQuery.ajaxSettings.xhr();if(window.ActiveXObject){jQuery(window).on("unload",function(){for(var key in xhrCallbacks){xhrCallbacks[key](undefined,true);}});}
support.cors=!!xhrSupported&&("withCredentials" in xhrSupported);xhrSupported=support.ajax=!!xhrSupported;if(xhrSupported){jQuery.ajaxTransport(function(options){if(!options.crossDomain||support.cors){var callback;return{send:function(headers,complete){var i,xhr=options.xhr(),id=++xhrId;xhr.open(options.type,options.url,options.async,options.username,options.password);if(options.xhrFields){for(i in options.xhrFields){xhr[i]=options.xhrFields[i];}}
if(options.mimeType&&xhr.overrideMimeType){xhr.overrideMimeType(options.mimeType);}
if(!options.crossDomain&&!headers["X-Requested-With"]){headers["X-Requested-With"]="XMLHttpRequest";}
for(i in headers){if(headers[i]!==undefined){xhr.setRequestHeader(i,headers[i]+"");}}
xhr.send((options.hasContent&&options.data)||null);callback=function(_,isAbort){var status,statusText,responses;if(callback&&(isAbort||xhr.readyState===4)){delete xhrCallbacks[id];callback=undefined;xhr.onreadystatechange=jQuery.noop;if(isAbort){if(xhr.readyState!==4){xhr.abort();}}else{responses={};status=xhr.status;if(typeof xhr.responseText==="string"){responses.text=xhr.responseText;}
try{statusText=xhr.statusText;}catch(e){statusText="";}
if(!status&&options.isLocal&&!options.crossDomain){status=responses.text?200:404;}else if(status===1223){status=204;}}}
if(responses){complete(status,statusText,responses,xhr.getAllResponseHeaders());}};if(!options.async){callback();}else if(xhr.readyState===4){setTimeout(callback);}else{xhr.onreadystatechange=xhrCallbacks[id]=callback;}},abort:function(){if(callback){callback(undefined,true);}}};}});}
function createStandardXHR(){try{return new window.XMLHttpRequest();}catch(e){}}
function createActiveXHR(){try{return new window.ActiveXObject("Microsoft.XMLHTTP");}catch(e){}}
jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(text){jQuery.globalEval(text);return text;}}});jQuery.ajaxPrefilter("script",function(s){if(s.cache===undefined){s.cache=false;}
if(s.crossDomain){s.type="GET";s.global=false;}});jQuery.ajaxTransport("script",function(s){if(s.crossDomain){var script,head=document.head||jQuery("head")[0]||document.documentElement;return{send:function(_,callback){script=document.createElement("script");script.async=true;if(s.scriptCharset){script.charset=s.scriptCharset;}
script.src=s.url;script.onload=script.onreadystatechange=function(_,isAbort){if(isAbort||!script.readyState||/loaded|complete/.test(script.readyState)){script.onload=script.onreadystatechange=null;if(script.parentNode){script.parentNode.removeChild(script);}
script=null;if(!isAbort){callback(200,"success");}}};head.insertBefore(script,head.firstChild);},abort:function(){if(script){script.onload(undefined,true);}}};}});var oldCallbacks=[],rjsonp=/(=)\?(?=&|$)|\?\?/;jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var callback=oldCallbacks.pop()||(jQuery.expando+"_"+(nonce++));this[callback]=true;return callback;}});jQuery.ajaxPrefilter("json jsonp",function(s,originalSettings,jqXHR){var callbackName,overwritten,responseContainer,jsonProp=s.jsonp!==false&&(rjsonp.test(s.url)?"url":typeof s.data==="string"&&!(s.contentType||"").indexOf("application/x-www-form-urlencoded")&&rjsonp.test(s.data)&&"data");if(jsonProp||s.dataTypes[0]==="jsonp"){callbackName=s.jsonpCallback=jQuery.isFunction(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback;if(jsonProp){s[jsonProp]=s[jsonProp].replace(rjsonp,"$1"+callbackName);}else if(s.jsonp!==false){s.url+=(rquery.test(s.url)?"&":"?")+s.jsonp+"="+callbackName;}
s.converters["script json"]=function(){if(!responseContainer){jQuery.error(callbackName+" was not called");}
return responseContainer[0];};s.dataTypes[0]="json";overwritten=window[callbackName];window[callbackName]=function(){responseContainer=arguments;};jqXHR.always(function(){window[callbackName]=overwritten;if(s[callbackName]){s.jsonpCallback=originalSettings.jsonpCallback;oldCallbacks.push(callbackName);}
if(responseContainer&&jQuery.isFunction(overwritten)){overwritten(responseContainer[0]);}
responseContainer=overwritten=undefined;});return"script";}});jQuery.parseHTML=function(data,context,keepScripts){if(!data||typeof data!=="string"){return null;}
if(typeof context==="boolean"){keepScripts=context;context=false;}
context=context||document;var parsed=rsingleTag.exec(data),scripts=!keepScripts&&[];if(parsed){return[context.createElement(parsed[1])];}
parsed=jQuery.buildFragment([data],context,scripts);if(scripts&&scripts.length){jQuery(scripts).remove();}
return jQuery.merge([],parsed.childNodes);};var _load=jQuery.fn.load;jQuery.fn.load=function(url,params,callback){if(typeof url!=="string"&&_load){return _load.apply(this,arguments);}
var selector,response,type,self=this,off=url.indexOf(" ");if(off>=0){selector=jQuery.trim(url.slice(off,url.length));url=url.slice(0,off);}
if(jQuery.isFunction(params)){callback=params;params=undefined;}else if(params&&typeof params==="object"){type="POST";}
if(self.length>0){jQuery.ajax({url:url,type:type,dataType:"html",data:params}).done(function(responseText){response=arguments;self.html(selector?jQuery("<div>").append(jQuery.parseHTML(responseText)).find(selector):responseText);}).complete(callback&&function(jqXHR,status){self.each(callback,response||[jqXHR.responseText,status,jqXHR]);});}
return this;};jQuery.expr.filters.animated=function(elem){return jQuery.grep(jQuery.timers,function(fn){return elem===fn.elem;}).length;};var docElem=window.document.documentElement;function getWindow(elem){return jQuery.isWindow(elem)?elem:elem.nodeType===9?elem.defaultView||elem.parentWindow:false;}
jQuery.offset={setOffset:function(elem,options,i){var curPosition,curLeft,curCSSTop,curTop,curOffset,curCSSLeft,calculatePosition,position=jQuery.css(elem,"position"),curElem=jQuery(elem),props={};if(position==="static"){elem.style.position="relative";}
curOffset=curElem.offset();curCSSTop=jQuery.css(elem,"top");curCSSLeft=jQuery.css(elem,"left");calculatePosition=(position==="absolute"||position==="fixed")&&jQuery.inArray("auto",[curCSSTop,curCSSLeft])>-1;if(calculatePosition){curPosition=curElem.position();curTop=curPosition.top;curLeft=curPosition.left;}else{curTop=parseFloat(curCSSTop)||0;curLeft=parseFloat(curCSSLeft)||0;}
if(jQuery.isFunction(options)){options=options.call(elem,i,curOffset);}
if(options.top!=null){props.top=(options.top-curOffset.top)+curTop;}
if(options.left!=null){props.left=(options.left-curOffset.left)+curLeft;}
if("using" in options){options.using.call(elem,props);}else{curElem.css(props);}}};jQuery.fn.extend({offset:function(options){if(arguments.length){return options===undefined?this:this.each(function(i){jQuery.offset.setOffset(this,options,i);});}
var docElem,win,box={top:0,left:0},elem=this[0],doc=elem&&elem.ownerDocument;if(!doc){return;}
docElem=doc.documentElement;if(!jQuery.contains(docElem,elem)){return box;}
if(typeof elem.getBoundingClientRect!==strundefined){box=elem.getBoundingClientRect();}
win=getWindow(doc);return{top:box.top+(win.pageYOffset||docElem.scrollTop)-(docElem.clientTop||0),left:box.left+(win.pageXOffset||docElem.scrollLeft)-(docElem.clientLeft||0)};},position:function(){if(!this[0]){return;}
var offsetParent,offset,parentOffset={top:0,left:0},elem=this[0];if(jQuery.css(elem,"position")==="fixed"){offset=elem.getBoundingClientRect();}else{offsetParent=this.offsetParent();offset=this.offset();if(!jQuery.nodeName(offsetParent[0],"html")){parentOffset=offsetParent.offset();}
parentOffset.top+=jQuery.css(offsetParent[0],"borderTopWidth",true);parentOffset.left+=jQuery.css(offsetParent[0],"borderLeftWidth",true);}
return{top:offset.top-parentOffset.top-jQuery.css(elem,"marginTop",true),left:offset.left-parentOffset.left-jQuery.css(elem,"marginLeft",true)};},offsetParent:function(){return this.map(function(){var offsetParent=this.offsetParent||docElem;while(offsetParent&&(!jQuery.nodeName(offsetParent,"html")&&jQuery.css(offsetParent,"position")==="static")){offsetParent=offsetParent.offsetParent;}
return offsetParent||docElem;});}});jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(method,prop){var top=/Y/.test(prop);jQuery.fn[method]=function(val){return access(this,function(elem,method,val){var win=getWindow(elem);if(val===undefined){return win?(prop in win)?win[prop]:win.document.documentElement[method]:elem[method];}
if(win){win.scrollTo(!top?val:jQuery(win).scrollLeft(),top?val:jQuery(win).scrollTop());}else{elem[method]=val;}},method,val,arguments.length,null);};});jQuery.each(["top","left"],function(i,prop){jQuery.cssHooks[prop]=addGetHookIf(support.pixelPosition,function(elem,computed){if(computed){computed=curCSS(elem,prop);return rnumnonpx.test(computed)?jQuery(elem).position()[prop]+"px":computed;}});});jQuery.each({Height:"height",Width:"width"},function(name,type){jQuery.each({padding:"inner"+name,content:type,"":"outer"+name},function(defaultExtra,funcName){jQuery.fn[funcName]=function(margin,value){var chainable=arguments.length&&(defaultExtra||typeof margin!=="boolean"),extra=defaultExtra||(margin===true||value===true?"margin":"border");return access(this,function(elem,type,value){var doc;if(jQuery.isWindow(elem)){return elem.document.documentElement["client"+name];}
if(elem.nodeType===9){doc=elem.documentElement;return Math.max(elem.body["scroll"+name],doc["scroll"+name],elem.body["offset"+name],doc["offset"+name],doc["client"+name]);}
return value===undefined?jQuery.css(elem,type,extra):jQuery.style(elem,type,value,extra);},type,chainable?margin:undefined,chainable,null);};});});jQuery.fn.size=function(){return this.length;};jQuery.fn.andSelf=jQuery.fn.addBack;if(typeof define==="function"&&define.amd){define("jquery",[],function(){return jQuery;});}
var
_jQuery=window.jQuery,_$=window.$;jQuery.noConflict=function(deep){if(window.$===jQuery){window.$=_$;}
if(deep&&window.jQuery===jQuery){window.jQuery=_jQuery;}
return jQuery;};if(typeof noGlobal===strundefined){window.jQuery=window.$=jQuery;}
return jQuery;}));// Copyright (c) 2010-2012, Joe Walnes
// The above copyright notice and this permission notice shall be included in
// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
function ReconnectingWebSocket(args){var self=this;var ping_interval=args.ping_interval||20000;var forced_close=false;var reconnecting=false;var connect_tid,ws;this.buffer=[]
this.connect_timeout=args.timeout||10000;this.debug=args.debug||location.href.indexOf('ReconnectingWebSocketDebugAll=1')>0;this.ping_protocol=args.ping_protocol||[];this.protocols=args.protocols||[];this.readyState=WebSocket.CLOSED;this.reconnect_interval=args.reconnect_interval||1000;this.url=args.url;this.URL=args.url;function connect(){readyState('CONNECTING','connect');emit('onconnecting',reconnecting);forced_close=false;ws=new WebSocket(self.url,self.protocols);if(!connect_tid){connect_tid=setTimeout(function(){connect_tid=0;forced_close=true;emit('ontimeout');},self.connect_timeout);}
ws.onopen=function(event){clearTimeout(connect_tid);if(self.ping_protocol[0])self.waiting_for_pong=false;event.reconnected=reconnecting;reconnecting=true;readyState('OPEN','onopen');emit('onopen',event);while(self.buffer.length)self.send(self.buffer.shift());};ws.onclose=function(event){delete self.waiting_for_pong;if(forced_close){readyState('CLOSED','onclose');emit('onclose',event);}else{readyState('CONNECTING','onclose');setTimeout(function(){if(!forced_close)connect();},self.reconnect_interval);}};ws.onmessage=function(event){if(self.ping_protocol[1]&&event.data==self.ping_protocol[1]){if(self.debug)console.debug('ReconnectingWebSocket','pong',event.data);self.waiting_for_pong=false;emit('onpong',event);}
else{emit('onmessage',event);}};ws.onerror=function(event){emit('onerror',event);};}
this.send=function(data){if(ws){try{var sent=ws.send(data);if(sent===false)throw'Could not to send data to websocket.';if(ws.readyState===WebSocket.CLOSED)throw'WebSocket readyState is CLOSED';if(self.debug)console.debug('ReconnectingWebSocket','send',data);}catch(e){self.buffer.push(data);console.error('ReconnectingWebSocket','send',data,'fail',e);if(self.readyState!=WebSocket.CONNECTING&&self.readyState!=WebSocket.OPEN)connect();};}
else{self.buffer.push(data);connect();}};this.close=function(){console.debug('ReconnectingWebSocket','close');reconnecting=false;if(ws.readyState!=WebSocket.CLOSED){forced_close=true;ws.close();}
delete self.waiting_for_pong;};var readyState=function(state,from){console.debug('ReconnectingWebSocket','readyState',state,from);self.readyState=WebSocket[state];}
var emit=function(name,args){if(self.debug)console.debug('ReconnectingWebSocket','emit',name,args);if(self[name])self[name].call(self,args);};setInterval(function(){if(typeof self.waiting_for_pong=='undefined')return;if(self.waiting_for_pong)return;self.send(self.ping_protocol[0]);self.waiting_for_pong=true;},ping_interval);}/*
 * jQuery Hotkeys Plugin
 * Copyright 2010, John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Based upon the plugin by Tzury Bar Yochay:
 * http://github.com/tzuryby/hotkeys
 *
 * Original idea by:
 * Binny V A, http://www.openjs.com/scripts/events/keyboard_shortcuts/
*/
(function(jQuery){jQuery.hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",191:"/",224:"meta"},shiftNums:{"`":"~","1":"!","2":"@","3":"#","4":"$","5":"%","6":"^","7":"&","8":"*","9":"(","0":")","-":"_","=":"+",";":": ","'":"\"",",":"<",".":">","/":"?","\\":"|"}};function keyHandler(handleObj){if(typeof handleObj.data!=="string"){return;}
var origHandler=handleObj.handler,keys=handleObj.data.toLowerCase().split(" ");handleObj.handler=function(event){if(this!==event.target&&(/textarea|select/i.test(event.target.nodeName)||event.target.type==="text")){return;}
var special=event.type!=="keypress"&&jQuery.hotkeys.specialKeys[event.which],character=String.fromCharCode(event.which).toLowerCase(),key,modif="",possible={};if(event.altKey&&special!=="alt"){modif+="alt+";}
if(event.ctrlKey&&special!=="ctrl"){modif+="ctrl+";}
if(event.metaKey&&!event.ctrlKey&&special!=="meta"){modif+="meta+";}
if(event.shiftKey&&special!=="shift"){modif+="shift+";}
if(special){possible[modif+special]=true;}else{possible[modif+character]=true;possible[modif+jQuery.hotkeys.shiftNums[character]]=true;if(modif==="shift+"){possible[jQuery.hotkeys.shiftNums[character]]=true;}}
for(var i=0,l=keys.length;i<l;i++){if(possible[keys[i]]){return origHandler.apply(this,arguments);}}};}
jQuery.each(["keydown","keyup","keypress"],function(){jQuery.event.special[this]={add:keyHandler};});})(jQuery);/*
 * jquery.finger
 * https://github.com/ngryman/jquery.finger
 *
 * Copyright (c) 2013 ngryman
 * Licensed under the MIT license.
 */
(function($,ua){var isChrome=/chrome/i.exec(ua),isAndroid=/android/i.exec(ua),hasTouch='ontouchstart' in window&&!(isChrome&&!isAndroid),startEvent=hasTouch?'touchstart':'mousedown',stopEvent=hasTouch?'touchend touchcancel':'mouseup mouseleave',moveEvent=hasTouch?'touchmove':'mousemove',namespace='finger',rootEl=$('html')[0],start={},move={},motion,cancel,safeguard,timeout,prevEl,prevTime,Finger=$.Finger={pressDuration:300,doubleTapInterval:300,flickDuration:150,motionThreshold:5};function page(coord,event){return(hasTouch?event.originalEvent.touches[0]:event)['page'+coord.toUpperCase()];}
function trigger(event,evtName,remove){var fingerEvent=$.Event(evtName,move);$.event.trigger(fingerEvent,{originalEvent:event},event.target);if(fingerEvent.isDefaultPrevented())event.preventDefault();if(remove){$.event.remove(rootEl,moveEvent+'.'+namespace,moveHandler);$.event.remove(rootEl,stopEvent+'.'+namespace,stopHandler);}}
function startHandler(event){var timeStamp=event.timeStamp||+new Date();if(safeguard==timeStamp)return;safeguard=timeStamp;start.x=move.x=page('x',event);start.y=move.y=page('y',event);start.time=timeStamp;start.target=event.target;move.orientation=null;move.end=false;motion=false;cancel=false;timeout=setTimeout(function(){cancel=true;trigger(event,'press');},$.Finger.pressDuration);$.event.add(rootEl,moveEvent+'.'+namespace,moveHandler);$.event.add(rootEl,stopEvent+'.'+namespace,stopHandler);if(Finger.preventDefault)event.preventDefault();}
function moveHandler(event){move.x=page('x',event);move.y=page('y',event);move.dx=move.x-start.x;move.dy=move.y-start.y;move.adx=Math.abs(move.dx);move.ady=Math.abs(move.dy);motion=move.adx>Finger.motionThreshold||move.ady>Finger.motionThreshold;if(!motion)return;clearTimeout(timeout);if(!move.orientation){if(move.adx>move.ady){move.orientation='horizontal';move.direction=move.dx>0?+1:-1;}
else{move.orientation='vertical';move.direction=move.dy>0?+1:-1;}}
if(event.target!==start.target){event.target=start.target;stopHandler.call(this,$.Event(stopEvent+'.'+namespace,event));return;}
trigger(event,'drag');}
function stopHandler(event){var timeStamp=event.timeStamp||+new Date(),dt=timeStamp-start.time,evtName;clearTimeout(timeout);if(event.target!==start.target)return;if(!motion&&!cancel){var doubleTap=prevEl===event.target&&timeStamp-prevTime<Finger.doubleTapInterval;evtName=doubleTap?'doubletap':'tap';prevEl=doubleTap?null:start.target;prevTime=timeStamp;}
else{if(dt<Finger.flickDuration)trigger(event,'flick');move.end=true;evtName='drag';}
trigger(event,evtName,true);}
$.event.add(rootEl,startEvent+'.'+namespace,startHandler);})(jQuery,navigator.userAgent);// copyright chris wanstrath
(function($){function fnPjax(selector,container,options){var context=this
return this.on('click.pjax',selector,function(event){var opts=$.extend({},optionsFor(container,options))
if(!opts.container)
opts.container=$(this).attr('data-pjax')||context
handleClick(event,opts)})}
function handleClick(event,container,options){options=optionsFor(container,options)
var link=event.currentTarget
if(link.tagName.toUpperCase()!=='A')
throw"$.fn.pjax or $.pjax.click requires an anchor element"
if(event.which>1||event.metaKey||event.ctrlKey||event.shiftKey||event.altKey)
return
if(location.protocol!==link.protocol||location.hostname!==link.hostname)
return
if(link.hash&&link.href.replace(link.hash,'')===location.href.replace(location.hash,''))
return
if(link.href===location.href+'#')
return
if(event.isDefaultPrevented())
return
var defaults={url:link.href,container:$(link).attr('data-pjax'),target:link}
var opts=$.extend({},defaults,options)
var clickEvent=$.Event('pjax:click')
$(link).trigger(clickEvent,[opts])
if(!clickEvent.isDefaultPrevented()){pjax(opts)
event.preventDefault()
$(link).trigger('pjax:clicked',[opts])}}
function handleSubmit(event,container,options){options=optionsFor(container,options)
var form=event.currentTarget
if(form.tagName.toUpperCase()!=='FORM')
throw"$.pjax.submit requires a form element"
var defaults={type:form.method.toUpperCase(),url:form.action,data:$(form).serializeArray(),container:$(form).attr('data-pjax'),target:form}
pjax($.extend({},defaults,options))
event.preventDefault()}
function pjax(options){options=$.extend(true,{},$.ajaxSettings,pjax.defaults,options)
if($.isFunction(options.url)){options.url=options.url()}
var target=options.target
var hash=parseURL(options.url).hash
var context=options.context=findContainerFor(options.container)
if(!options.data)options.data={}
options.data._pjax=context.selector
function fire(type,args,props){if(!props)props={}
props.relatedTarget=target
var event=$.Event(type,props)
context.trigger(event,args)
return!event.isDefaultPrevented()}
var timeoutTimer
options.beforeSend=function(xhr,settings){if(settings.type!=='GET'){settings.timeout=0}
xhr.setRequestHeader('X-PJAX','true')
xhr.setRequestHeader('X-PJAX-Container',context.selector)
if(!fire('pjax:beforeSend',[xhr,settings]))
return false
if(settings.timeout>0){timeoutTimer=setTimeout(function(){if(fire('pjax:timeout',[xhr,options]))
xhr.abort('timeout')},settings.timeout)
settings.timeout=0}
options.requestUrl=parseURL(settings.url).href}
options.complete=function(xhr,textStatus){if(timeoutTimer)
clearTimeout(timeoutTimer)
fire('pjax:complete',[xhr,textStatus,options])
fire('pjax:end',[xhr,options])}
options.error=function(xhr,textStatus,errorThrown){var container=extractContainer("",xhr,options)
var allowed=fire('pjax:error',[xhr,textStatus,errorThrown,options])
if(options.type=='GET'&&textStatus!=='abort'&&allowed){locationReplace(container.url)}}
options.success=function(data,status,xhr){var previousState=pjax.state;var currentVersion=(typeof $.pjax.defaults.version==='function')?$.pjax.defaults.version():$.pjax.defaults.version
var latestVersion=xhr.getResponseHeader('X-PJAX-Version')
var container=extractContainer(data,xhr,options)
if(currentVersion&&latestVersion&&currentVersion!==latestVersion){locationReplace(container.url)
return}
if(!container.contents){locationReplace(container.url)
return}
pjax.state={id:options.id||uniqueId(),url:container.url,title:container.title,container:context.selector,fragment:options.fragment,timeout:options.timeout}
if(options.push||options.replace){window.history.replaceState(pjax.state,container.title,container.url)}
try{document.activeElement.blur()}catch(e){}
if(container.title)document.title=container.title
fire('pjax:beforeReplace',[container.contents,options],{state:pjax.state,previousState:previousState})
context.html(container.contents)
var autofocusEl=context.find('input[autofocus], textarea[autofocus]').last()[0]
if(autofocusEl&&document.activeElement!==autofocusEl){autofocusEl.focus();}
executeScriptTags(container.scripts)
if(typeof options.scrollTo==='number')
$(window).scrollTop(options.scrollTo)
if(hash!==''){var url=parseURL(container.url)
url.hash=hash
pjax.state.url=url.href
window.history.replaceState(pjax.state,container.title,url.href)
var target=$(url.hash)
if(target.length)$(window).scrollTop(target.offset().top)}
fire('pjax:success',[data,status,xhr,options])}
if(!pjax.state){pjax.state={id:uniqueId(),url:window.location.href,title:document.title,container:context.selector,fragment:options.fragment,timeout:options.timeout}
window.history.replaceState(pjax.state,document.title)}
var xhr=pjax.xhr
if(xhr&&xhr.readyState<4){xhr.onreadystatechange=$.noop
xhr.abort()}
pjax.options=options
var xhr=pjax.xhr=$.ajax(options)
if(xhr.readyState>0){if(options.push&&!options.replace){cachePush(pjax.state.id,context.clone().contents())
window.history.pushState(null,"",stripPjaxParam(options.requestUrl))}
fire('pjax:start',[xhr,options])
fire('pjax:send',[xhr,options])}
return pjax.xhr}
function pjaxReload(container,options){var defaults={url:window.location.href,push:false,replace:true,scrollTo:false}
return pjax($.extend(defaults,optionsFor(container,options)))}
function locationReplace(url){window.history.replaceState(null,"","#")
window.location.replace(url)}
var initialPop=true
var initialURL=window.location.href
var initialState=window.history.state
if(initialState&&initialState.container){pjax.state=initialState}
if('state' in window.history){initialPop=false}
function onPjaxPopstate(event){var previousState=pjax.state;var state=event.state
if(state&&state.container){if(initialPop&&initialURL==state.url)return
if(pjax.state&&pjax.state.id===state.id)return
var container=$(state.container)
if(container.length){var direction,contents=cacheMapping[state.id]
if(pjax.state){direction=pjax.state.id<state.id?'forward':'back'
cachePop(direction,pjax.state.id,container.clone().contents())}
var popstateEvent=$.Event('pjax:popstate',{state:state,direction:direction})
container.trigger(popstateEvent)
var options={id:state.id,url:state.url,container:container,push:false,fragment:state.fragment,timeout:state.timeout,scrollTo:false}
if(contents){container.trigger('pjax:start',[null,options])
pjax.state=state
if(state.title)document.title=state.title
var beforeReplaceEvent=$.Event('pjax:beforeReplace',{state:state,previousState:previousState})
container.trigger(beforeReplaceEvent,[contents,options])
container.html(contents)
container.trigger('pjax:end',[null,options])}else{pjax(options)}
container[0].offsetHeight}else{locationReplace(location.href)}}
initialPop=false}
function fallbackPjax(options){var url=$.isFunction(options.url)?options.url():options.url,method=options.type?options.type.toUpperCase():'GET'
var form=$('<form>',{method:method==='GET'?'GET':'POST',action:url,style:'display:none'})
if(method!=='GET'&&method!=='POST'){form.append($('<input>',{type:'hidden',name:'_method',value:method.toLowerCase()}))}
var data=options.data
if(typeof data==='string'){$.each(data.split('&'),function(index,value){var pair=value.split('=')
form.append($('<input>',{type:'hidden',name:pair[0],value:pair[1]}))})}else if(typeof data==='object'){for(key in data)
form.append($('<input>',{type:'hidden',name:key,value:data[key]}))}
$(document.body).append(form)
form.submit()}
function uniqueId(){return(new Date).getTime()}
function stripPjaxParam(url){return url
.replace(/\?_pjax=[^&]+&?/,'?')
.replace(/_pjax=[^&]+&?/,'')
.replace(/[\?&]$/,'')}
function parseURL(url){var a=document.createElement('a')
a.href=url
return a}
function optionsFor(container,options){if(container&&options)
options.container=container
else if($.isPlainObject(container))
options=container
else
options={container:container}
if(options.container)
options.container=findContainerFor(options.container)
return options}
function findContainerFor(container){container=$(container)
if(!container.length){throw"no pjax container for "+container.selector}else if(container.selector!==''&&container.context===document){return container}else if(container.attr('id')){return $('#'+container.attr('id'))}else{throw"cant get selector for pjax container!"}}
function findAll(elems,selector){return elems.filter(selector).add(elems.find(selector));}
function parseHTML(html){return $.parseHTML(html,document,true)}
function extractContainer(data,xhr,options){var obj={}
obj.url=stripPjaxParam(xhr.getResponseHeader('X-PJAX-URL')||options.requestUrl)
if(/<html/i.test(data)){var $head=$(parseHTML(data.match(/<head[^>]*>([\s\S.]*)<\/head>/i)[0]))
var $body=$(parseHTML(data.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0]))}else{var $head=$body=$(parseHTML(data))}
if($body.length===0)
return obj
obj.title=findAll($head,'title').last().text()
if(options.fragment){if(options.fragment==='body'){var $fragment=$body}else{var $fragment=findAll($body,options.fragment).first()}
if($fragment.length){obj.contents=$fragment.contents()
if(!obj.title)
obj.title=$fragment.attr('title')||$fragment.data('title')}}else if(!/<html/i.test(data)){obj.contents=$body}
if(obj.contents){obj.contents=obj.contents.not(function(){return $(this).is('title')})
obj.contents.find('title').remove()
obj.scripts=findAll(obj.contents,'script[src]').remove()
obj.contents=obj.contents.not(obj.scripts)}
if(obj.title)obj.title=$.trim(obj.title)
return obj}
function executeScriptTags(scripts){if(!scripts)return
var existingScripts=$('script[src]')
scripts.each(function(){var src=this.src
var matchedScripts=existingScripts.filter(function(){return this.src===src})
if(matchedScripts.length)return
var script=document.createElement('script')
script.type=$(this).attr('type')
script.src=$(this).attr('src')
document.head.appendChild(script)})}
var cacheMapping={}
var cacheForwardStack=[]
var cacheBackStack=[]
function cachePush(id,value){cacheMapping[id]=value
cacheBackStack.push(id)
while(cacheForwardStack.length)
delete cacheMapping[cacheForwardStack.shift()]
while(cacheBackStack.length>pjax.defaults.maxCacheLength)
delete cacheMapping[cacheBackStack.shift()]}
function cachePop(direction,id,value){if(!$.pjax.defaults.maxCacheLength){return;}
var pushStack,popStack
cacheMapping[id]=value
if(direction==='forward'){pushStack=cacheBackStack
popStack=cacheForwardStack}else{pushStack=cacheForwardStack
popStack=cacheBackStack}
pushStack.push(id)
if(id=popStack.pop())
delete cacheMapping[id]}
function findVersion(){return $('meta').filter(function(){var name=$(this).attr('http-equiv')
return name&&name.toUpperCase()==='X-PJAX-VERSION'}).attr('content')}
function enable(){$.fn.pjax=fnPjax
$.pjax=pjax
$.pjax.enable=$.noop
$.pjax.disable=disable
$.pjax.click=handleClick
$.pjax.submit=handleSubmit
$.pjax.reload=pjaxReload
$.pjax.defaults={timeout:650,push:true,replace:false,type:'GET',dataType:'html',scrollTo:0,maxCacheLength:20,version:findVersion}
$(window).on('popstate.pjax',onPjaxPopstate)}
function disable(){$.fn.pjax=function(){return this}
$.pjax=fallbackPjax
$.pjax.enable=enable
$.pjax.disable=$.noop
$.pjax.click=$.noop
$.pjax.submit=$.noop
$.pjax.reload=function(){window.location.reload()}
$(window).off('popstate.pjax',onPjaxPopstate)}
if($.inArray('state',$.event.props)<0)
$.event.props.push('state')
$.support.pjax=window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]|WebApps\/.+CFNetwork)/)
$.support.pjax?enable():disable()})(jQuery);;(function($){var original_title=document.title;var close_after=/(iPad|iPhone|iPod|Android)/.test(navigator.userAgent)?60000:5000;var current_title=original_title;var has_focus=true;var focus_tid;$.notify=function(title,body,icon){if(has_focus)return false;if(Notification.permission=='granted'){var args={icon:icon||'',body:body,onclose:function(){clearTimeout(tid);}};var n=new Notification(title,args);var tid=setTimeout(function(){n.close();},close_after);n.onclick=function(x){window.focus();this.cancel();};}
current_title=title;if(focus_tid)clearInterval(focus_tid);if(document.title==current_title||document.title==original_title){document.title=[original_title,current_title].join(' - ');}
else{document.title=current_title;}
return true;};$.notify.itWorks=function(){var n=new Notification('Notifications enabled.',{icon:$.url_for('/images/icon-48.png'),body:'It works!'});setTimeout(function(){n.close();},close_after);};$(document).ready(function(){var $question=$('.notification.question');$question.each(function(){if(Notification.permission==='granted')return false;if(Notification.permission==='denied')return false;$question.find('a.yes').off('click').click(function(){if(Notification.permission==='download')return true;Notification.requestPermission(function(s){if(s)Notification.permission=s;$.notify.itWorks();});$question.hide();return false;});$question.find('a.no').off('click').click(function(){$question.fadeOut('fast');Notification.permission='denied';return false;});$question.show();return false;});$(window)
.on('blur',function(){has_focus=false;})
.on('focus',function(){if(focus_tid)clearInterval(focus_tid);focus_tid=setInterval(function(){document.title=original_title;},3000);has_focus=true;});});})(jQuery);if(window.webkitNotifications){window.Notification=function(title,args){var n=window.webkitNotifications.createNotification(args.icon||'',title,args.body||'');try{if(args.onclose)n.onclose=args.onclose;if(args.onshow)n.ondisplay=args.onshow;}catch(e){if(window.console)console.log('[Notification] '+e);};n.close=function(){this.cancel();if(this.onclose)this.onclose();};n.show();return n;};window.Notification.permission=window.webkitNotifications.checkPermission()?'default':'granted';window.Notification.requestPermission=function(cb){cb=cb||function(){};window.webkitNotifications.requestPermission(function(){window.Notification.permission=window.webkitNotifications.checkPermission()?'denied':'granted';cb(window.Notification.permission);});};}
else if(!window.Notification){window.Notification=function(title,args){this.close=function(){if(this.onclose)this.onclose();};this.show=function(){};};window.Notification.permission=navigator.userAgent.match(/firefox/i)?'download':'denied';window.Notification.requestPermission=function(cb){cb('denied');};}(function($){$.fn.disableOuterScroll=function(){return this.bind('mousewheel DOMMouseScroll',function(e){var scrollTo=null;if(e.type=='mousewheel'){scrollTo=(e.originalEvent.wheelDelta*-1);}
else if(e.type=='DOMMouseScroll'){scrollTo=40*e.originalEvent.detail;}
if(scrollTo){e.preventDefault();$(this).scrollTop(scrollTo+$(this).scrollTop());}});};})(jQuery);;(function($){window.convos=window.convos||{};convos.emit=function(name){var c=convos.on[name];console.log('emit',arguments);if(c)c.fireWith(this,$.makeArray(arguments).slice(1));};convos.on=function(name,cb){if(!convos.on[name])convos.on[name]=$.Callbacks();convos.on[name].add(cb);return cb;};convos.once=function(name,cb){if(!convos.on[name])convos.on[name]=$.Callbacks();var wrapper=function(){convos.on[name].remove(wrapper);cb.call(this,arguments);};convos.on[name].add(wrapper);return cb;};convos.unsubscribe=function(name,cb){if(!convos.on[name])return;convos.on[name].remove(cb);};})(jQuery);;(function($){var showing=false;var $togglers=$();var $main=$();$.fn.hideSidebar=function(){$togglers.filter('.active').trigger('tap');};$(document).ready(function(){$main=$('a[href^="sidebar://form.sidebar"]')
$togglers=$('a[href^="sidebar://"], button[value^="sidebar://"]');$('.sidebar-right').disableOuterScroll();$(window).on('tap',function(e){var $e=$(e.target);if($e.closest('.active').length)return;if($e.closest('.sidebar-right').length)return;$(this).hideSidebar();});$togglers.on('click',function(e){e.preventDefault();});$togglers.on('tap',function(e){var $a=$(this);var $t=$((this.href||this.value).replace(/^sidebar:\/\//,''));if($a.hasClass('active')){$a.removeClass('active');if(!showing)$togglers.filter('.keep-open').addClass('active');if(!$a.hasClass('keep-open'))$t.removeClass('active');if(!$togglers.filter('.active').length&&!navigator.is_touch_device)convos.input.focus();return false;}
showing=true;$togglers.filter('.active').trigger('tap');$t.addClass('active').trigger('show');$a.addClass('active');showing=false;if(!navigator.is_touch_device){$t.find('a, button, input').eq(0).focus();}});$(window).resize();});$(window).on('resize',function(){if($(document).width()<convos.responsiveWidth){if($main.hasClass('keep-open'))$main.removeClass('keep-open').trigger('tap');}
else{if(!$main.hasClass('keep-open'))$main.addClass('keep-open').trigger('tap');}});})(jQuery);;(function($){window.convos=window.convos||{};var socket;var connect=function(){var socketUrl=$('body').attr('data-socket-url');socket=new ReconnectingWebSocket({url:socketUrl,ping_protocol:['PING','PONG']});socket.onmessage=receiveMessage;socket.onpong=enableInput;socket.ontimeout=function(){convos.makeMessage('I am unable to connect to Convos. Maybe you have lost connection to internet or there is a proxy blocking WebSockets? <a href="" class="button">Reconnect</a>').addClass('error').addToMessages();};socket.onclose=function(){convos.input.addClass('disabled');};socket.onopen=function(e){enableInput();convos.current.end_time=$('li.message[data-timestamp]:last').data('timestamp');convos.goForwardInHistory();};convos.send.socket=socket;};var addPendingMessage=function(message,attr){var $pending=$('<li><h3>'+convos.current.nick+'</h3><div class="content">'+message+'</div></li>').attr(attr);$pending.addClass('message pending').data('sender',convos.current.nick).addToMessages();setTimeout(function(){messageFailed(attr.id);},10000);if(convos.at_bottom)$(window).scrollTo('bottom');};var enableInput=function(){idleTimer();convos.input.removeClass('disabled');};var idleTimer=function(){if(idleTimer.t)clearTimeout(idleTimer.t);if(!convos.current.target)convos.goForwardInHistory();idleTimer.t=setTimeout(function(){convos.emit('idle')},1500);};var messageFailed=function(id,description){var $pending=$('#'+id);var $actions=$('<span class="actions"><button class="confirm">Resend</button> <button class="confirm">&times;</button></span>');if(!$pending.hasClass('pending'))return;$actions.find('button:first').on('click',function(){socket.buffer=[];convos.send($(this).parents('li').find('.content').text());$(this).closest('li').remove();});$actions.find('button:last').on('click',function(){$(this).closest('li').remove();});$pending.addClass('error').removeClass('hidden pending');$pending.prepend($actions);};var receiveHighlightMessage=function($message){var body=$message.find('.content').text()||'...';var icon=$message.find('img').attr('src')||$.url_for('/images/icon-48.png');var sender=$message.data('sender');var what=/^[#&]/.test($message.data('target'))?'mentioned you in '+$message.data('target'):'sent you a message';var notified=$.notify([sender,what].join(' '),body,icon);$.get($.url_for('/chat/notifications'),$.noCache({nid:!notified&&$message.data('to_current')?0:''}),function(data){var $data=$(data);$('nav a.notifications b').text($data.find('ul').data('notifications')||'');$('.notification-list ul').html($data.find('li'));});};var receiveMessage=function(e){var $message=$(e.data);var event_name=$message.attr('data-event')||'message';var event_args=$message.attr('data-args');idleTimer();toCurrent($message);if($message.hasClass('error')){messageFailed($message.attr('id'));}
else{$('#'+$message.attr('id')).remove();}
if($message.hasClass('highlight'))receiveHighlightMessage($message);convos.emit.apply(this,[event_name].concat(event_args?$.parseJSON($('<textarea />').html(event_args).text()):[$message]));if($message.data('to_current')){if($message.attr('data-state'))convos.current.state=$message.attr('data-state');$message.addToMessages();}
else if($message.hasClass('message')){receiveOtherMessage($message);}
if(convos.at_bottom)$(window).scrollTo('bottom');};var receiveOtherMessage=function($message){var url=$.url_for($message.attr('data-network'),encodeURIComponent($message.attr('data-target')));var $a=$('nav ul.conversations').find('a[href="'+url+'"]');var $unread=$a.children('b');var n=parseInt($unread.html()||0)+1;$unread.text(n>99?'99+':n);if($message.hasClass('highlight'))$a.addClass('mention');};var toCurrent=function($e){if($e.data('network')==convos.current.network&&$e.data('target')==convos.current.target)$e.data('to_current',true);if($e.data('network')==convos.current.network&&$e.data('target')==='')$e.data('to_current',true);if($e.data('network')===''&&$e.data('target')==='')$e.data('to_current',true);};convos.send=function(message,attr){if(!socket)connect();if(message.length===0)return socket.send('PING');attr=attr||{};attr.class=message.match('^\/')?'hidden':'';attr.id=window.guid();$.each(['network','state','target'],function(i){attr["data-"+this]=attr["data-"+this]||convos.current[this];});var encodedMsg=message.replace(/[\u00A0-\u9999<>\&]/gim,function(i){return'&#'+i.charCodeAt(0)+';';});socket.send($('<div/>').attr(attr).text(encodedMsg).prop('outerHTML'));if(attr['data-history'])convos.addInputHistory(message);if(!message.match(/^\//))addPendingMessage(message,attr);};})(jQuery);;(function($){window.convos=window.convos||{}
var history;var commands=['/help','/join #','/query ','/msg ','/me ','/say ','/nick ','/close','/part ','/names ','/list','/mode ','/topic ','/reconnect','/whois ','/list'];var autocompleter=function(e){if(this.disabled)return;e.preventDefault();if(!this.suggestions)makeSuggestions.call(this,e);this.suggestions.i=e.shiftKey?this.suggestions.i-1:this.suggestions.i+1;if(this.suggestions.i<0)this.suggestions.i=this.suggestions.length-1;if(this.suggestions.i==this.suggestions.length)this.suggestions.i=0;this.value=this.before_suggestion+this.suggestions[this.suggestions.i];};var makeSuggestions=function(e){var val=this.value;var offset=val.lastIndexOf(' ')+1;var after=val.substr(offset);var re=new RegExp('^'+RegExp.escape(after),'i');var dup={};var suggestions=[];var matcher=function(v,force){if(dup[v])return;if(v==convos.current.nick&&!force)return;if(offset&&v.indexOf('/')===0)return;if(!re.test(v))return;dup[v]=suggestions.push(offset?v+' ':v.indexOf('/')===0?v:v+': ');};$.each($('.messages h3 > a').get().reverse(),function(){var target=$(this).text();if(convos.current.nicks[target]||offset>1)matcher(target);});$.each(convos.current.nicks,function(k,v){matcher(""+k);});$('nav.bar a.conversation span').each(function(){var target=$(this).text();if(convos.isChannel(target)||offset>1)matcher(target);});$.each(commands,function(){matcher(""+this);});matcher(convos.current.nick,true);suggestions.push(after);console.log('makeSuggestions',e);this.before_suggestion=val.substr(0,offset);this.suggestions=suggestions;this.suggestions.i=-1;};history=[];history.i=0;convos.addInputHistory=function(cmd){history=history.concat(cmd).unique();history.i=history.length;};$(document).ready(function(){convos.input=$('form.input input[autocomplete="off"]');if(!convos.input.length)return;$.get($.url_for('/chat/command-history'),$.noCache({}),function(data){convos.addInputHistory(data.unique());});convos.input.removeAttr('disabled');convos.input.on('doubletap',autocompleter);convos.input.bind('keydown',function(e){if(String.fromCharCode(e.which).match(/^[ \b\w\u0400-\u04FF]$/))this.suggestions=false;if(e.which==9)autocompleter.call(this,e);});convos.input.bind('keydown','up',function(e){e.preventDefault();if(history.i==0)return;if(history.i==history.length)this.current_input_str=convos.input.val();convos.input.val(history[--history.i]);});convos.input.bind('keydown','down',function(e){e.preventDefault();if(history.i===history.length){if(convos.input.val().length){history[history.i++]=convos.input.val();convos.input.val('');}
return;}
if(++history.i===history.length){return convos.input.val(this.current_input_str);}
convos.input.val(history[history.i]);});convos.input.closest('form').on('submit',function(e){e.preventDefault();convos.send(convos.input.val(),{'data-history':1});convos.input.val('');});});})(jQuery);;(function($){window.convos=window.convos||{};convos.on('conversation-add',function($message){var url=$.url_for($message.attr('data-network'),encodeURIComponent($message.attr('data-target')));$.pjax({url:url,container:'div.messages',fragment:'div.messages'});});convos.on('conversation-remove',function($message){var url=$.url_for($message.attr('data-network'),encodeURIComponent($message.attr('data-target')));var active=false;$('nav ul.conversations a').slice(1).each(function(i){if(this.href.indexOf(url)==-1)return;if(!active)active=$(this).hasClass('active');$(this).remove();});if(active){$('nav ul.conversations a').slice(0,2).get().reverse()[0].click();}});$(document).ready(function(){var pos=0;var t;$(window)
.on('blur',function(){if(!pos)pos=$('div.messages li').length;clearTimeout(t);})
.on('focus',function(){t=setTimeout(function(){pos=0;},10000);$('div.messages li').removeClass('history-starting-point').eq(pos).addClass('history-starting-point');});});})(jQuery);;(function($){window.convos=window.convos||{};convos.current=convos.current||{};convos.current.nicks={};var timeout=30*1000;var add=function(nick,fast){var markup='<li class="nick" data-nick="'+nick.toLowerCase()+'"><a href="cmd:///query '+nick+'">'+nick+'</a></li>';convos.current.nicks[nick]=true;$('form.sidebar ul').append(markup);if(!fast)sort();};var numberOfNicks=function(){return Object.keys(convos.current.nicks).length;};var remove=function(nick){delete convos.current.nicks[nick];$('form.sidebar a[href="cmd:///query '+nick+'"]').parent().remove();};var sort=function(){var $ul=$('form.sidebar ul');$ul.append($ul.find('li.nick').remove().get().sort(function(a,b){if(a.dataset.nick>b.dataset.nick)return 1;if(a.dataset.nick<b.dataset.nick)return-1;return 0;}));};convos.on('conversation-loaded',function($doc){convos.current.nicks={};$('form.sidebar ul li.participants span').text(0);});convos.on('nick-change',function($message){if($message.data('network')!=convos.current.network)return;var new_nick=$message.find('.nick').text();var old_nick=$message.find('.old').text();var re;if(old_nick==convos.current.nick){re=new RegExp('\\b'+old_nick+'\\b','i');convos.input.attr('placeholder',convos.input.attr('placeholder').replace(re,new_nick));convos.current.nick=new_nick;}
else if(convos.current.nicks[old_nick]){remove(old_nick);add(new_nick);}});convos.on('nick-joined',function($message){if(!$message.data('to_current'))return;add($message.get(0).dataset.nick);$('form.sidebar ul li.participants span').text(numberOfNicks());});convos.on('nick-kicked',function($message){if($message.data('network')!=convos.current.network)return;var nick=$message.data('nick');$message.data('to_current',!!$.grep(convos.nicks.list,function(n,i){return n==nick;}).length);remove(nick);updateNumberOfNicks();});convos.on('nick-list',function($message){if(!$message.data('to_current'))return;if(!numberOfNicks()&&$('.messages li.message').length>1)$message.data('to_current',false);$('form.sidebar ul li.nick.status').remove();$message.find('[data-nick]').each(function(){add(this.dataset.nick,true);});$('form.sidebar ul li.participants span').text(numberOfNicks());sort();});convos.on('nick-quit',function($message){if($message.data('network')!=convos.current.network)return;var nick=$message.get(0).dataset.nick;$message.data('to_current',!!$.grep(convos.current.nicks,function(n,i){return n==nick;}).length);remove(nick);$('form.sidebar ul li.participants span').text(numberOfNicks());});convos.on('nick-parted',function($message){if(!$message.data('to_current'))return;remove($message.get(0).dataset.nick);$('form.sidebar ul li.participants span').text(numberOfNicks());});})(jQuery);;(function($){window.convos=window.convos||{}
var addGoto=function($li,$g){var href=$li.find('a').attr('href');if(!href||location.href.match(new RegExp(href+'$')))return;$li.find('a').focus(function(){$g.find('a.active').removeClass('active');});$li.addClass('dynamic').get(0).filter_by=$.trim($li.text().toLowerCase());$g.find('li.add-dynamic-before-this').before($li);};$(document).ready(function(){var $g=$('form.goto-anything');if(navigator.is_touch_device)$g.find('input').hide();$g.find('li').each(function(){this.filter_by=$.trim($(this).find('a').text().toLowerCase());});$g.find('input').on('focus',function(){$g.find('a.active').removeClass('active');$g.find('a:first').addClass('active');}).on('keyup',function(e){var v=this.value.toLowerCase();var channel=convos.isChannel(v);var exact;$g.find('ul li').each(function(i){if(this.filter_by)this.style.display=this.filter_by.indexOf(v)==-1?'none':'block';if(!exact)exact=v==this.filter_by;});$g.find('ul li a').removeClass('active').filter(':visible:first').addClass('active');$g.find('li.create')[v.length&&!exact?'show':'hide']();$g.find('li.create').find('.description').text((channel?'Join channel "':'Chat with "')+v+'" on...');$g.find('li.create').find('button').text(channel?'Join':'Chat');});$g.on('submit',function(e){e.preventDefault();var $input=$(this).find('input');var $first=$(this).find('a:visible:first').click();var command=[convos.isChannel($input.val())?'/join':'/query',$input.val()].join(' ');if($first.length==0)convos.send(command,{'data-network':$g.find('li.create select').val()});$input.val('').keyup();});$g.on('show',function(e){var i=0;var networks=[];$g.find('li.dynamic').remove();$('nav ul.conversations li').slice(1).map(function(){var $li=$(this).clone();var network=$li.find('a').attr('data-network');networks.push(network);$li.find('a span').html($li.find('a span').text()+'<small> on '+network+'</small>');addGoto($li,$g);});$('form.sidebar li.nick').each(function(){var $li=$(this).clone();$li.find('a').html($li.find('a').text()+'<small> in '+convos.current.target+'</small>');addGoto($li,$g);});$.each(networks.unique(),function(){addGoto($('<li><a href="'+$.url_for(this)+'">'+this+' <small>server</small></a></li>'),$g);});});});})(jQuery);;(function($){window.convos=window.convos||{};window.link_embedder_text_gist_github_styled=1;convos.responsiveWidth=700;convos.at_bottom=true;convos.at_bottom_threshold=!!('ontouchstart' in window)?110:40;convos.current={};convos.isChannel=function(str){return str.match(/^[#&]/);};twttr.events.bind('rendered',function(e){var $p=$(e.target).closest('li');if($p.data('at_bottom'))$(window).scrollTo('bottom');});convos.on('channel-info',function(network,name,info){if(network!=convos.current.network)return;convos.current.channels=convos.current.channels||{};convos.current.channels[name]=info;if(convos.current.channels._timer)clearTimeout(convos.current.channels._timer);convos.current.channels._timer=setTimeout(function(){$('div.messages ul .channel-list input').keyup();},500);});convos.on('channel-list',function($message){var $dl=$message.find('dl');$('div.messages ul .channel-list').each(function(){if($message[0]!=this)$(this).remove();});$message.contents().each(function(){if(this.nodeType==8)convos.current.channels=jQuery.parseJSON(this.nodeValue);});$message.find('input').on('keyup',function(e){var re=new RegExp(this.value,'i');var names=[];var i=0;for(name in convos.current.channels){if(name.match(re))names.push(name);}
$dl.html('');$.each(names.sort(function(a,b){return a.length-b.length;}),function(){if(i++>10)return false;var data=convos.current.channels[this];$dl.append('<dt><a href="cmd:///join '+this+'">'+data.name+'</a> ('+data.visible+')</dt><dd title="'+data.title+'">'+(data.title||'No topic')+'</dd>');});if(!$dl.children().length)$dl.append('<dt>No matching channel names.</dt>');}).keyup().focus();$message.find('form').on('submit',function(e){e.preventDefault();var a=$dl.find('a')[0];if(a)a.click();});$message.on('addedToMessages',function(){$(this).height($(this).height()<140?$(this).height()*5:$(this).height());});$(window).scrollTo('bottom');});convos.on('help',function($message){$('div.messages ul .help').each(function(){if($message[0]!=this)$(this).remove();});});convos.goForwardInHistory=function(e){$(this).closest('li').remove();if(e)e.preventDefault();if(!convos.current.end_time)return;$.get(location.href.replace(/\?.*/,''),{from:convos.current.end_time},function(data){var $ul=$(data).find('ul[data-network]');var $li=$ul.children('li:gt(0)');$('body').removeClass('loading');if(!$li.length)return;convos.current.end_time=parseFloat($ul.data('end-time'));convos.current.state=$ul.attr('data-state');$li.addToMessages();});convos.current.end_time=0;$('body').addClass('loading');};convos.makeMessage=function(content){var $m=$('<li class="message" data-sender="convos"></li>');$m.append('<img class="avatar" src="'+$.url_for('/image/avatar-convos.png')+'">');$m.append('<h3>convos</h3>');$m.append('<div class="content">'+content+'</div>');return $m;};var firstTimeConnected=convos.on('idle',function(){if($('nav ul.conversations a[data-network="'+convos.current.network+'"]').length)return convos.unsubscribe('idle',firstTimeConnected);if(convos.current.state!='connected')return;convos.unsubscribe('idle',firstTimeConnected);console.log('firstTimeConnected');convos.makeMessage('Hi '+convos.current.nick+'. Welcome to '+convos.current.network+'.').addToMessages();convos.makeMessage('Already know what channel you want to talk in? Press shift+enter or click the list icon next to the bell in the top menu, enter the channel name and click "Join" to add it to your connection.').addToMessages();convos.makeMessage('Otherwise, please hold on while I try to fetch the server channel list for you. (It could take a while)').addToMessages();convos.makeMessage('While you wait, try the help command: Type <b>/help</b> in the input field at the bottom on the page and hit enter. You can also use the &lt;tab> key to get suggestions for commands and nicks.').addToMessages();convos.send('/list');$(window).scrollTo('bottom');});$.fn.addToMessages=function(func){return this.attachEventsToMessage().each(function(){var $message=$(this);var $messages=$('div.messages ul');var $same=$messages.children('li').not('.message-pending').eq(func=='prepend'?0:-1);var same_nick=$same.data('sender')||'';if($message.hasClass('message')&&$same.hasClass('message')&&same_nick==$message.data('sender')){(func=='prepend'?$same:$message).addClass('same-nick');}
if(!$message.hasClass('hidden')){$messages[func||'append']($message);}
$message.trigger('addedToMessages');});};$.fn.attachEventsToMessage=function(){this.find('a.internal').click(function(e){e.preventDefault();$.pjax.click(e,{container:'div.messages',fragment:'div.messages'});});this.find('a.autocomplete').click(function(e){var str=this.href.match(/.*complete:\/\/(.+)/);str=str?str[1]:$(this).text();if(str.indexOf('/')!=0&&convos.input.val().length==0)str+=':';if(convos.input.val().length)str=' '+str;e.preventDefault();convos.input.val(convos.input.val().replace(/\s+$/,'')+str+' ').focus();});this.find('a[href^="http"].external').each(function(e){var $a=$(this);$.get($.url_for('/oembed'),{url:this.href},function(embed_code){var $embed_code=$(embed_code);var at_bottom=convos.at_bottom;$a.closest('div').after($embed_code).closest('li').data('at_bottom',at_bottom);$embed_code.find('img').one('load',function(){if(at_bottom)$(window).scrollTo('bottom');});$embed_code.find('.text-gist-github').each(function(){var self=this;window[self.id]=function(g){self.innerHTML=g.div;if(at_bottom)$(window).scrollTo('bottom');};});if(at_bottom)$(window).scrollTo('bottom');});});this.find('[data-avatar^="http"]').each(function(e){$(this).replaceWith('<img src="'+$(this).attr('data-avatar')+'" class="avatar">');});this.find('a.go-forward-in-history').click(convos.goForwardInHistory);return this;};$.noCache=function(args){args._ts=new Date().getTime();return args;};$.fn.scrollTo=function(pos){if(pos==='bottom'){$(this).scrollTop($('body').height());}
else{$(this).scrollTop(pos);}
return this;};var focusFirst=function(){if(document.activeElement&&$(document.activeElement).is(':input'))return;if(convos.input.length)return convos.input.focus();$('form input[type="text"]:visible').eq(0).focus();};var goBackwardInHistory=function(){if(!convos.current.start_time)return;var $loading=$('<li class="message notice"><div class="content">Loading historic messages...</div></li>');$.get(location.href.replace(/\?.*/,''),{'last-read-time':convos.current.last_read_time,to:convos.current.start_time},function(data){var $ul=$(data).find('ul[data-network]');var $li=$ul.children('li:lt(-1)');var height_before_prepend=$('body').height();$loading.remove();if(!$li.length)return;convos.current.start_time=parseFloat($ul.data('start-time'));$($li.get().reverse()).addToMessages('prepend');$(window).scrollTop($('body').height()-height_before_prepend);});$loading.addToMessages('prepend');convos.current.start_time=0;};var initPjax=function(){$.pjax.defaults.maxCacheLength=0;$(document).on('pjax:timeout',function(e){e.preventDefault();});$(document).pjax('nav ul a','div.messages',{fragment:'div.messages'});$(document).pjax('.sidebar-right a','div.messages',{fragment:'div.messages'});$('div.messages').on('pjax:beforeReplace',function(xhr,options){$('body').removeClass('loading');});$('div.messages').on('pjax:beforeSend',function(xhr,options){return!$(this).hasClass('no-pjax');});$('div.messages').on('pjax:start',function(xhr,options){$('body').addClass('loading');});$('div.messages').on('pjax:success',function(e,data,status_text,xhr,options){var $doc=data.match(/<\w/)?$(data):$('body');var $messages=$('div.messages ul');convos.emit('conversation-loaded',$doc);convos.current.channels={};convos.current.end_time=parseFloat($messages.attr('data-end-time'));convos.current.start_time=parseFloat($messages.attr('data-start-time'));convos.current.last_read_time=parseFloat($messages.attr('data-last-read-time'));convos.current.nick=$messages.attr('data-nick')||'';convos.current.network=$messages.attr('data-network')||'';convos.current.state=$messages.attr('data-state');convos.current.target=$messages.attr('data-target')||'';convos.send(convos.isChannel(convos.current.target)?'/names':'');$messages.find('li').attachEventsToMessage();$doc.filter('form.sidebar').each(function(){$('form.sidebar').attr('action',this.action);$('form.sidebar ul').html($(this).find('ul:first').children());});$doc.filter('nav').each(function(){$('nav ul.conversations').html($(this).find('ul.conversations').children());});$('nav a.convos').attr('href',$.url_for($('nav a[data-network]:first').data('network')));if(location.href.indexOf('from=')>0){$messages.find('li:first').addClass('history-starting-point');goBackwardInHistory();}
if(convos.current.nick){convos.input.removeAttr('disabled');convos.input.attr('placeholder','What is on your mind, '+convos.current.nick+'?');}
else{convos.input.attr('disabled','disabled');convos.input.attr('placeholder','');}
if(!navigator.is_touch_device)focusFirst();if(data)$('body').hideSidebar();convos.at_bottom=true;$(window).resize();});};$(document).ready(function(){$.ajaxSetup({error:function(jqXHR,exception){console.log('ajax: '+this.url+' failed: '+exception);}});$.post($.url_for('/profile/timezone/offset'),{hour:new Date().getHours()});initPjax();$('body, input').bind('keydown','shift+return',function(e){e.preventDefault();if(document.activeElement&&$(document.activeElement).closest('.input').length)return $('nav a.goto-anything').trigger('tap');$(document).hideSidebar();convos.input.focus();});$('body, input').bind('keydown','alt+shift+a',function(e){e.preventDefault();$('nav a.goto-anything').trigger('tap');});$('body, input').bind('keydown','alt+shift+s',function(e){e.preventDefault();$('nav a.notifications').trigger('tap');});$('body, input').bind('keydown','alt+shift+d',function(e){e.preventDefault();$('nav a.sidebar').filter(':visible').trigger('tap');});if(navigator.is_ios){$('input, textarea')
.on('click focus',function(){$('body').addClass('ios-input-focus');$(window).scrollTo('bottom');})
.on('blur focusout',function(){$('body').removeClass('ios-input-focus');});}
$(window).on('resize',function(e){var menu_width=0;$('nav .right').add('nav ul.conversations a').each(function(){menu_width+=$(this).outerWidth();});$('nav a.goto-anything')[menu_width>$('body').outerWidth()?'addClass':'removeClass']('overlapping');if(convos.at_bottom)$(window).scrollTo('bottom');});$(window).on('scroll',function(e){convos.at_bottom=$(this).scrollTop()+$(this).height()>$('body').height()-convos.at_bottom_threshold;if($(window).scrollTop()==0)goBackwardInHistory();});$(document).click(function(e){var cmd=(e.target.href||'').match(/^cmd:\/\/(.*)/);if(!cmd)return;e.preventDefault();convos.send(decodeURI(cmd[1]));$('body').hideSidebar();});$('.notification-list').on('show',function(e){var $n=$('nav a.notifications b');if($n.text().length)$.post($.url_for('/chat/notifications/clear'));$n.text('');}).find('a').on('click',function(e){$(this).parent('.unread').removeClass('unread');})});$(window).load(function(){$('div.messages').trigger('pjax:success',['','success',{},{}]);if(!navigator.is_touch_device)focusFirst();});})(jQuery);