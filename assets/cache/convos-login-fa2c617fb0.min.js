(function(){Vue.component("convos-login",{props:["user"],data:function(){return{email:localStorage.getItem("email")||"",errors:[],password:""};},methods:{login:function(){var self=this;this.errors=[];localStorage.setItem("email",this.email);Convos.api.loginUser({body:{email:this.email,password:this.password}},function(err,xhr){if(err)return self.errors=err;self.user.refresh();});}},template:"<div class=\"convos-login\">\n    <div class=\"row not-logged-in-wrapper\">\n      <form @submit.prevent=\"login\" class=\"col s12 m6 offset-m3\">\n        <div class=\"row\">\n          <div class=\"col s12\">\n            <h2>Convos</h2>\n            <p><i>- Collaboration done right.</i></p>\n          </div>\n        </div>\n        <div class=\"row\">\n          <md-input :focus=\"!email\" :value.sync=\"email\" id=\"form_login_email\" type=\"email\">Email</md-input>\n        </div>\n        <div class=\"row\">\n          <md-input :focus=\"!!email\" :value.sync=\"password\" id=\"form_login_password\" type=\"password\">Password</md-input>\n        </div>\n        <div class=\"row\" v-if=\"errors.length\">\n          <div class=\"col s12\"><div class=\"alert\">{{errors[0].message}}</div></div>\n        </div>\n        <div class=\"row\">\n          <div class=\"col s12\">\n            <button class=\"btn waves-effect waves-light\" type=\"submit\">Log in</button>\n            <a @click.prevent=\"user.currentPage = &#39;convos-register&#39;\" class=\"btn-flat waves-effect waves-light\" href=\"#register\">Register</a>\n          </div>\n        </div>\n        <div class=\"row\">\n          <div class=\"col s12 about\">\n            Â© <a href=\"http://nordaaker.com\">{{settings.organization_name}}</a> - <a href=\"http://convos.by\">About</a>\n          </div>\n        </div>\n      </form>\n    </div>\n  </div>\n"})})();